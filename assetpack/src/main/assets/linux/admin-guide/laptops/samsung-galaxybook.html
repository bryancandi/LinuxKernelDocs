<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Samsung Galaxy Book Driver &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=a152c8ac" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Sony Notebook Control Driver (SNC) Readme" href="sony-laptop.html" />
    <link rel="prev" title="LG Gram laptop extra features" href="lg-laptop.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.15.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">All development-process docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../subsystem-apis.html">Subsystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rust/index.html">Rust</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Administration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#general-guides-to-kernel-administration">General guides to kernel administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#booting-the-kernel">Booting the kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#tracking-down-and-identifying-problems">Tracking down and identifying problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#core-kernel-subsystems">Core-kernel subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#block-layer-and-filesystem-administration">Block-layer and filesystem administration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#device-specific-guides">Device-specific guides</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../acpi/index.html">ACPI Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aoe/index.html">ATA over Ethernet (AoE)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auxdisplay/index.html">Auxiliary Display Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../braille-console.html">Linux Braille Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="../btmrvl.html">btmrvl driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dell_rbu.html">Dell Remote BIOS Update driver (dell_rbu)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../edid.html">EDID</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gpio/index.html">GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hw_random.html">Hardware random number generators</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Laptop Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lcd-panel-cgram.html">Parallel port LCD/Keypad Panel support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../media/index.html">Media subsystem admin and user guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nvme-multipath.html">Linux NVMe multipath</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parport.html">Parport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pnp.html">Linux Plug and Play Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rapidio.html">RapidIO Subsystem Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rtc.html">Real Time Clock (RTC) Drivers for Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../serial-console.html">Linux Serial Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="../svga.html">Video Mode Selection Support 2.13</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thermal/index.html">Thermal Subsystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../thunderbolt.html">USB4 and Thunderbolt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../vga-softcursor.html">Software cursor for VGA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../video-output.html">Video Output Switcher Control</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#workload-analysis">Workload analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#everything-else">Everything else</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">Userspace API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/admin-guide/laptops/samsung-galaxybook.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->


<section id="samsung-galaxy-book-driver">
<h1>Samsung Galaxy Book Driver<a class="headerlink" href="#samsung-galaxy-book-driver" title="Link to this heading">¶</a></h1>
<p>Joshua Grisham &lt;<a class="reference external" href="mailto:josh&#37;&#52;&#48;joshuagrisham&#46;com">josh<span>&#64;</span>joshuagrisham<span>&#46;</span>com</a>&gt;</p>
<p>This is a Linux x86 platform driver for Samsung Galaxy Book series notebook
devices which utilizes Samsung’s <code class="docutils literal notranslate"><span class="pre">SCAI</span></code> ACPI device in order to control
extra features and receive various notifications.</p>
<section id="supported-devices">
<h2>Supported devices<a class="headerlink" href="#supported-devices" title="Link to this heading">¶</a></h2>
<p>Any device with one of the supported ACPI device IDs should be supported. This
covers most of the “Samsung Galaxy Book” series notebooks that are currently
available as of this writing, and could include other Samsung notebook devices
as well.</p>
</section>
<section id="status">
<h2>Status<a class="headerlink" href="#status" title="Link to this heading">¶</a></h2>
<p>The following features are currently supported:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#keyboard-backlight"><span class="std std-ref">Keyboard backlight</span></a> control</p></li>
<li><p><a class="reference internal" href="#performance-mode"><span class="std std-ref">Performance mode</span></a> control implemented using the
platform profile interface</p></li>
<li><p><a class="reference internal" href="#battery-charge-control-end-threshold"><span class="std std-ref">Battery charge control end threshold</span></a> (stop charging battery at given
percentage value) implemented as a battery hook</p></li>
<li><p><a class="reference internal" href="#firmware-attributes"><span class="std std-ref">Firmware Attributes</span></a> to allow control of various
device settings</p></li>
<li><p><a class="reference internal" href="#keyboard-hotkey-actions"><span class="std std-ref">Handling of Fn hotkeys</span></a> for various actions</p></li>
<li><p><a class="reference internal" href="#acpi-notifications-and-hotkey-actions"><span class="std std-ref">Handling of ACPI notifications and hotkeys</span></a></p></li>
</ul>
<p>Because different models of these devices can vary in their features, there is
logic built within the driver which attempts to test each implemented feature
for a valid response before enabling its support (registering additional devices
or extensions, adding sysfs attributes, etc). Therefore, it can be important to
note that not all features may be supported for your particular device.</p>
<p>The following features might be possible to implement but will require
additional investigation and are therefore not supported at this time:</p>
<ul class="simple">
<li><p>“Dolby Atmos” mode for the speakers</p></li>
<li><p>“Outdoor Mode” for increasing screen brightness on models with <code class="docutils literal notranslate"><span class="pre">SAM0427</span></code></p></li>
<li><p>“Silent Mode” on models with <code class="docutils literal notranslate"><span class="pre">SAM0427</span></code></p></li>
</ul>
</section>
<section id="keyboard-backlight">
<span id="id1"></span><h2>Keyboard backlight<a class="headerlink" href="#keyboard-backlight" title="Link to this heading">¶</a></h2>
<p>A new LED class named <code class="docutils literal notranslate"><span class="pre">samsung-galaxybook::kbd_backlight</span></code> is created which
will then expose the device using the standard sysfs-based LED interface at
<code class="docutils literal notranslate"><span class="pre">/sys/class/leds/samsung-galaxybook::kbd_backlight</span></code>. Brightness can be
controlled by writing the desired value to the <code class="docutils literal notranslate"><span class="pre">brightness</span></code> sysfs attribute or
with any other desired userspace utility.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Most of these devices have an ambient light sensor which also turns
off the keyboard backlight under well-lit conditions. This behavior does not
seem possible to control at this time, but can be good to be aware of.</p>
</div>
</section>
<section id="performance-mode">
<span id="id2"></span><h2>Performance mode<a class="headerlink" href="#performance-mode" title="Link to this heading">¶</a></h2>
<p>This driver implements the
<a class="reference internal" href="../../userspace-api/sysfs-platform_profile.html"><span class="doc">Platform Profile Selection (e.g. /sys/firmware/acpi/platform_profile)</span></a> interface for working
with the “performance mode” function of the Samsung ACPI device.</p>
<p>Mapping of each Samsung “performance mode” to its respective platform profile is
performed dynamically by the driver, as not all models support all of the same
performance modes. Your device might have one or more of the following mappings:</p>
<ul class="simple">
<li><p>“Silent” maps to <code class="docutils literal notranslate"><span class="pre">low-power</span></code></p></li>
<li><p>“Quiet” maps to <code class="docutils literal notranslate"><span class="pre">quiet</span></code></p></li>
<li><p>“Optimized” maps to <code class="docutils literal notranslate"><span class="pre">balanced</span></code></p></li>
<li><p>“High performance” maps to <code class="docutils literal notranslate"><span class="pre">performance</span></code></p></li>
</ul>
<p>The result of the mapping can be printed in the kernel log when the module is
loaded. Supported profiles can also be retrieved from
<code class="docutils literal notranslate"><span class="pre">/sys/firmware/acpi/platform_profile_choices</span></code>, while
<code class="docutils literal notranslate"><span class="pre">/sys/firmware/acpi/platform_profile</span></code> can be used to read or write the
currently selected profile.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">balanced</span></code> platform profile will be set during module load if no profile
has been previously set.</p>
</section>
<section id="battery-charge-control-end-threshold">
<span id="id3"></span><h2>Battery charge control end threshold<a class="headerlink" href="#battery-charge-control-end-threshold" title="Link to this heading">¶</a></h2>
<p>This platform driver will add the ability to set the battery’s charge control
end threshold, but does not have the ability to set a start threshold.</p>
<p>This feature is typically called “Battery Saver” by the various Samsung
applications in Windows, but in Linux we have implemented the standardized
“charge control threshold” sysfs interface on the battery device to allow for
controlling this functionality from the userspace.</p>
<p>The sysfs attribute
<code class="docutils literal notranslate"><span class="pre">/sys/class/power_supply/BAT1/charge_control_end_threshold</span></code> can be used to
read or set the desired charge end threshold.</p>
<p>If you wish to maintain interoperability with the Samsung Settings application
in Windows, then you should set the value to 100 to represent “off”, or enable
the feature using only one of the following values: 50, 60, 70, 80, or 90.
Otherwise, the driver will accept any value between 1 and 100 as the percentage
that you wish the battery to stop charging at.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some devices have been observed as automatically “turning off” the charge
control end threshold if an input value of less than 30 is given.</p>
</div>
</section>
<section id="firmware-attributes">
<span id="id4"></span><h2>Firmware Attributes<a class="headerlink" href="#firmware-attributes" title="Link to this heading">¶</a></h2>
<p>The following enumeration-typed firmware attributes are set up by this driver
and should be accessible under
<code class="docutils literal notranslate"><span class="pre">/sys/class/firmware-attributes/samsung-galaxybook/attributes/</span></code> if your device
supports them:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">power_on_lid_open</span></code> (device should power on when the lid is opened)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">usb_charging</span></code>  (USB ports can deliver power to connected devices even when
the device is powered off or in a low sleep state)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">block_recording</span></code> (blocks access to camera and microphone)</p></li>
</ul>
<p>All of these attributes are simple boolean-like enumeration values which use 0
to represent “off” and 1 to represent “on”. Use the <code class="docutils literal notranslate"><span class="pre">current_value</span></code> attribute
to get or change the setting on the device.</p>
<p>Note that when <code class="docutils literal notranslate"><span class="pre">block_recording</span></code> is updated, the input device “Samsung Galaxy
Book Lens Cover” will receive a <code class="docutils literal notranslate"><span class="pre">SW_CAMERA_LENS_COVER</span></code> switch event which
reflects the current state.</p>
</section>
<section id="keyboard-hotkey-actions-i8042-filter">
<span id="keyboard-hotkey-actions"></span><h2>Keyboard hotkey actions (i8042 filter)<a class="headerlink" href="#keyboard-hotkey-actions-i8042-filter" title="Link to this heading">¶</a></h2>
<p>The i8042 filter will swallow the keyboard events for the Fn+F9 hotkey (Multi-
level keyboard backlight toggle) and Fn+F10 hotkey (Block recording toggle)
and instead execute their actions within the driver itself.</p>
<p>Fn+F9 will cycle through the brightness levels of the keyboard backlight. A
notification will be sent using <code class="docutils literal notranslate"><span class="pre">led_classdev_notify_brightness_hw_changed</span></code>
so that the userspace can be aware of the change. This mimics the behavior of
other existing devices where the brightness level is cycled internally by the
embedded controller and then reported via a notification.</p>
<p>Fn+F10 will toggle the value of the “block recording” setting, which blocks
or allows usage of the built-in camera and microphone (and generates the same
Lens Cover switch event mentioned above).</p>
</section>
<section id="acpi-notifications-and-hotkey-actions">
<span id="id5"></span><h2>ACPI notifications and hotkey actions<a class="headerlink" href="#acpi-notifications-and-hotkey-actions" title="Link to this heading">¶</a></h2>
<p>ACPI notifications will generate ACPI netlink events under the device class
<code class="docutils literal notranslate"><span class="pre">samsung-galaxybook</span></code> and bus ID matching the Samsung ACPI device ID found on
your device. The events can be received using userspace tools such as
<code class="docutils literal notranslate"><span class="pre">acpi_listen</span></code> and <code class="docutils literal notranslate"><span class="pre">acpid</span></code>.</p>
<p>The Fn+F11 Performance mode hotkey will be handled by the driver; each keypress
will cycle to the next available platform profile.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/admin-guide/laptops/samsung-galaxybook.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>