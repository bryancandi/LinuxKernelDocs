<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2.13.4. V4L2_META_FMT_RPI_BE_CFG &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=a152c8ac" />
    <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="2.13.5. V4L2_META_FMT_RPI_FE_CFG" href="metafmt-pisp-fe.html" />
    <link rel="prev" title="2.13.3. V4L2_META_FMT_IPU3_PARAMS (‘ip3p’), V4L2_META_FMT_IPU3_3A (‘ip3s’)" href="metafmt-intel-ipu3.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.15.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">All development-process docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../subsystem-apis.html">Subsystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rust/index.html">Rust</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Userspace API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#system-calls">System calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#security-related-interfaces">Security-related interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#devices-and-i-o">Devices and I/O</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../accelerators/ocxl.html">OpenCAPI (Open Coherent Accelerator Processor Interface)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dma-buf-heaps.html">Allocating dma-buf using heaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dma-buf-alloc-exchange.html">Exchanging pixel buffers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fwctl/index.html">Firmware Control (FWCTL) Userspace API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gpio/index.html">GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../iommufd.html">IOMMUFD</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Linux Media Infrastructure userspace API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dcdbas.html">Dell Systems Management Base Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vduse.html">VDUSE - “vDPA Device in Userspace”</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../isapnp.html">ISA Plug &amp; Play support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#everything-else">Everything else</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/userspace-api/media/v4l/metafmt-pisp-be.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->


<section id="v4l2-meta-fmt-rpi-be-cfg">
<span id="id1"></span><h1><span class="section-number">2.13.4. </span>V4L2_META_FMT_RPI_BE_CFG<a class="headerlink" href="#v4l2-meta-fmt-rpi-be-cfg" title="Link to this heading">¶</a></h1>
<section id="raspberry-pi-pisp-back-end-configuration-format">
<h2><span class="section-number">2.13.4.1. </span>Raspberry Pi PiSP Back End configuration format<a class="headerlink" href="#raspberry-pi-pisp-back-end-configuration-format" title="Link to this heading">¶</a></h2>
<p>The Raspberry Pi PiSP Back End memory-to-memory image signal processor is
configured by userspace by providing a buffer of configuration parameters
to the <cite>pispbe-config</cite> output video device node using the
<a class="reference internal" href="dev-meta.html#c.v4l2_meta_format" title="v4l2_meta_format"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_meta_format</span></code></a> interface.</p>
<p>The PiSP Back End processes images in tiles, and its configuration requires
specifying two different sets of parameters by populating the members of
<a class="reference internal" href="#c.pisp_be_tiles_config" title="pisp_be_tiles_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">pisp_be_tiles_config</span></code></a> defined in the <code class="docutils literal notranslate"><span class="pre">pisp_be_config.h</span></code> header file.</p>
<p>The <a class="reference external" href="https://datasheets.raspberrypi.com/camera/raspberry-pi-image-signal-processor-specification.pdf">Raspberry Pi PiSP technical specification</a>
provide detailed description of the ISP back end configuration and programming
model.</p>
<section id="global-configuration-data">
<h3><span class="section-number">2.13.4.1.1. </span>Global configuration data<a class="headerlink" href="#global-configuration-data" title="Link to this heading">¶</a></h3>
<p>The global configuration data describe how the pixels in a particular image are
to be processed and is therefore shared across all the tiles of the image. So
for example, LSC (Lens Shading Correction) or Denoise parameters would be common
across all tiles from the same frame.</p>
<p>Global configuration data are passed to the ISP by populating the member of
<a class="reference internal" href="#c.pisp_be_config" title="pisp_be_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">pisp_be_config</span></code></a>.</p>
</section>
<section id="tile-parameters">
<h3><span class="section-number">2.13.4.1.2. </span>Tile parameters<a class="headerlink" href="#tile-parameters" title="Link to this heading">¶</a></h3>
<p>As the ISP processes images in tiles, each set of tiles parameters describe how
a single tile in an image is going to be processed. A single set of tile
parameters consist of 160 bytes of data and to process a batch of tiles several
sets of tiles parameters are required.</p>
<p>Tiles parameters are passed to the ISP by populating the member of
<code class="docutils literal notranslate"><span class="pre">pisp_tile</span></code> and the <code class="docutils literal notranslate"><span class="pre">num_tiles</span></code> fields of <a class="reference internal" href="#c.pisp_be_tiles_config" title="pisp_be_tiles_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">pisp_be_tiles_config</span></code></a>.</p>
</section>
</section>
<section id="raspberry-pi-pisp-back-end-uapi-data-types">
<h2><span class="section-number">2.13.4.2. </span>Raspberry Pi PiSP Back End uAPI data types<a class="headerlink" href="#raspberry-pi-pisp-back-end-uapi-data-types" title="Link to this heading">¶</a></h2>
<p>This section describes the data types exposed to userspace by the Raspberry Pi
PiSP Back End. The section is informative only, for a detailed description of
each field refer to the <a class="reference external" href="https://datasheets.raspberrypi.com/camera/raspberry-pi-image-signal-processor-specification.pdf">Raspberry Pi PiSP technical specification</a>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_global_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_global_config</span></span></span><a class="headerlink" href="#c.pisp_be_global_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP global enable bitmaps</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_global_config {
    __u32 bayer_enables;
    __u32 rgb_enables;
    __u8 bayer_order;
    __u8 pad[3];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">bayer_enables</span></code></dt><dd><p>Bayer input enable flags</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rgb_enables</span></code></dt><dd><p>RGB output enable flags</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bayer_order</span></code></dt><dd><p>Bayer input format ordering</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding bytes</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_input_buffer_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_input_buffer_config</span></span></span><a class="headerlink" href="#c.pisp_be_input_buffer_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End input buffer</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_input_buffer_config {
    __u32 addr[3][2];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">addr</span></code></dt><dd><p>Input buffer address</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_dpc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_dpc_config</span></span></span><a class="headerlink" href="#c.pisp_be_dpc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End DPC config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_dpc_config {
    __u8 coeff_level;
    __u8 coeff_range;
    __u8 pad;
#define PISP_BE_DPC_FLAG_FOLDBACK 1;
    __u8 flags;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">coeff_level</span></code></dt><dd><p>Coefficient for the darkest neighbouring pixel value</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coeff_range</span></code></dt><dd><p>Coefficient for the range of pixels for this Bayer channel</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">flags</span></code></dt><dd><p>DPC configuration flags</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Defective Pixel Correction configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_geq_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_geq_config</span></span></span><a class="headerlink" href="#c.pisp_be_geq_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End GEQ config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_geq_config {
    __u16 offset;
#define PISP_BE_GEQ_SHARPER (1U &lt;&lt; 15);
#define PISP_BE_GEQ_SLOPE ((1 &lt;&lt; 10) - 1);
    __u16 slope_sharper;
    __u16 min;
    __u16 max;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">offset</span></code></dt><dd><p>Offset value for threshold calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">slope_sharper</span></code></dt><dd><p>Slope/Sharper configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">min</span></code></dt><dd><p>Minimum value the threshold may have</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max</span></code></dt><dd><p>Maximum value the threshold may have</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Green Equalisation configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_tdn_input_buffer_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_tdn_input_buffer_config</span></span></span><a class="headerlink" href="#c.pisp_be_tdn_input_buffer_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End TDN input buffer</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_tdn_input_buffer_config {
    __u32 addr[2];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">addr</span></code></dt><dd><p>TDN input buffer address</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_tdn_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_tdn_config</span></span></span><a class="headerlink" href="#c.pisp_be_tdn_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End TDN config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_tdn_config {
    __u16 black_level;
    __u16 ratio;
    __u16 noise_constant;
    __u16 noise_slope;
    __u16 threshold;
    __u8 reset;
    __u8 pad;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">black_level</span></code></dt><dd><p>Black level value subtracted from pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ratio</span></code></dt><dd><p>Multiplier for the LTA input frame</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noise_constant</span></code></dt><dd><p>Constant offset value used in noise estimation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noise_slope</span></code></dt><dd><p>Noise estimation multiplier</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold</span></code></dt><dd><p>Threshold for TDN operations</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset</span></code></dt><dd><p>Disable TDN operations</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding byte</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Temporal Denoise configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_tdn_output_buffer_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_tdn_output_buffer_config</span></span></span><a class="headerlink" href="#c.pisp_be_tdn_output_buffer_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End TDN output buffer</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_tdn_output_buffer_config {
    __u32 addr[2];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">addr</span></code></dt><dd><p>TDN output buffer address</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_sdn_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_sdn_config</span></span></span><a class="headerlink" href="#c.pisp_be_sdn_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End SDN config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_sdn_config {
    __u16 black_level;
    __u8 leakage;
    __u8 pad;
    __u16 noise_constant;
    __u16 noise_slope;
    __u16 noise_constant2;
    __u16 noise_slope2;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">black_level</span></code></dt><dd><p>Black level subtracted from pixel for noise estimation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">leakage</span></code></dt><dd><p>Proportion of the original undenoised value to mix in
denoised output</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noise_constant</span></code></dt><dd><p>Noise constant used for noise estimation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noise_slope</span></code></dt><dd><p>Noise slope value used for noise estimation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noise_constant2</span></code></dt><dd><p>Second noise constant used for noise estimation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noise_slope2</span></code></dt><dd><p>Second slope value used for noise estimation</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Spatial Denoise configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_stitch_input_buffer_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_stitch_input_buffer_config</span></span></span><a class="headerlink" href="#c.pisp_be_stitch_input_buffer_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Stitch input</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_stitch_input_buffer_config {
    __u32 addr[2];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">addr</span></code></dt><dd><p>Stitch input buffer address</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_stitch_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_stitch_config</span></span></span><a class="headerlink" href="#c.pisp_be_stitch_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Stitch config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_stitch_config {
    __u16 threshold_lo;
    __u8 threshold_diff_power;
    __u8 pad;
    __u16 exposure_ratio;
    __u8 motion_threshold_256;
    __u8 motion_threshold_recip;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">threshold_lo</span></code></dt><dd><p>Low threshold value</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_diff_power</span></code></dt><dd><p>Low and high threshold difference</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding bytes</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">exposure_ratio</span></code></dt><dd><p>Multiplier to convert long exposure pixels into
short exposure pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">motion_threshold_256</span></code></dt><dd><p>Motion threshold above which short exposure
pixels are used</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">motion_threshold_recip</span></code></dt><dd><p>Reciprocal of motion_threshold_256 value</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Stitch block configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_stitch_output_buffer_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_stitch_output_buffer_config</span></span></span><a class="headerlink" href="#c.pisp_be_stitch_output_buffer_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Stitch output</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_stitch_output_buffer_config {
    __u32 addr[2];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">addr</span></code></dt><dd><p>Stitch input buffer address</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_cdn_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_cdn_config</span></span></span><a class="headerlink" href="#c.pisp_be_cdn_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End CDN config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_cdn_config {
    __u16 thresh;
    __u8 iir_strength;
    __u8 g_adjust;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">thresh</span></code></dt><dd><p>Constant for noise estimation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">iir_strength</span></code></dt><dd><p>Relative strength of the IIR part of the filter</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">g_adjust</span></code></dt><dd><p>Proportion of the change assigned to the G channel</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Colour Denoise configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_lsc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_lsc_config</span></span></span><a class="headerlink" href="#c.pisp_be_lsc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End LSC config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_lsc_config {
    __u16 grid_step_x;
    __u16 grid_step_y;
#define PISP_BE_LSC_LUT_SIZE    (PISP_BE_LSC_GRID_SIZE + 1);
    __u32 lut_packed[PISP_BE_LSC_LUT_SIZE][PISP_BE_LSC_LUT_SIZE];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">grid_step_x</span></code></dt><dd><p>Reciprocal of cell size width</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">grid_step_y</span></code></dt><dd><p>Reciprocal of cell size height</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lut_packed</span></code></dt><dd><p>Jointly-coded RGB gains for each LSC grid</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Lens Shading Correction configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_lsc_extra">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_lsc_extra</span></span></span><a class="headerlink" href="#c.pisp_be_lsc_extra" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End LSC Extra config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_lsc_extra {
    __u16 offset_x;
    __u16 offset_y;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">offset_x</span></code></dt><dd><p>Horizontal offset into the LSC table of this tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">offset_y</span></code></dt><dd><p>Vertical offset into the LSC table of this tile</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_cac_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_cac_config</span></span></span><a class="headerlink" href="#c.pisp_be_cac_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End CAC config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_cac_config {
    __u16 grid_step_x;
    __u16 grid_step_y;
#define PISP_BE_CAC_LUT_SIZE            (PISP_BE_CAC_GRID_SIZE + 1);
    __s8 lut[PISP_BE_CAC_LUT_SIZE][PISP_BE_CAC_LUT_SIZE][2][2];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">grid_step_x</span></code></dt><dd><p>Reciprocal of cell size width</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">grid_step_y</span></code></dt><dd><p>Reciprocal of cell size height</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lut</span></code></dt><dd><p>Pixel shift for the CAC grid</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Chromatic Aberration Correction config</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_cac_extra">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_cac_extra</span></span></span><a class="headerlink" href="#c.pisp_be_cac_extra" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End CAC extra config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_cac_extra {
    __u16 offset_x;
    __u16 offset_y;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">offset_x</span></code></dt><dd><p>Horizontal offset into the CAC table of this tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">offset_y</span></code></dt><dd><p>Horizontal offset into the CAC table of this tile</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_debin_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_debin_config</span></span></span><a class="headerlink" href="#c.pisp_be_debin_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Debin config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_debin_config {
    __s8 coeffs[PISP_BE_DEBIN_NUM_COEFFS];
    __s8 h_enable;
    __s8 v_enable;
    __s8 pad[2];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">coeffs</span></code></dt><dd><p>Filter coefficients for debinning</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">h_enable</span></code></dt><dd><p>Horizontal debinning enable</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">v_enable</span></code></dt><dd><p>Vertical debinning enable</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding bytes</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Debinning configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_tonemap_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_tonemap_config</span></span></span><a class="headerlink" href="#c.pisp_be_tonemap_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Tonemap config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_tonemap_config {
    __u16 detail_constant;
    __u16 detail_slope;
    __u16 iir_strength;
    __u16 strength;
    __u32 lut[PISP_BE_TONEMAP_LUT_SIZE];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">detail_constant</span></code></dt><dd><p>Constant value for threshold calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">detail_slope</span></code></dt><dd><p>Slope value for threshold calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">iir_strength</span></code></dt><dd><p>Relative strength of the IIR fiter</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">strength</span></code></dt><dd><p>Strength factor</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lut</span></code></dt><dd><p>Look-up table for tonemap curve</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Tonemapping configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_demosaic_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_demosaic_config</span></span></span><a class="headerlink" href="#c.pisp_be_demosaic_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Demosaic config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_demosaic_config {
    __u8 sharper;
    __u8 fc_mode;
    __u8 pad[2];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">sharper</span></code></dt><dd><p>Use other Bayer channels to increase sharpness</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fc_mode</span></code></dt><dd><p>Built-in false colour suppression mode</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding bytes</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Demosaic configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_ccm_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_ccm_config</span></span></span><a class="headerlink" href="#c.pisp_be_ccm_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End CCM config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_ccm_config {
    __s16 coeffs[9];
    __u8 pad[2];
    __s32 offsets[3];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">coeffs</span></code></dt><dd><p>Matrix coefficients</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding bytes</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">offsets</span></code></dt><dd><p>Offsets triplet</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Colour Correction Matrix configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_sat_control_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_sat_control_config</span></span></span><a class="headerlink" href="#c.pisp_be_sat_control_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End SAT config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_sat_control_config {
    __u8 shift_r;
    __u8 shift_g;
    __u8 shift_b;
    __u8 pad;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">shift_r</span></code></dt><dd><p>Left shift for Red colour channel</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">shift_g</span></code></dt><dd><p>Left shift for Green colour channel</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">shift_b</span></code></dt><dd><p>Left shift for Blue colour channel</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding byte</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Saturation Control configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_false_colour_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_false_colour_config</span></span></span><a class="headerlink" href="#c.pisp_be_false_colour_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End False Colour config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_false_colour_config {
    __u8 distance;
    __u8 pad[3];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">distance</span></code></dt><dd><p>Distance of neighbouring pixels, either 1 or 2</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding bytes</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>False Colour configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_sharpen_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_sharpen_config</span></span></span><a class="headerlink" href="#c.pisp_be_sharpen_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Sharpening config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_sharpen_config {
    __s8 kernel0[PISP_BE_SHARPEN_SIZE * PISP_BE_SHARPEN_SIZE];
    __s8 pad0[3];
    __s8 kernel1[PISP_BE_SHARPEN_SIZE * PISP_BE_SHARPEN_SIZE];
    __s8 pad1[3];
    __s8 kernel2[PISP_BE_SHARPEN_SIZE * PISP_BE_SHARPEN_SIZE];
    __s8 pad2[3];
    __s8 kernel3[PISP_BE_SHARPEN_SIZE * PISP_BE_SHARPEN_SIZE];
    __s8 pad3[3];
    __s8 kernel4[PISP_BE_SHARPEN_SIZE * PISP_BE_SHARPEN_SIZE];
    __s8 pad4[3];
    __u16 threshold_offset0;
    __u16 threshold_slope0;
    __u16 scale0;
    __u16 pad5;
    __u16 threshold_offset1;
    __u16 threshold_slope1;
    __u16 scale1;
    __u16 pad6;
    __u16 threshold_offset2;
    __u16 threshold_slope2;
    __u16 scale2;
    __u16 pad7;
    __u16 threshold_offset3;
    __u16 threshold_slope3;
    __u16 scale3;
    __u16 pad8;
    __u16 threshold_offset4;
    __u16 threshold_slope4;
    __u16 scale4;
    __u16 pad9;
    __u16 positive_strength;
    __u16 positive_pre_limit;
    __u16 positive_func[PISP_BE_SHARPEN_FUNC_NUM_POINTS];
    __u16 positive_limit;
    __u16 negative_strength;
    __u16 negative_pre_limit;
    __u16 negative_func[PISP_BE_SHARPEN_FUNC_NUM_POINTS];
    __u16 negative_limit;
    __u8 enables;
    __u8 white;
    __u8 black;
    __u8 grey;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">kernel0</span></code></dt><dd><p>Coefficient for filter 0</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad0</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kernel1</span></code></dt><dd><p>Coefficient for filter 1</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad1</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kernel2</span></code></dt><dd><p>Coefficient for filter 2</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad2</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kernel3</span></code></dt><dd><p>Coefficient for filter 3</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad3</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">kernel4</span></code></dt><dd><p>Coefficient for filter 4</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad4</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_offset0</span></code></dt><dd><p>Offset for filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_slope0</span></code></dt><dd><p>Slope multiplier for the filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale0</span></code></dt><dd><p>Scale factor for filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad5</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_offset1</span></code></dt><dd><p>Offset for filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_slope1</span></code></dt><dd><p>Slope multiplier for the filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale1</span></code></dt><dd><p>Scale factor for filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad6</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_offset2</span></code></dt><dd><p>Offset for filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_slope2</span></code></dt><dd><p>Slope multiplier for the filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale2</span></code></dt><dd><p>Scale factor for filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad7</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_offset3</span></code></dt><dd><p>Offset for filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_slope3</span></code></dt><dd><p>Slope multiplier for the filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale3</span></code></dt><dd><p>Scale factor for filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad8</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_offset4</span></code></dt><dd><p>Offset for filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">threshold_slope4</span></code></dt><dd><p>Slope multiplier for the filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale4</span></code></dt><dd><p>Scale factor for filter 0 response calculation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad9</span></code></dt><dd><p>Padding byte</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">positive_strength</span></code></dt><dd><p>Factor to scale the positive sharpening strength</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">positive_pre_limit</span></code></dt><dd><p>Maximum allowed possible positive sharpening value</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">positive_func</span></code></dt><dd><p>Gain factor applied to positive sharpening response</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">positive_limit</span></code></dt><dd><p>Final gain factor applied to positive sharpening</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">negative_strength</span></code></dt><dd><p>Factor to scale the negative sharpening strength</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">negative_pre_limit</span></code></dt><dd><p>Maximum allowed possible negative sharpening value</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">negative_func</span></code></dt><dd><p>Gain factor applied to negative sharpening response</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">negative_limit</span></code></dt><dd><p>Final gain factor applied to negative sharpening</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enables</span></code></dt><dd><p>Filter enable mask</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">white</span></code></dt><dd><p>White output pixel filter mask</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">black</span></code></dt><dd><p>Black output pixel filter mask</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">grey</span></code></dt><dd><p>Grey output pixel filter mask</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Sharpening configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_sh_fc_combine_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_sh_fc_combine_config</span></span></span><a class="headerlink" href="#c.pisp_be_sh_fc_combine_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Sharpening and False Colour config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_sh_fc_combine_config {
    __u8 y_factor;
    __u8 c1_factor;
    __u8 c2_factor;
    __u8 pad;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">y_factor</span></code></dt><dd><p>Control amount of desaturation of pixels being darkened</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c1_factor</span></code></dt><dd><p>Control amount of brightening of a pixel for the Cb
channel</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">c2_factor</span></code></dt><dd><p>Control amount of brightening of a pixel for the Cr
channel</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad</span></code></dt><dd><p>Padding byte</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Sharpening and False Colour configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_gamma_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_gamma_config</span></span></span><a class="headerlink" href="#c.pisp_be_gamma_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Gamma configuration</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_gamma_config {
    __u32 lut[PISP_BE_GAMMA_LUT_SIZE];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">lut</span></code></dt><dd><p>Gamma curve look-up table</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_crop_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_crop_config</span></span></span><a class="headerlink" href="#c.pisp_be_crop_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Crop config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_crop_config {
    __u16 offset_x, offset_y;
    __u16 width, height;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">offset_x</span></code></dt><dd><p>Number of pixels cropped from the left of the tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">offset_y</span></code></dt><dd><p>Number of pixels cropped from the top of the tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">width</span></code></dt><dd><p>Width of the cropped tile output</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">height</span></code></dt><dd><p>Height of the cropped tile output</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Crop configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_resample_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_resample_config</span></span></span><a class="headerlink" href="#c.pisp_be_resample_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Resampling config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_resample_config {
    __u16 scale_factor_h, scale_factor_v;
    __s16 coef[PISP_BE_RESAMPLE_FILTER_SIZE];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">scale_factor_h</span></code></dt><dd><p>Horizontal scale factor</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale_factor_v</span></code></dt><dd><p>Vertical scale factor</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">coef</span></code></dt><dd><p>Resample coefficients</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Resample configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_resample_extra">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_resample_extra</span></span></span><a class="headerlink" href="#c.pisp_be_resample_extra" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Resample config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_resample_extra {
    __u16 scaled_width;
    __u16 scaled_height;
    __s16 initial_phase_h[3];
    __s16 initial_phase_v[3];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">scaled_width</span></code></dt><dd><p>Width in pixels of the scaled output</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scaled_height</span></code></dt><dd><p>Height in pixels of the scaled output</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">initial_phase_h</span></code></dt><dd><p>Initial horizontal phase</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">initial_phase_v</span></code></dt><dd><p>Initial vertical phase</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Resample configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_downscale_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_downscale_config</span></span></span><a class="headerlink" href="#c.pisp_be_downscale_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Downscale config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_downscale_config {
    __u16 scale_factor_h;
    __u16 scale_factor_v;
    __u16 scale_recip_h;
    __u16 scale_recip_v;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">scale_factor_h</span></code></dt><dd><p>Horizontal scale factor</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale_factor_v</span></code></dt><dd><p>Vertical scale factor</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale_recip_h</span></code></dt><dd><p>Horizontal reciprocal factor</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale_recip_v</span></code></dt><dd><p>Vertical reciprocal factor</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Downscale configuration</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_downscale_extra">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_downscale_extra</span></span></span><a class="headerlink" href="#c.pisp_be_downscale_extra" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Downscale Extra config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_downscale_extra {
    __u16 scaled_width;
    __u16 scaled_height;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">scaled_width</span></code></dt><dd><p>Scaled image width</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scaled_height</span></code></dt><dd><p>Scaled image height</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_hog_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_hog_config</span></span></span><a class="headerlink" href="#c.pisp_be_hog_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End HOG config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_hog_config {
    __u8 compute_signed;
    __u8 channel_mix[3];
    __u32 stride;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">compute_signed</span></code></dt><dd><p>Set 0 for unsigned gradients, 1 for signed</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">channel_mix</span></code></dt><dd><p>Channels proportions to use</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stride</span></code></dt><dd><p>Stride in bytes between blocks directly below</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Histogram of Oriented Gradients configuration</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.pisp_be_transform">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_transform</span></span></span><a class="headerlink" href="#c.pisp_be_transform" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Transform flags</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">PISP_BE_TRANSFORM_NONE</span></code></dt><dd><p>No transform</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PISP_BE_TRANSFORM_HFLIP</span></code></dt><dd><p>Horizontal flip</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PISP_BE_TRANSFORM_VFLIP</span></code></dt><dd><p>Vertical flip</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PISP_BE_TRANSFORM_ROT180</span></code></dt><dd><p>180 degress rotation</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_output_buffer_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_output_buffer_config</span></span></span><a class="headerlink" href="#c.pisp_be_output_buffer_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Output buffer</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_output_buffer_config {
    __u32 addr[3][2];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">addr</span></code></dt><dd><p>Output buffer address</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_hog_buffer_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_hog_buffer_config</span></span></span><a class="headerlink" href="#c.pisp_be_hog_buffer_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End HOG buffer</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_hog_buffer_config {
    __u32 addr[2];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">addr</span></code></dt><dd><p>HOG buffer address</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_config</span></span></span><a class="headerlink" href="#c.pisp_be_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RaspberryPi PiSP Back End Processing configuration</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_config {
    struct pisp_be_input_buffer_config input_buffer;
    struct pisp_be_tdn_input_buffer_config tdn_input_buffer;
    struct pisp_be_stitch_input_buffer_config stitch_input_buffer;
    struct pisp_be_tdn_output_buffer_config tdn_output_buffer;
    struct pisp_be_stitch_output_buffer_config stitch_output_buffer;
    struct pisp_be_output_buffer_config output_buffer[PISP_BACK_END_NUM_OUTPUTS];
    struct pisp_be_hog_buffer_config hog_buffer;
    struct pisp_be_global_config global;
    struct pisp_image_format_config input_format;
    struct pisp_decompress_config decompress;
    struct pisp_be_dpc_config dpc;
    struct pisp_be_geq_config geq;
    struct pisp_image_format_config tdn_input_format;
    struct pisp_decompress_config tdn_decompress;
    struct pisp_be_tdn_config tdn;
    struct pisp_compress_config tdn_compress;
    struct pisp_image_format_config tdn_output_format;
    struct pisp_be_sdn_config sdn;
    struct pisp_bla_config blc;
    struct pisp_compress_config stitch_compress;
    struct pisp_image_format_config stitch_output_format;
    struct pisp_image_format_config stitch_input_format;
    struct pisp_decompress_config stitch_decompress;
    struct pisp_be_stitch_config stitch;
    struct pisp_be_lsc_config lsc;
    struct pisp_wbg_config wbg;
    struct pisp_be_cdn_config cdn;
    struct pisp_be_cac_config cac;
    struct pisp_be_debin_config debin;
    struct pisp_be_tonemap_config tonemap;
    struct pisp_be_demosaic_config demosaic;
    struct pisp_be_ccm_config ccm;
    struct pisp_be_sat_control_config sat_control;
    struct pisp_be_ccm_config ycbcr;
    struct pisp_be_sharpen_config sharpen;
    struct pisp_be_false_colour_config false_colour;
    struct pisp_be_sh_fc_combine_config sh_fc_combine;
    struct pisp_be_ccm_config ycbcr_inverse;
    struct pisp_be_gamma_config gamma;
    struct pisp_be_ccm_config csc[PISP_BACK_END_NUM_OUTPUTS];
    struct pisp_be_downscale_config downscale[PISP_BACK_END_NUM_OUTPUTS];
    struct pisp_be_resample_config resample[PISP_BACK_END_NUM_OUTPUTS];
    struct pisp_be_output_format_config output_format[PISP_BACK_END_NUM_OUTPUTS];
    struct pisp_be_hog_config hog;
    struct pisp_be_axi_config axi;
    struct pisp_be_lsc_extra lsc_extra;
    struct pisp_be_cac_extra cac_extra;
    struct pisp_be_downscale_extra downscale_extra[PISP_BACK_END_NUM_OUTPUTS];
    struct pisp_be_resample_extra resample_extra[PISP_BACK_END_NUM_OUTPUTS];
    struct pisp_be_crop_config crop;
    struct pisp_image_format_config hog_format;
    __u32 dirty_flags_bayer;
    __u32 dirty_flags_rgb;
    __u32 dirty_flags_extra;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">input_buffer</span></code></dt><dd><p>Input buffer addresses</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tdn_input_buffer</span></code></dt><dd><p>TDN input buffer addresses</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stitch_input_buffer</span></code></dt><dd><p>Stitch input buffer addresses</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tdn_output_buffer</span></code></dt><dd><p>TDN output buffer addresses</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stitch_output_buffer</span></code></dt><dd><p>Stitch output buffer addresses</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_buffer</span></code></dt><dd><p>Output buffers addresses</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hog_buffer</span></code></dt><dd><p>HOG buffer addresses</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">global</span></code></dt><dd><p>Global PiSP configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">input_format</span></code></dt><dd><p>Input image format</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">decompress</span></code></dt><dd><p>Decompress configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dpc</span></code></dt><dd><p>Defective Pixel Correction configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">geq</span></code></dt><dd><p>Green Equalisation configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tdn_input_format</span></code></dt><dd><p>Temporal Denoise input format</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tdn_decompress</span></code></dt><dd><p>Temporal Denoise decompress configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tdn</span></code></dt><dd><p>Temporal Denoise configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tdn_compress</span></code></dt><dd><p>Temporal Denoise compress configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tdn_output_format</span></code></dt><dd><p>Temporal Denoise output format</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sdn</span></code></dt><dd><p>Spatial Denoise configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">blc</span></code></dt><dd><p>Black Level Correction configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stitch_compress</span></code></dt><dd><p>Stitch compress configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stitch_output_format</span></code></dt><dd><p>Stitch output format</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stitch_input_format</span></code></dt><dd><p>Stitch input format</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stitch_decompress</span></code></dt><dd><p>Stitch decompress configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stitch</span></code></dt><dd><p>Stitch configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lsc</span></code></dt><dd><p>Lens Shading Correction configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">wbg</span></code></dt><dd><p>White Balance Gain configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cdn</span></code></dt><dd><p>Colour Denoise configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cac</span></code></dt><dd><p>Colour Aberration Correction configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">debin</span></code></dt><dd><p>Debinning configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tonemap</span></code></dt><dd><p>Tonemapping configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">demosaic</span></code></dt><dd><p>Demosaicing configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ccm</span></code></dt><dd><p>Colour Correction Matrix configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sat_control</span></code></dt><dd><p>Saturation Control configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ycbcr</span></code></dt><dd><p>YCbCr colour correction configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sharpen</span></code></dt><dd><p>Sharpening configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">false_colour</span></code></dt><dd><p>False colour correction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sh_fc_combine</span></code></dt><dd><p>Sharpening and False Colour correction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ycbcr_inverse</span></code></dt><dd><p>Inverse YCbCr colour correction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gamma</span></code></dt><dd><p>Gamma curve configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">csc</span></code></dt><dd><p>Color Space Conversion configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">downscale</span></code></dt><dd><p>Downscale configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">resample</span></code></dt><dd><p>Resampling configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_format</span></code></dt><dd><p>Output format configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hog</span></code></dt><dd><p>HOG configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">axi</span></code></dt><dd><p>AXI bus configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lsc_extra</span></code></dt><dd><p>LSC extra info</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cac_extra</span></code></dt><dd><p>CAC extra info</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">downscale_extra</span></code></dt><dd><p>Downscaler extra info</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">resample_extra</span></code></dt><dd><p>Resample extra info</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">crop</span></code></dt><dd><p>Crop configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hog_format</span></code></dt><dd><p>HOG format info</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dirty_flags_bayer</span></code></dt><dd><p>Bayer enable dirty flags
(<code class="xref c c-type docutils literal notranslate"><span class="pre">pisp_be_bayer_enable</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dirty_flags_rgb</span></code></dt><dd><p>RGB enable dirty flags
(<code class="xref c c-type docutils literal notranslate"><span class="pre">pisp_be_rgb_enable</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dirty_flags_extra</span></code></dt><dd><p>Extra dirty flags</p>
</dd>
</dl>
</div>
<dl class="c enum">
<dt class="sig sig-object c" id="c.pisp_tile_edge">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_tile_edge</span></span></span><a class="headerlink" href="#c.pisp_tile_edge" title="Link to this definition">¶</a><br /></dt>
<dd><p>PiSP Back End Tile position</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">PISP_LEFT_EDGE</span></code></dt><dd><p>Left edge tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PISP_RIGHT_EDGE</span></code></dt><dd><p>Right edge tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PISP_TOP_EDGE</span></code></dt><dd><p>Top edge tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">PISP_BOTTOM_EDGE</span></code></dt><dd><p>Bottom edge tile</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_tile">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_tile</span></span></span><a class="headerlink" href="#c.pisp_tile" title="Link to this definition">¶</a><br /></dt>
<dd><p>Raspberry Pi PiSP Back End tile configuration</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_tile {
    __u8 edge;
    __u8 pad0[3];
    __u32 input_addr_offset;
    __u32 input_addr_offset2;
    __u16 input_offset_x;
    __u16 input_offset_y;
    __u16 input_width;
    __u16 input_height;
    __u32 tdn_input_addr_offset;
    __u32 tdn_output_addr_offset;
    __u32 stitch_input_addr_offset;
    __u32 stitch_output_addr_offset;
    __u32 lsc_grid_offset_x;
    __u32 lsc_grid_offset_y;
    __u32 cac_grid_offset_x;
    __u32 cac_grid_offset_y;
    __u16 crop_x_start[PISP_BACK_END_NUM_OUTPUTS];
    __u16 crop_x_end[PISP_BACK_END_NUM_OUTPUTS];
    __u16 crop_y_start[PISP_BACK_END_NUM_OUTPUTS];
    __u16 crop_y_end[PISP_BACK_END_NUM_OUTPUTS];
    __u16 downscale_phase_x[3 * PISP_BACK_END_NUM_OUTPUTS];
    __u16 downscale_phase_y[3 * PISP_BACK_END_NUM_OUTPUTS];
    __u16 resample_in_width[PISP_BACK_END_NUM_OUTPUTS];
    __u16 resample_in_height[PISP_BACK_END_NUM_OUTPUTS];
    __u16 resample_phase_x[3 * PISP_BACK_END_NUM_OUTPUTS];
    __u16 resample_phase_y[3 * PISP_BACK_END_NUM_OUTPUTS];
    __u16 output_offset_x[PISP_BACK_END_NUM_OUTPUTS];
    __u16 output_offset_y[PISP_BACK_END_NUM_OUTPUTS];
    __u16 output_width[PISP_BACK_END_NUM_OUTPUTS];
    __u16 output_height[PISP_BACK_END_NUM_OUTPUTS];
    __u32 output_addr_offset[PISP_BACK_END_NUM_OUTPUTS];
    __u32 output_addr_offset2[PISP_BACK_END_NUM_OUTPUTS];
    __u32 output_hog_addr_offset;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">edge</span></code></dt><dd><p>Edge tile flag</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pad0</span></code></dt><dd><p>Padding bytes</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">input_addr_offset</span></code></dt><dd><p>Top-left pixel offset, in bytes</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">input_addr_offset2</span></code></dt><dd><p>Top-left pixel offset, in bytes for the second/
third image planes</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">input_offset_x</span></code></dt><dd><p>Horizontal offset in pixels of this tile in the
input image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">input_offset_y</span></code></dt><dd><p>Vertical offset in pixels of this tile in the
input image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">input_width</span></code></dt><dd><p>Width in pixels of this tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">input_height</span></code></dt><dd><p>Height in pixels of the this tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tdn_input_addr_offset</span></code></dt><dd><p>TDN input image offset, in bytes</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tdn_output_addr_offset</span></code></dt><dd><p>TDN output image offset, in bytes</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stitch_input_addr_offset</span></code></dt><dd><p>Stitch input image offset, in bytes</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stitch_output_addr_offset</span></code></dt><dd><p>Stitch output image offset, in bytes</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lsc_grid_offset_x</span></code></dt><dd><p>Horizontal offset in the LSC table for this tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lsc_grid_offset_y</span></code></dt><dd><p>Vertical offset in the LSC table for this tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cac_grid_offset_x</span></code></dt><dd><p>Horizontal offset in the CAC table for this tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cac_grid_offset_y</span></code></dt><dd><p>Horizontal offset in the CAC table for this tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">crop_x_start</span></code></dt><dd><p>Number of pixels cropped from the left of the
tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">crop_x_end</span></code></dt><dd><p>Number of pixels cropped from the right of the
tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">crop_y_start</span></code></dt><dd><p>Number of pixels cropped from the top of the
tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">crop_y_end</span></code></dt><dd><p>Number of pixels cropped from the bottom of the
tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">downscale_phase_x</span></code></dt><dd><p>Initial horizontal phase in pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">downscale_phase_y</span></code></dt><dd><p>Initial vertical phase in pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">resample_in_width</span></code></dt><dd><p>Width in pixels of the tile entering the
Resample block</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">resample_in_height</span></code></dt><dd><p>Height in pixels of the tile entering the
Resample block</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">resample_phase_x</span></code></dt><dd><p>Initial horizontal phase for the Resample block</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">resample_phase_y</span></code></dt><dd><p>Initial vertical phase for the Resample block</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_offset_x</span></code></dt><dd><p>Horizontal offset in pixels where the tile will
be written into the output image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_offset_y</span></code></dt><dd><p>Vertical offset in pixels where the tile will be
written into the output image</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_width</span></code></dt><dd><p>Width in pixels in the output image of this tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_height</span></code></dt><dd><p>Height in pixels in the output image of this tile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_addr_offset</span></code></dt><dd><p>Offset in bytes into the output buffer</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_addr_offset2</span></code></dt><dd><p>Offset in bytes into the output buffer for the
second and third plane</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_hog_addr_offset</span></code></dt><dd><p>Offset in bytes into the HOG buffer where
results of this tile are to be written</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Tile parameters: each set of tile parameters is a 160-bytes block of data
which contains the tile processing parameters.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.pisp_be_tiles_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pisp_be_tiles_config</span></span></span><a class="headerlink" href="#c.pisp_be_tiles_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Raspberry Pi PiSP Back End configuration</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct pisp_be_tiles_config {
    struct pisp_be_config config;
    struct pisp_tile tiles[PISP_BACK_END_NUM_TILES];
    __u32 num_tiles;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>PiSP Back End configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tiles</span></code></dt><dd><p>Tile descriptors</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">num_tiles</span></code></dt><dd><p>Number of tiles</p>
</dd>
</dl>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/userspace-api/media/v4l/metafmt-pisp-be.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>