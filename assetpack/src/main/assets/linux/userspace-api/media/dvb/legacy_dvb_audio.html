<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>6.2.3.2. DVB Audio Device &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=a152c8ac" />
    <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="6.2.3.3. DVB OSD Device" href="legacy_dvb_osd.html" />
    <link rel="prev" title="6.2.3.1. DVB Video Device" href="legacy_dvb_video.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.16.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">All development-process docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../subsystem-apis.html">Subsystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rust/index.html">Rust</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Userspace API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#system-calls">System calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#security-related-interfaces">Security-related interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#devices-and-i-o">Devices and I/O</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../accelerators/ocxl.html">OpenCAPI (Open Coherent Accelerator Processor Interface)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dma-buf-heaps.html">Allocating dma-buf using heaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dma-buf-alloc-exchange.html">Exchanging pixel buffers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fwctl/index.html">Firmware Control (FWCTL) Userspace API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gpio/index.html">GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../iommufd.html">IOMMUFD</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Linux Media Infrastructure userspace API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dcdbas.html">Dell Systems Management Base Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vduse.html">VDUSE - “vDPA Device in Userspace”</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../isapnp.html">ISA Plug &amp; Play support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#everything-else">Everything else</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/userspace-api/media/dvb/legacy_dvb_audio.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->


<section id="dvb-audio-device">
<span id="dvb-audio"></span><h1><span class="section-number">6.2.3.2. </span>DVB Audio Device<a class="headerlink" href="#dvb-audio-device" title="Link to this heading">¶</a></h1>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>The DVB audio device controls the MPEG2 audio decoder of the DVB
hardware. It can be accessed through <code class="docutils literal notranslate"><span class="pre">/dev/dvb/adapter?/audio?</span></code>. Data
types and ioctl definitions can be accessed by including
<code class="docutils literal notranslate"><span class="pre">linux/dvb/audio.h</span></code> in your application.</p>
<p>Please note that most DVB cards don’t have their own MPEG decoder, which
results in the omission of the audio and video device.</p>
<p>These ioctls were also used by V4L2 to control MPEG decoders implemented
in V4L2. The use of these ioctls for that purpose has been made obsolete
and proper V4L2 ioctls or controls have been created to replace that
functionality. Use <a class="reference internal" href="../v4l/audio.html#audio"><span class="std std-ref">V4L2 ioctls</span></a> for new drivers!</p>
<section id="audio-data-types">
<h2><span class="section-number">6.2.3.2.1. </span>Audio Data Types<a class="headerlink" href="#audio-data-types" title="Link to this heading">¶</a></h2>
<p>This section describes the structures, data types and defines used when
talking to the audio device.</p>
<hr class="docutils" />
<section id="audio-stream-source-t">
<h3><span class="section-number">6.2.3.2.1.1. </span>audio_stream_source_t<a class="headerlink" href="#audio-stream-source-t" title="Link to this heading">¶</a></h3>
<section id="synopsis">
<h4><span class="section-number">6.2.3.2.1.1.1. </span>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading">¶</a></h4>
<dl class="c enum">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.audio_stream_source_t">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">audio_stream_source_t</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.audio_stream_source_t" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="n">AUDIO_SOURCE_DEMUX</span><span class="p">,</span>
<span class="n">AUDIO_SOURCE_MEMORY</span>
<span class="p">}</span><span class="w"> </span><span class="n">audio_stream_source_t</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="constants">
<h4><span class="section-number">6.2.3.2.1.1.2. </span>Constants<a class="headerlink" href="#constants" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_SOURCE_DEMUX</span></code></p></td>
<td colspan="2"><p> Selects the demultiplexer (fed either by the frontend
or the DVR device) as the source of the video stream.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_SOURCE_MEMORY</span></code></p></td>
<td colspan="2"><p>Selects the stream from the application that comes through
the <a class="reference internal" href="#write">write()</a> system call.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="description">
<h4><span class="section-number">6.2.3.2.1.1.3. </span>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h4>
<p>The audio stream source is set through the <a class="reference internal" href="#audio-select-source">AUDIO_SELECT_SOURCE</a> call
and can take the following values, depending on whether we are replaying
from an internal (demux) or external (user write) source.</p>
<p>The data fed to the decoder is also controlled by the PID-filter.
Output selection: <a class="reference internal" href="dmx_types.html#c.dmx_output" title="dmx_output"><code class="xref c c-type docutils literal notranslate"><span class="pre">dmx_output</span></code></a> <code class="docutils literal notranslate"><span class="pre">DMX_OUT_DECODER</span></code>.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-play-state-t">
<h3><span class="section-number">6.2.3.2.1.2. </span>audio_play_state_t<a class="headerlink" href="#audio-play-state-t" title="Link to this heading">¶</a></h3>
<section id="id1">
<h4><span class="section-number">6.2.3.2.1.2.1. </span>Synopsis<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<dl class="c enum">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.audio_play_state_t">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">audio_play_state_t</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.audio_play_state_t" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AUDIO_STOPPED</span><span class="p">,</span>
<span class="w">    </span><span class="n">AUDIO_PLAYING</span><span class="p">,</span>
<span class="w">    </span><span class="n">AUDIO_PAUSED</span>
<span class="p">}</span><span class="w"> </span><span class="n">audio_play_state_t</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id2">
<h4><span class="section-number">6.2.3.2.1.2.2. </span>Constants<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_STOPPED</span></code></p></td>
<td><p>Audio is stopped.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_PLAYING</span></code></p></td>
<td><p>Audio is currently playing.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_PAUSE</span></code></p></td>
<td><p>Audio is frozen.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id3">
<h4><span class="section-number">6.2.3.2.1.2.3. </span>Description<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<p>This values can be returned by the <a class="reference internal" href="#audio-get-status">AUDIO_GET_STATUS</a> call
representing the state of audio playback.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-channel-select-t">
<h3><span class="section-number">6.2.3.2.1.3. </span>audio_channel_select_t<a class="headerlink" href="#audio-channel-select-t" title="Link to this heading">¶</a></h3>
<section id="id4">
<h4><span class="section-number">6.2.3.2.1.3.1. </span>Synopsis<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<dl class="c enum">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.audio_channel_select_t">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">audio_channel_select_t</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.audio_channel_select_t" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">AUDIO_STEREO</span><span class="p">,</span>
<span class="w">    </span><span class="n">AUDIO_MONO_LEFT</span><span class="p">,</span>
<span class="w">    </span><span class="n">AUDIO_MONO_RIGHT</span><span class="p">,</span>
<span class="w">    </span><span class="n">AUDIO_MONO</span><span class="p">,</span>
<span class="w">    </span><span class="n">AUDIO_STEREO_SWAPPED</span>
<span class="p">}</span><span class="w"> </span><span class="n">audio_channel_select_t</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id5">
<h4><span class="section-number">6.2.3.2.1.3.2. </span>Constants<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_STEREO</span></code></p></td>
<td><p>Stereo.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_MONO_LEFT</span></code></p></td>
<td><p>Mono, select left stereo channel as source.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_MONO_RIGHT</span></code></p></td>
<td><p>Mono, select right stereo channel as source.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_MONO</span></code></p></td>
<td><p>Mono source only.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_STEREO_SWAPPED</span></code></p></td>
<td><p>Stereo, swap L &amp; R.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id6">
<h4><span class="section-number">6.2.3.2.1.3.3. </span>Description<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<p>The audio channel selected via <a class="reference internal" href="#audio-channel-select">AUDIO_CHANNEL_SELECT</a> is determined by
this values.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-mixer-t">
<h3><span class="section-number">6.2.3.2.1.4. </span>audio_mixer_t<a class="headerlink" href="#audio-mixer-t" title="Link to this heading">¶</a></h3>
<section id="id7">
<h4><span class="section-number">6.2.3.2.1.4.1. </span>Synopsis<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<dl class="c struct">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.audio_mixer">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">audio_mixer</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.audio_mixer" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">audio_mixer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">volume_left</span><span class="p">;</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">volume_right</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">audio_mixer_t</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="variables">
<h4><span class="section-number">6.2.3.2.1.4.2. </span>Variables<a class="headerlink" href="#variables" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">volume_left</span></code></p></td>
<td><p>Volume left channel.
Valid range: 0 ... 255</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">volume_right</span></code></p></td>
<td><p>Volume right channel.
Valid range: 0 ... 255</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id8">
<h4><span class="section-number">6.2.3.2.1.4.3. </span>Description<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<p>This structure is used by the <a class="reference internal" href="#audio-set-mixer">AUDIO_SET_MIXER</a> call to set the
audio volume.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-status">
<h3><span class="section-number">6.2.3.2.1.5. </span>audio_status<a class="headerlink" href="#audio-status" title="Link to this heading">¶</a></h3>
<section id="id9">
<h4><span class="section-number">6.2.3.2.1.5.1. </span>Synopsis<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h4>
<dl class="c struct">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.audio_status">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">audio_status</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.audio_status" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">audio_status</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">AV_sync_state</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">mute_state</span><span class="p">;</span>
<span class="w">    </span><span class="n">audio_play_state_t</span><span class="w"> </span><span class="n">play_state</span><span class="p">;</span>
<span class="w">    </span><span class="n">audio_stream_source_t</span><span class="w"> </span><span class="n">stream_source</span><span class="p">;</span>
<span class="w">    </span><span class="n">audio_channel_select_t</span><span class="w"> </span><span class="n">channel_select</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">bypass_mode</span><span class="p">;</span>
<span class="w">    </span><span class="n">audio_mixer_t</span><span class="w"> </span><span class="n">mixer_state</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">audio_status_t</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="id10">
<h4><span class="section-number">6.2.3.2.1.5.2. </span>Variables<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td rowspan="3"><p> <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">AV_sync_state</span></code></p></td>
<td colspan="2"><p> Shows if A/V synchronization is ON or OFF.</p></td>
</tr>
<tr class="row-even"><td><p>TRUE  ( != 0 )</p></td>
<td><p>AV-sync ON.</p></td>
</tr>
<tr class="row-odd"><td><p>FALSE ( == 0 )</p></td>
<td><p>AV-sync OFF.</p></td>
</tr>
<tr class="row-even"><td rowspan="3"><p> <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">mute_state</span></code></p></td>
<td colspan="2"><p> Indicates if audio is muted or not.</p></td>
</tr>
<tr class="row-odd"><td><p>TRUE  ( != 0 )</p></td>
<td><p>mute audio</p></td>
</tr>
<tr class="row-even"><td><p>FALSE ( == 0 )</p></td>
<td><p>unmute audio</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#audio-play-state-t">audio_play_state_t</a> <code class="docutils literal notranslate"><span class="pre">play_state</span></code></p></td>
<td colspan="2"><p>Current playback state.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#audio-stream-source-t">audio_stream_source_t</a> <code class="docutils literal notranslate"><span class="pre">stream_source</span></code></p></td>
<td colspan="2"><p>Current source of the data.</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p> <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">bypass_mode</span></code></p></td>
<td colspan="2"><p> Is the decoding of the current Audio stream in
the DVB subsystem enabled or disabled.</p></td>
</tr>
<tr class="row-even"><td><p>TRUE  ( != 0 )</p></td>
<td><p>Bypass disabled.</p></td>
</tr>
<tr class="row-odd"><td><p>FALSE ( == 0 )</p></td>
<td><p>Bypass enabled.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#audio-mixer-t">audio_mixer_t</a> <code class="docutils literal notranslate"><span class="pre">mixer_state</span></code></p></td>
<td colspan="2"><p>Current volume settings.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id11">
<h4><span class="section-number">6.2.3.2.1.5.3. </span>Description<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h4>
<p>The <a class="reference internal" href="#audio-get-status">AUDIO_GET_STATUS</a> call returns this structure as information
about various states of the playback operation.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-encodings">
<h3><span class="section-number">6.2.3.2.1.6. </span>audio encodings<a class="headerlink" href="#audio-encodings" title="Link to this heading">¶</a></h3>
<section id="id12">
<h4><span class="section-number">6.2.3.2.1.6.1. </span>Synopsis<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define AUDIO_CAP_DTS    1</span>
<span class="cp">#define AUDIO_CAP_LPCM   2</span>
<span class="cp">#define AUDIO_CAP_MP1    4</span>
<span class="cp">#define AUDIO_CAP_MP2    8</span>
<span class="cp">#define AUDIO_CAP_MP3   16</span>
<span class="cp">#define AUDIO_CAP_AAC   32</span>
<span class="cp">#define AUDIO_CAP_OGG   64</span>
<span class="cp">#define AUDIO_CAP_SDDS 128</span>
<span class="cp">#define AUDIO_CAP_AC3  256</span>
</pre></div>
</div>
</section>
<section id="id13">
<h4><span class="section-number">6.2.3.2.1.6.2. </span>Constants<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_CAP_DTS</span></code></p></td>
<td colspan="2"><p> The hardware accepts DTS audio tracks.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_CAP_LPCM</span></code></p></td>
<td colspan="2"><p>The hardware accepts uncompressed audio with
Linear Pulse-Code Modulation (LPCM)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_CAP_MP1</span></code></p></td>
<td colspan="2"><p>The hardware accepts MPEG-1 Audio Layer 1.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_CAP_MP2</span></code></p></td>
<td colspan="2"><p>The hardware accepts MPEG-1 Audio Layer 2.
Also known as MUSICAM.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_CAP_MP3</span></code></p></td>
<td colspan="2"><p>The hardware accepts MPEG-1 Audio Layer III.
Commomly known as .mp3.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_CAP_AAC</span></code></p></td>
<td colspan="2"><p>The hardware accepts AAC (Advanced Audio Coding).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_CAP_OGG</span></code></p></td>
<td colspan="2"><p>The hardware accepts Vorbis audio tracks.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_CAP_SDDS</span></code></p></td>
<td colspan="2"><p>The hardware accepts Sony Dynamic Digital Sound (SDDS).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AUDIO_CAP_AC3</span></code></p></td>
<td colspan="2"><p>The hardware accepts Dolby Digital ATSC A/52 audio.
Also known as AC-3.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id14">
<h4><span class="section-number">6.2.3.2.1.6.3. </span>Description<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h4>
<p>A call to <a class="reference internal" href="#audio-get-capabilities">AUDIO_GET_CAPABILITIES</a> returns an unsigned integer with the
following bits set according to the hardwares capabilities.</p>
</section>
</section>
</section>
<hr class="docutils" />
<section id="audio-function-calls">
<h2><span class="section-number">6.2.3.2.2. </span>Audio Function Calls<a class="headerlink" href="#audio-function-calls" title="Link to this heading">¶</a></h2>
<section id="audio-stop">
<h3><span class="section-number">6.2.3.2.2.1. </span>AUDIO_STOP<a class="headerlink" href="#audio-stop" title="Link to this heading">¶</a></h3>
<section id="id15">
<h4><span class="section-number">6.2.3.2.2.1.1. </span>Synopsis<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_STOP">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_STOP</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_STOP" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_STOP</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="arguments">
<h4><span class="section-number">6.2.3.2.2.1.2. </span>Arguments<a class="headerlink" href="#arguments" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p>File descriptor returned by a previous call to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p> Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_STOP</span></code> for this command.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id16">
<h4><span class="section-number">6.2.3.2.2.1.3. </span>Description<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl call asks the Audio Device to stop playing the current
stream.</p>
</section>
<section id="return-value">
<h4><span class="section-number">6.2.3.2.2.1.4. </span>Return Value<a class="headerlink" href="#return-value" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-play">
<h3><span class="section-number">6.2.3.2.2.2. </span>AUDIO_PLAY<a class="headerlink" href="#audio-play" title="Link to this heading">¶</a></h3>
<section id="id17">
<h4><span class="section-number">6.2.3.2.2.2.1. </span>Synopsis<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_PLAY">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_PLAY</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_PLAY" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w">  </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_PLAY</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id18">
<h4><span class="section-number">6.2.3.2.2.2.2. </span>Arguments<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p>File descriptor returned by a previous call to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p> Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_PLAY</span></code> for this command.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id19">
<h4><span class="section-number">6.2.3.2.2.2.3. </span>Description<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl call asks the Audio Device to start playing an audio stream
from the selected source.</p>
</section>
<section id="id20">
<h4><span class="section-number">6.2.3.2.2.2.4. </span>Return Value<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-pause">
<h3><span class="section-number">6.2.3.2.2.3. </span>AUDIO_PAUSE<a class="headerlink" href="#audio-pause" title="Link to this heading">¶</a></h3>
<section id="id21">
<h4><span class="section-number">6.2.3.2.2.3.1. </span>Synopsis<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_PAUSE">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_PAUSE</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_PAUSE" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w">  </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_PAUSE</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id22">
<h4><span class="section-number">6.2.3.2.2.3.2. </span>Arguments<a class="headerlink" href="#id22" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_PAUSE</span></code> for this command.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id23">
<h4><span class="section-number">6.2.3.2.2.3.3. </span>Description<a class="headerlink" href="#id23" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl call suspends the audio stream being played. Decoding and
playing are paused. It is then possible to restart again decoding and
playing process of the audio stream using <a class="reference internal" href="#audio-continue">AUDIO_CONTINUE</a> command.</p>
</section>
<section id="id24">
<h4><span class="section-number">6.2.3.2.2.3.4. </span>Return Value<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-continue">
<h3><span class="section-number">6.2.3.2.2.4. </span>AUDIO_CONTINUE<a class="headerlink" href="#audio-continue" title="Link to this heading">¶</a></h3>
<section id="id25">
<h4><span class="section-number">6.2.3.2.2.4.1. </span>Synopsis<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_CONTINUE">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_CONTINUE</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_CONTINUE" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w">  </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_CONTINUE</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id26">
<h4><span class="section-number">6.2.3.2.2.4.2. </span>Arguments<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_CONTINUE</span></code> for this command.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id27">
<h4><span class="section-number">6.2.3.2.2.4.3. </span>Description<a class="headerlink" href="#id27" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl restarts the decoding and playing process previously paused
with <a class="reference internal" href="#audio-pause">AUDIO_PAUSE</a> command.</p>
</section>
<section id="id28">
<h4><span class="section-number">6.2.3.2.2.4.4. </span>Return Value<a class="headerlink" href="#id28" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-select-source">
<h3><span class="section-number">6.2.3.2.2.5. </span>AUDIO_SELECT_SOURCE<a class="headerlink" href="#audio-select-source" title="Link to this heading">¶</a></h3>
<section id="id29">
<h4><span class="section-number">6.2.3.2.2.5.1. </span>Synopsis<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_SELECT_SOURCE">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_SELECT_SOURCE</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_SELECT_SOURCE" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_SELECT_SOURCE</span><span class="p">,</span>
<span class="n">audio_stream_source_t</span><span class="w"> </span><span class="n">source</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id30">
<h4><span class="section-number">6.2.3.2.2.5.2. </span>Arguments<a class="headerlink" href="#id30" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_SELECT_SOURCE</span></code> for this command.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#audio-stream-source-t">audio_stream_source_t</a> <code class="docutils literal notranslate"><span class="pre">source</span></code></p></td>
<td colspan="2"><p>Indicates the source that shall be used for the Audio stream.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id31">
<h4><span class="section-number">6.2.3.2.2.5.3. </span>Description<a class="headerlink" href="#id31" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl call informs the audio device which source shall be used for
the input data. The possible sources are demux or memory. If
<code class="docutils literal notranslate"><span class="pre">AUDIO_SOURCE_MEMORY</span></code> is selected, the data is fed to the Audio Device
through the write command. If <code class="docutils literal notranslate"><span class="pre">AUDIO_SOURCE_DEMUX</span></code> is selected, the data
is directly transferred from the onboard demux-device to the decoder.
Note: This only supports DVB-devices with one demux and one decoder so far.</p>
</section>
<section id="id32">
<h4><span class="section-number">6.2.3.2.2.5.4. </span>Return Value<a class="headerlink" href="#id32" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-set-mute">
<h3><span class="section-number">6.2.3.2.2.6. </span>AUDIO_SET_MUTE<a class="headerlink" href="#audio-set-mute" title="Link to this heading">¶</a></h3>
<section id="id33">
<h4><span class="section-number">6.2.3.2.2.6.1. </span>Synopsis<a class="headerlink" href="#id33" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_SET_MUTE">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_SET_MUTE</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_SET_MUTE" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w">  </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_SET_MUTE</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id34">
<h4><span class="section-number">6.2.3.2.2.6.2. </span>Arguments<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p> Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_SET_MUTE</span></code> for this command.</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p> <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">state</span></code></p></td>
<td colspan="2"><p> Indicates if audio device shall mute or not.</p></td>
</tr>
<tr class="row-even"><td><p>TRUE  ( != 0 )</p></td>
<td><p>mute audio</p></td>
</tr>
<tr class="row-odd"><td><p>FALSE ( == 0 )</p></td>
<td><p>unmute audio</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id35">
<h4><span class="section-number">6.2.3.2.2.6.3. </span>Description<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl is for DVB devices only. To control a V4L2 decoder use the
V4L2 <a class="reference internal" href="../v4l/vidioc-decoder-cmd.html#vidioc-decoder-cmd"><span class="std std-ref">ioctl VIDIOC_DECODER_CMD, VIDIOC_TRY_DECODER_CMD</span></a> with the
<code class="docutils literal notranslate"><span class="pre">V4L2_DEC_CMD_START_MUTE_AUDIO</span></code> flag instead.</p>
<p>This ioctl call asks the audio device to mute the stream that is
currently being played.</p>
</section>
<section id="id36">
<h4><span class="section-number">6.2.3.2.2.6.4. </span>Return Value<a class="headerlink" href="#id36" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-set-av-sync">
<h3><span class="section-number">6.2.3.2.2.7. </span>AUDIO_SET_AV_SYNC<a class="headerlink" href="#audio-set-av-sync" title="Link to this heading">¶</a></h3>
<section id="id37">
<h4><span class="section-number">6.2.3.2.2.7.1. </span>Synopsis<a class="headerlink" href="#id37" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_SET_AV_SYNC">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_SET_AV_SYNC</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_SET_AV_SYNC" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w">  </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_SET_AV_SYNC</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id38">
<h4><span class="section-number">6.2.3.2.2.7.2. </span>Arguments<a class="headerlink" href="#id38" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p> Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_AV_SYNC</span></code> for this command.</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p> <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">state</span></code></p></td>
<td colspan="2"><p> Tells the DVB subsystem if A/V synchronization
shall be ON or OFF.</p></td>
</tr>
<tr class="row-even"><td><p>TRUE  ( != 0 )</p></td>
<td><p>AV-sync ON.</p></td>
</tr>
<tr class="row-odd"><td><p>FALSE ( == 0 )</p></td>
<td><p>AV-sync OFF.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id39">
<h4><span class="section-number">6.2.3.2.2.7.3. </span>Description<a class="headerlink" href="#id39" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl call asks the Audio Device to turn ON or OFF A/V
synchronization.</p>
</section>
<section id="id40">
<h4><span class="section-number">6.2.3.2.2.7.4. </span>Return Value<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-set-bypass-mode">
<h3><span class="section-number">6.2.3.2.2.8. </span>AUDIO_SET_BYPASS_MODE<a class="headerlink" href="#audio-set-bypass-mode" title="Link to this heading">¶</a></h3>
<section id="id41">
<h4><span class="section-number">6.2.3.2.2.8.1. </span>Synopsis<a class="headerlink" href="#id41" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_SET_BYPASS_MODE">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_SET_BYPASS_MODE</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_SET_BYPASS_MODE" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_SET_BYPASS_MODE</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">mode</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id42">
<h4><span class="section-number">6.2.3.2.2.8.2. </span>Arguments<a class="headerlink" href="#id42" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p> Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_SET_BYPASS_MODE</span></code> for this command.</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p> <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">mode</span></code></p></td>
<td colspan="2"><p> Enables or disables the decoding of the current
Audio stream in the DVB subsystem.</p></td>
</tr>
<tr class="row-even"><td><p>TRUE  ( != 0 )</p></td>
<td><p>Disable bypass</p></td>
</tr>
<tr class="row-odd"><td><p>FALSE ( == 0 )</p></td>
<td><p>Enable bypass</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id43">
<h4><span class="section-number">6.2.3.2.2.8.3. </span>Description<a class="headerlink" href="#id43" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl call asks the Audio Device to bypass the Audio decoder and
forward the stream without decoding. This mode shall be used if streams
that can’t be handled by the DVB system shall be decoded. Dolby
DigitalTM streams are automatically forwarded by the DVB subsystem if
the hardware can handle it.</p>
</section>
<section id="id44">
<h4><span class="section-number">6.2.3.2.2.8.4. </span>Return Value<a class="headerlink" href="#id44" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-channel-select">
<h3><span class="section-number">6.2.3.2.2.9. </span>AUDIO_CHANNEL_SELECT<a class="headerlink" href="#audio-channel-select" title="Link to this heading">¶</a></h3>
<section id="id45">
<h4><span class="section-number">6.2.3.2.2.9.1. </span>Synopsis<a class="headerlink" href="#id45" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_CHANNEL_SELECT">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_CHANNEL_SELECT</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_CHANNEL_SELECT" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_CHANNEL_SELECT</span><span class="p">,</span>
<span class="n">audio_channel_select_t</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id46">
<h4><span class="section-number">6.2.3.2.2.9.2. </span>Arguments<a class="headerlink" href="#id46" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_CHANNEL_SELECT</span></code> for this command.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#audio-channel-select-t">audio_channel_select_t</a> <code class="docutils literal notranslate"><span class="pre">ch</span></code></p></td>
<td colspan="2"><p>Select the output format of the audio (mono left/right, stereo).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id47">
<h4><span class="section-number">6.2.3.2.2.9.3. </span>Description<a class="headerlink" href="#id47" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl is for DVB devices only. To control a V4L2 decoder use the
V4L2 <code class="docutils literal notranslate"><span class="pre">V4L2_CID_MPEG_AUDIO_DEC_PLAYBACK</span></code> control instead.</p>
<p>This ioctl call asks the Audio Device to select the requested channel if
possible.</p>
</section>
<section id="id48">
<h4><span class="section-number">6.2.3.2.2.9.4. </span>Return Value<a class="headerlink" href="#id48" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-get-status">
<h3><span class="section-number">6.2.3.2.2.10. </span>AUDIO_GET_STATUS<a class="headerlink" href="#audio-get-status" title="Link to this heading">¶</a></h3>
<section id="id49">
<h4><span class="section-number">6.2.3.2.2.10.1. </span>Synopsis<a class="headerlink" href="#id49" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_GET_STATUS">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_GET_STATUS</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_GET_STATUS" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_GET_STATUS</span><span class="p">,</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">audio_status</span><span class="w"> </span><span class="o">*</span><span class="n">status</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id50">
<h4><span class="section-number">6.2.3.2.2.10.2. </span>Arguments<a class="headerlink" href="#id50" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals AUDIO_GET_STATUS for this command.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">struct</span></code> <a class="reference internal" href="#audio-status">audio_status</a> <code class="docutils literal notranslate"><span class="pre">*status</span></code></p></td>
<td colspan="2"><p>Returns the current state of Audio Device.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id51">
<h4><span class="section-number">6.2.3.2.2.10.3. </span>Description<a class="headerlink" href="#id51" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl call asks the Audio Device to return the current state of the
Audio Device.</p>
</section>
<section id="id52">
<h4><span class="section-number">6.2.3.2.2.10.4. </span>Return Value<a class="headerlink" href="#id52" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-get-capabilities">
<h3><span class="section-number">6.2.3.2.2.11. </span>AUDIO_GET_CAPABILITIES<a class="headerlink" href="#audio-get-capabilities" title="Link to this heading">¶</a></h3>
<section id="id53">
<h4><span class="section-number">6.2.3.2.2.11.1. </span>Synopsis<a class="headerlink" href="#id53" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_GET_CAPABILITIES">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_GET_CAPABILITIES</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_GET_CAPABILITIES" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_GET_CAPABILITIES</span><span class="p">,</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">cap</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id54">
<h4><span class="section-number">6.2.3.2.2.11.2. </span>Arguments<a class="headerlink" href="#id54" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_GET_CAPABILITIES</span></code> for this command.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">*cap</span></code></p></td>
<td colspan="2"><p>Returns a bit array of supported sound formats.
Bits are defined in <a class="reference internal" href="#audio-encodings">audio encodings</a>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id55">
<h4><span class="section-number">6.2.3.2.2.11.3. </span>Description<a class="headerlink" href="#id55" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl call asks the Audio Device to tell us about the decoding
capabilities of the audio hardware.</p>
</section>
<section id="id56">
<h4><span class="section-number">6.2.3.2.2.11.4. </span>Return Value<a class="headerlink" href="#id56" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-clear-buffer">
<h3><span class="section-number">6.2.3.2.2.12. </span>AUDIO_CLEAR_BUFFER<a class="headerlink" href="#audio-clear-buffer" title="Link to this heading">¶</a></h3>
<section id="id57">
<h4><span class="section-number">6.2.3.2.2.12.1. </span>Synopsis<a class="headerlink" href="#id57" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_CLEAR_BUFFER">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_CLEAR_BUFFER</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_CLEAR_BUFFER" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w">  </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_CLEAR_BUFFER</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id58">
<h4><span class="section-number">6.2.3.2.2.12.2. </span>Arguments<a class="headerlink" href="#id58" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_CLEAR_BUFFER</span></code> for this command.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id59">
<h4><span class="section-number">6.2.3.2.2.12.3. </span>Description<a class="headerlink" href="#id59" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl call asks the Audio Device to clear all software and hardware
buffers of the audio decoder device.</p>
</section>
<section id="id60">
<h4><span class="section-number">6.2.3.2.2.12.4. </span>Return Value<a class="headerlink" href="#id60" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-set-id">
<h3><span class="section-number">6.2.3.2.2.13. </span>AUDIO_SET_ID<a class="headerlink" href="#audio-set-id" title="Link to this heading">¶</a></h3>
<section id="id61">
<h4><span class="section-number">6.2.3.2.2.13.1. </span>Synopsis<a class="headerlink" href="#id61" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_SET_ID">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_SET_ID</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_SET_ID" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w">  </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_SET_ID</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id62">
<h4><span class="section-number">6.2.3.2.2.13.2. </span>Arguments<a class="headerlink" href="#id62" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_SET_ID</span></code> for this command.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">id</span></code></p></td>
<td colspan="2"><p>Audio sub-stream id.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id63">
<h4><span class="section-number">6.2.3.2.2.13.3. </span>Description<a class="headerlink" href="#id63" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl selects which sub-stream is to be decoded if a program or
system stream is sent to the video device.</p>
<p>If no audio stream type is set the id has to be in range [0xC0,0xDF]
for MPEG sound, in [0x80,0x87] for AC3 and in [0xA0,0xA7] for LPCM.
See ITU-T H.222.0 | ISO/IEC 13818-1 for further description.</p>
<p>If the stream type is set with <a class="reference internal" href="#audio-set-streamtype">AUDIO_SET_STREAMTYPE</a>, specifies the
id just the sub-stream id of the audio stream and only the first 5 bits
(&amp; 0x1F) are recognized.</p>
</section>
<section id="id64">
<h4><span class="section-number">6.2.3.2.2.13.4. </span>Return Value<a class="headerlink" href="#id64" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-set-mixer">
<h3><span class="section-number">6.2.3.2.2.14. </span>AUDIO_SET_MIXER<a class="headerlink" href="#audio-set-mixer" title="Link to this heading">¶</a></h3>
<section id="id65">
<h4><span class="section-number">6.2.3.2.2.14.1. </span>Synopsis<a class="headerlink" href="#id65" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_SET_MIXER">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_SET_MIXER</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_SET_MIXER" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_SET_MIXER</span><span class="p">,</span><span class="w"> </span><span class="n">audio_mixer_t</span><span class="w"> </span><span class="o">*</span><span class="n">mix</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id66">
<h4><span class="section-number">6.2.3.2.2.14.2. </span>Arguments<a class="headerlink" href="#id66" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_SET_MIXER</span></code> for this command.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">audio_mixer_t</span> <span class="pre">*mix</span></code></p></td>
<td colspan="2"><p>Mixer settings.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id67">
<h4><span class="section-number">6.2.3.2.2.14.3. </span>Description<a class="headerlink" href="#id67" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl lets you adjust the mixer settings of the audio decoder.</p>
</section>
<section id="id68">
<h4><span class="section-number">6.2.3.2.2.14.4. </span>Return Value<a class="headerlink" href="#id68" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="audio-set-streamtype">
<h3><span class="section-number">6.2.3.2.2.15. </span>AUDIO_SET_STREAMTYPE<a class="headerlink" href="#audio-set-streamtype" title="Link to this heading">¶</a></h3>
<section id="id69">
<h4><span class="section-number">6.2.3.2.2.15.1. </span>Synopsis<a class="headerlink" href="#id69" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_SET_STREAMTYPE">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_SET_STREAMTYPE</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_SET_STREAMTYPE" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w">  </span><span class="n">ioctl</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_SET_STREAMTYPE</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">type</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id70">
<h4><span class="section-number">6.2.3.2.2.15.2. </span>Arguments<a class="headerlink" href="#id70" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_SET_STREAMTYPE</span></code> for this command.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">type</span></code></p></td>
<td colspan="2"><p>Stream type.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id71">
<h4><span class="section-number">6.2.3.2.2.15.3. </span>Description<a class="headerlink" href="#id71" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl tells the driver which kind of audio stream to expect. This
is useful if the stream offers several audio sub-streams like LPCM and
AC3.</p>
<p>Stream types defined in ITU-T H.222.0 | ISO/IEC 13818-1 are used.</p>
</section>
<section id="id72">
<h4><span class="section-number">6.2.3.2.2.15.4. </span>Return Value<a class="headerlink" href="#id72" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EINVAL</span></code></p></td>
<td><p>Type is not a valid or supported stream type.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<hr class="docutils" />
<section id="audio-bilingual-channel-select">
<h3><span class="section-number">6.2.3.2.2.16. </span>AUDIO_BILINGUAL_CHANNEL_SELECT<a class="headerlink" href="#audio-bilingual-channel-select" title="Link to this heading">¶</a></h3>
<section id="id73">
<h4><span class="section-number">6.2.3.2.2.16.1. </span>Synopsis<a class="headerlink" href="#id73" title="Link to this heading">¶</a></h4>
<dl class="c macro">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.AUDIO_BILINGUAL_CHANNEL_SELECT">
<span class="sig-name descname"><span class="n"><span class="pre">AUDIO_BILINGUAL_CHANNEL_SELECT</span></span></span><a class="headerlink" href="#c.dtv.legacy.audio.AUDIO_BILINGUAL_CHANNEL_SELECT" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="n">ioctl</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AUDIO_BILINGUAL_CHANNEL_SELECT</span><span class="p">,</span>
<span class="n">audio_channel_select_t</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id74">
<h4><span class="section-number">6.2.3.2.2.16.2. </span>Arguments<a class="headerlink" href="#id74" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">request</span></code></p></td>
<td colspan="2"><p>Equals <code class="docutils literal notranslate"><span class="pre">AUDIO_BILINGUAL_CHANNEL_SELECT</span></code> for this command.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">audio_channel_select_t</span> <span class="pre">ch</span></code></p></td>
<td colspan="2"><p>Select the output format of the audio (mono left/right, stereo).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id75">
<h4><span class="section-number">6.2.3.2.2.16.3. </span>Description<a class="headerlink" href="#id75" title="Link to this heading">¶</a></h4>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Do <strong>not</strong> use in new drivers!
See: <a class="reference internal" href="legacy_dvb_decoder_api.html#legacy-dvb-decoder-notes"><span class="std std-ref">General Notes</span></a></p>
</div>
<p>This ioctl has been replaced by the V4L2
<code class="docutils literal notranslate"><span class="pre">V4L2_CID_MPEG_AUDIO_DEC_MULTILINGUAL_PLAYBACK</span></code> control
for MPEG decoders controlled through V4L2.</p>
<p>This ioctl call asks the Audio Device to select the requested channel
for bilingual streams if possible.</p>
</section>
<section id="id76">
<h4><span class="section-number">6.2.3.2.2.16.4. </span>Return Value<a class="headerlink" href="#id76" title="Link to this heading">¶</a></h4>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
</section>
</section>
<hr class="docutils" />
<section id="open">
<h3><span class="section-number">6.2.3.2.2.17. </span>open()<a class="headerlink" href="#open" title="Link to this heading">¶</a></h3>
<section id="id77">
<h4><span class="section-number">6.2.3.2.2.17.1. </span>Synopsis<a class="headerlink" href="#id77" title="Link to this heading">¶</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;fcntl.h&gt;</span>
</pre></div>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.open">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">open</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">deviceName</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dtv.legacy.audio.open" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

</section>
<section id="id78">
<h4><span class="section-number">6.2.3.2.2.17.2. </span>Arguments<a class="headerlink" href="#id78" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*deviceName</span></code></p></td>
<td colspan="2"><p>Name of specific audio device.</p></td>
</tr>
<tr class="row-even"><td rowspan="4"><p> <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">flags</span></code></p></td>
<td colspan="2"><p> A bit-wise OR of the following flags:</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">O_RDONLY</span></code></p></td>
<td><p>read-only access</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">O_RDWR</span></code></p></td>
<td><p>read/write access</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code></p></td>
<td><div class="line-block">
<div class="line">Open in non-blocking mode</div>
<div class="line">(blocking mode is the default)</div>
</div>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id79">
<h4><span class="section-number">6.2.3.2.2.17.3. </span>Description<a class="headerlink" href="#id79" title="Link to this heading">¶</a></h4>
<p>This system call opens a named audio device (e.g.
<code class="docutils literal notranslate"><span class="pre">/dev/dvb/adapter0/audio0</span></code>) for subsequent use. When an <a class="reference internal" href="#c.dtv.legacy.audio.open" title="dtv.legacy.audio.open"><code class="xref c c-func docutils literal notranslate"><span class="pre">open()</span></code></a> call has
succeeded, the device will be ready for use. The significance of
blocking or non-blocking mode is described in the documentation for
functions where there is a difference. It does not affect the semantics
of the <a class="reference internal" href="#c.dtv.legacy.audio.open" title="dtv.legacy.audio.open"><code class="xref c c-func docutils literal notranslate"><span class="pre">open()</span></code></a> call itself. A device opened in blocking mode can later be
put into non-blocking mode (and vice versa) using the F_SETFL command
of the fcntl system call. This is a standard system call, documented in
the Linux manual page for fcntl. Only one user can open the Audio Device
in O_RDWR mode. All other attempts to open the device in this mode will
fail, and an error code will be returned. If the Audio Device is opened
in O_RDONLY mode, the only ioctl call that can be used is
<a class="reference internal" href="#audio-get-status">AUDIO_GET_STATUS</a>. All other call will return with an error code.</p>
</section>
<section id="id80">
<h4><span class="section-number">6.2.3.2.2.17.4. </span>Return Value<a class="headerlink" href="#id80" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ENODEV</span></code></p></td>
<td><p>Device driver not loaded/available.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EBUSY</span></code></p></td>
<td><p>Device or resource busy.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EINVAL</span></code></p></td>
<td><p>Invalid argument.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<hr class="docutils" />
<section id="close">
<h3><span class="section-number">6.2.3.2.2.18. </span>close()<a class="headerlink" href="#close" title="Link to this heading">¶</a></h3>
<section id="id81">
<h4><span class="section-number">6.2.3.2.2.18.1. </span>Synopsis<a class="headerlink" href="#id81" title="Link to this heading">¶</a></h4>
<dl class="c function">
<dt class="sig sig-object c" id="c.dtv.legacy.audio.close">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">close</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">fd</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.dtv.legacy.audio.close" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

</section>
<section id="id82">
<h4><span class="section-number">6.2.3.2.2.18.2. </span>Arguments<a class="headerlink" href="#id82" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id83">
<h4><span class="section-number">6.2.3.2.2.18.3. </span>Description<a class="headerlink" href="#id83" title="Link to this heading">¶</a></h4>
<p>This system call closes a previously opened audio device.</p>
</section>
<section id="id84">
<h4><span class="section-number">6.2.3.2.2.18.4. </span>Return Value<a class="headerlink" href="#id84" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EBADF</span></code></p></td>
<td><p>Fd is not a valid open file descriptor.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<hr class="docutils" />
<section id="write">
<h3><span class="section-number">6.2.3.2.2.19. </span>write()<a class="headerlink" href="#write" title="Link to this heading">¶</a></h3>
<section id="id85">
<h4><span class="section-number">6.2.3.2.2.19.1. </span>Synopsis<a class="headerlink" href="#id85" title="Link to this heading">¶</a></h4>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span><span class="w"> </span><span class="n">write</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">fd</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">count</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id86">
<h4><span class="section-number">6.2.3.2.2.19.2. </span>Arguments<a class="headerlink" href="#id86" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">fd</span></code></p></td>
<td colspan="2"><p> File descriptor returned by a previous call
to <a class="reference internal" href="#open">open()</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*buf</span></code></p></td>
<td colspan="2"><p>Pointer to the buffer containing the PES data.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">size_t</span> <span class="pre">count</span></code></p></td>
<td colspan="2"><p>Size of buf.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id87">
<h4><span class="section-number">6.2.3.2.2.19.3. </span>Description<a class="headerlink" href="#id87" title="Link to this heading">¶</a></h4>
<p>This system call can only be used if <code class="docutils literal notranslate"><span class="pre">AUDIO_SOURCE_MEMORY</span></code> is selected
in the ioctl call <a class="reference internal" href="#audio-select-source">AUDIO_SELECT_SOURCE</a>. The data provided shall be in
PES format. If <code class="docutils literal notranslate"><span class="pre">O_NONBLOCK</span></code> is not specified the function will block
until buffer space is available. The amount of data to be transferred is
implied by count.</p>
</section>
<section id="id88">
<h4><span class="section-number">6.2.3.2.2.19.4. </span>Return Value<a class="headerlink" href="#id88" title="Link to this heading">¶</a></h4>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EPERM</span></code></p></td>
<td colspan="2"><p> Mode <code class="docutils literal notranslate"><span class="pre">AUDIO_SOURCE_MEMORY</span></code> not selected.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ENOMEM</span></code></p></td>
<td colspan="2"><p>Attempted to write more data than the internal buffer can hold.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">EBADF</span></code></p></td>
<td colspan="2"><p>Fd is not a valid open file descriptor.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/userspace-api/media/dvb/legacy_dvb_audio.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>