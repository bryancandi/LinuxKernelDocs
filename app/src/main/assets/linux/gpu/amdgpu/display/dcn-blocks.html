<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>DCN Blocks &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=a152c8ac" />
    <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Multiplane Overlay (MPO)" href="mpo-overview.html" />
    <link rel="prev" title="Display Core Next (DCN)" href="dcn-overview.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.9.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">All development-process docs</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../subsystem-apis.html">Subsystems</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../subsystem-apis.html#core-subsystems">Core subsystems</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../subsystem-apis.html#human-interfaces">Human interfaces</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../input/index.html">Input Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../sound/index.html">Sound Subsystem Documentation</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">GPU Driver Developer’s Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../leds/index.html">LEDs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../subsystem-apis.html#networking-interfaces">Networking interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../subsystem-apis.html#storage-interfaces">Storage interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../subsystem-apis.html#other-subsystems">Other subsystems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../userspace-api/index.html">Userspace API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/gpu/amdgpu/display/dcn-blocks.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->


<section id="dcn-blocks">
<h1>DCN Blocks<a class="headerlink" href="#dcn-blocks" title="Link to this heading">¶</a></h1>
<p>In this section, you will find some extra details about some of the DCN blocks
and the code documentation when it is automatically generated.</p>
<section id="dchubbub">
<h2>DCHUBBUB<a class="headerlink" href="#dchubbub" title="Link to this heading">¶</a></h2>
<p>Display Controller Hub (DCHUB) is the gateway between the Scalable Data Port
(SDP) and DCN. This component has multiple features, such as memory
arbitration, rotation, and cursor manipulation.</p>
<p>There is one HUBP allocated per pipe, which fetches data and converts
different pixel formats (i.e. ARGB8888, NV12, etc) into linear, interleaved
and fixed-depth streams of pixel data.</p>
</section>
<section id="hubp">
<h2>HUBP<a class="headerlink" href="#hubp" title="Link to this heading">¶</a></h2>
<p>Display Controller Hub (DCHUB) is the gateway between the Scalable Data Port
(SDP) and DCN. This component has multiple features, such as memory
arbitration, rotation, and cursor manipulation.</p>
<p>There is one HUBP allocated per pipe, which fetches data and converts
different pixel formats (i.e. ARGB8888, NV12, etc) into linear, interleaved
and fixed-depth streams of pixel data.</p>
</section>
<section id="dpp">
<h2>DPP<a class="headerlink" href="#dpp" title="Link to this heading">¶</a></h2>
<p>Display Controller Hub (DCHUB) is the gateway between the Scalable Data Port
(SDP) and DCN. This component has multiple features, such as memory
arbitration, rotation, and cursor manipulation.</p>
<p>There is one HUBP allocated per pipe, which fetches data and converts
different pixel formats (i.e. ARGB8888, NV12, etc) into linear, interleaved
and fixed-depth streams of pixel data.</p>
</section>
<section id="mpc">
<h2>MPC<a class="headerlink" href="#mpc" title="Link to this heading">¶</a></h2>
<p>Multiple Pipe/Plane Combiner (MPC) is a component in the hardware pipeline
that performs blending of multiple planes, using global and per-pixel alpha.
It also performs post-blending color correction operations according to the
hardware capabilities, such as color transformation matrix and gamma 1D and
3D LUT.</p>
<p>MPC receives output from all DPP pipes and combines them to multiple outputs
supporting “M MPC inputs -&gt; N MPC outputs” flexible composition
architecture. It features:</p>
<ul class="simple">
<li><p>Programmable blending structure to allow software controlled blending and
cascading;</p></li>
<li><p>Programmable window location of each DPP in active region of display;</p></li>
<li><p>Combining multiple DPP pipes in one active region when a single DPP pipe
cannot process very large surface;</p></li>
<li><p>Combining multiple DPP from different SLS with blending;</p></li>
<li><p>Stereo formats from single DPP in top-bottom or side-by-side modes;</p></li>
<li><p>Stereo formats from 2 DPPs;</p></li>
<li><p>Alpha blending of multiple layers from different DPP pipes;</p></li>
<li><p>Programmable background color;</p></li>
</ul>
<dl class="c enum">
<dt class="sig sig-object c" id="c.mpcc_alpha_blend_mode">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mpcc_alpha_blend_mode</span></span></span><a class="headerlink" href="#c.mpcc_alpha_blend_mode" title="Link to this definition">¶</a><br /></dt>
<dd><p>define the alpha blend mode regarding pixel alpha and plane alpha values</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">MPCC_ALPHA_BLEND_MODE_PER_PIXEL_ALPHA</span></code></dt><dd><p>per pixel alpha using DPP
alpha value</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MPCC_ALPHA_BLEND_MODE_PER_PIXEL_ALPHA_COMBINED_GLOBAL_GAIN</span></code></dt><dd><p>per
pixel alpha using DPP alpha value multiplied by a global gain (plane
alpha)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">MPCC_ALPHA_BLEND_MODE_GLOBAL_ALPHA</span></code></dt><dd><p>global alpha value, ignores
pixel alpha and consider only plane alpha</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.mpcc_blnd_cfg">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mpcc_blnd_cfg</span></span></span><a class="headerlink" href="#c.mpcc_blnd_cfg" title="Link to this definition">¶</a><br /></dt>
<dd><p>MPCC blending configuration</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct mpcc_blnd_cfg {
    struct tg_color black_color;
    enum mpcc_alpha_blend_mode alpha_mode;
    bool pre_multiplied_alpha;
    int global_gain;
    int global_alpha;
    bool overlap_only;
    int bottom_gain_mode;
    int background_color_bpc;
    int top_gain;
    int bottom_inside_gain;
    int bottom_outside_gain;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">black_color</span></code></dt><dd><p>background color.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">alpha_mode</span></code></dt><dd><p>alpha blend mode (MPCC_ALPHA_BLND_MODE).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pre_multiplied_alpha</span></code></dt><dd><p>Whether pixel color values were pre-multiplied by the alpha channel
(MPCC_ALPHA_MULTIPLIED_MODE).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">global_gain</span></code></dt><dd><p>Used when blend mode considers both pixel alpha and plane.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">global_alpha</span></code></dt><dd><p>Plane alpha value.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">overlap_only</span></code></dt><dd><p>Whether overlapping of different planes is allowed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bottom_gain_mode</span></code></dt><dd><p>Blend mode for bottom gain setting.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">background_color_bpc</span></code></dt><dd><p>Background color for bpc.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">top_gain</span></code></dt><dd><p>Top gain setting.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bottom_inside_gain</span></code></dt><dd><p>Blend mode for bottom inside.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bottom_outside_gain</span></code></dt><dd><p>Blend mode for bottom outside.</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.mpcc">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mpcc</span></span></span><a class="headerlink" href="#c.mpcc" title="Link to this definition">¶</a><br /></dt>
<dd><p>MPCC connection and blending configuration for a single MPCC instance.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct mpcc {
    int mpcc_id;
    int dpp_id;
    struct mpcc *mpcc_bot;
    struct mpcc_blnd_cfg blnd_cfg;
    struct mpcc_sm_cfg sm_cfg;
    bool shared_bottom;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mpcc_id</span></code></dt><dd><p>MPCC physical instance.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dpp_id</span></code></dt><dd><p>DPP input to this MPCC</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mpcc_bot</span></code></dt><dd><p>Pointer to bottom layer MPCC. NULL when not connected.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">blnd_cfg</span></code></dt><dd><p>The blending configuration for this MPCC.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sm_cfg</span></code></dt><dd><p>stereo mix setting for this MPCC</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">shared_bottom</span></code></dt><dd><p>If MPCC output to both OPP and DWB endpoints, true. Otherwise, false.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>This struct is used as a node in an MPC tree.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.mpc_tree">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mpc_tree</span></span></span><a class="headerlink" href="#c.mpc_tree" title="Link to this definition">¶</a><br /></dt>
<dd><p>MPC tree represents all MPCC connections for a pipe.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct mpc_tree {
    int opp_id;
    struct mpcc *opp_list;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">opp_id</span></code></dt><dd><p>The OPP instance that owns this MPC tree.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">opp_list</span></code></dt><dd><p>the top MPCC layer of the MPC tree that outputs to OPP endpoint</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.mpc_funcs">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mpc_funcs</span></span></span><a class="headerlink" href="#c.mpc_funcs" title="Link to this definition">¶</a><br /></dt>
<dd><p>funcs</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct mpc_funcs {
    void (*read_mpcc_state)(struct mpc *mpc,int mpcc_inst, struct mpcc_state *s);
    struct mpcc* (*insert_plane)(struct mpc *mpc,struct mpc_tree *tree,struct mpcc_blnd_cfg *blnd_cfg,struct mpcc_sm_cfg *sm_cfg,struct mpcc *insert_above_mpcc,int dpp_id, int mpcc_id);
    void (*remove_mpcc)(struct mpc *mpc,struct mpc_tree *tree, struct mpcc *mpcc);
    void (*mpc_init)(struct mpc *mpc);
    void (*mpc_init_single_inst)(struct mpc *mpc, unsigned int mpcc_id);
    void (*update_blending)(struct mpc *mpc,struct mpcc_blnd_cfg *blnd_cfg, int mpcc_id);
    void (*cursor_lock)(struct mpc *mpc,int opp_id, bool lock);
    struct mpcc* (*insert_plane_to_secondary)(struct mpc *mpc,struct mpc_tree *tree,struct mpcc_blnd_cfg *blnd_cfg,struct mpcc_sm_cfg *sm_cfg,struct mpcc *insert_above_mpcc,int dpp_id, int mpcc_id);
    void (*remove_mpcc_from_secondary)(struct mpc *mpc,struct mpc_tree *tree, struct mpcc *mpcc);
    struct mpcc* (*get_mpcc_for_dpp_from_secondary)(struct mpc_tree *tree, int dpp_id);
    struct mpcc* (*get_mpcc_for_dpp)(struct mpc_tree *tree, int dpp_id);
    void (*wait_for_idle)(struct mpc *mpc, int id);
    void (*assert_mpcc_idle_before_connect)(struct mpc *mpc, int mpcc_id);
    void (*init_mpcc_list_from_hw)(struct mpc *mpc, struct mpc_tree *tree);
    void (*set_denorm)(struct mpc *mpc,int opp_id, enum dc_color_depth output_depth);
    void (*set_denorm_clamp)(struct mpc *mpc,int opp_id, struct mpc_denorm_clamp denorm_clamp);
    void (*set_output_csc)(struct mpc *mpc,int opp_id,const uint16_t *regval, enum mpc_output_csc_mode ocsc_mode);
    void (*set_ocsc_default)(struct mpc *mpc,int opp_id,enum dc_color_space color_space, enum mpc_output_csc_mode ocsc_mode);
    void (*set_output_gamma)(struct mpc *mpc,int mpcc_id, const struct pwl_params *params);
    void (*power_on_mpc_mem_pwr)(struct mpc *mpc,int mpcc_id, bool power_on);
    void (*set_dwb_mux)(struct mpc *mpc,int dwb_id, int mpcc_id);
    void (*disable_dwb_mux)(struct mpc *mpc, int dwb_id);
    bool (*is_dwb_idle)(struct mpc *mpc, int dwb_id);
    void (*set_out_rate_control)(struct mpc *mpc,int opp_id,bool enable,bool rate_2x_mode, struct mpc_dwb_flow_control *flow_control);
    void (*set_gamut_remap)(struct mpc *mpc,int mpcc_id, const struct mpc_grph_gamut_adjustment *adjust);
    bool (*program_1dlut)(struct mpc *mpc,const struct pwl_params *params, uint32_t rmu_idx);
    bool (*program_shaper)(struct mpc *mpc,const struct pwl_params *params, uint32_t rmu_idx);
    uint32_t (*acquire_rmu)(struct mpc *mpc, int mpcc_id, int rmu_idx);
    bool (*program_3dlut)(struct mpc *mpc,const struct tetrahedral_params *params, int rmu_idx);
    int (*release_rmu)(struct mpc *mpc, int mpcc_id);
    unsigned int (*get_mpc_out_mux)(struct mpc *mpc, int opp_id);
    void (*set_bg_color)(struct mpc *mpc,struct tg_color *bg_color, int mpcc_id);
    void (*set_mpc_mem_lp_mode)(struct mpc *mpc);
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">insert_plane</span></code></dt><dd><p>Insert DPP into MPC tree based on specified blending position.
Only used for planes that are part of blending chain for OPP output</p>
<p>Parameters:</p>
<ul class="simple">
<li><p>[in/out] mpc  - MPC context.</p></li>
<li><p>[in/out] tree - MPC tree structure that plane will be added to.</p></li>
<li><p>[in] blnd_cfg - MPCC blending configuration for the new blending layer.</p></li>
<li><dl class="simple">
<dt>[in] sm_cfg   - MPCC stereo mix configuration for the new blending layer.</dt><dd><p>stereo mix must disable for the very bottom layer of the tree config.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>[in] insert_above_mpcc - Insert new plane above this MPCC.</dt><dd><p>If NULL, insert as bottom plane.</p>
</dd>
</dl>
</li>
<li><p>[in] dpp_id  - DPP instance for the plane to be added.</p></li>
<li><p>[in] mpcc_id - The MPCC physical instance to use for blending.</p></li>
</ul>
<p>Return:</p>
<p><a class="reference internal" href="#c.mpcc" title="mpcc"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">mpcc</span></code></a>* - MPCC that was added.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remove_mpcc</span></code></dt><dd><p>Remove a specified MPCC from the MPC tree.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p>[in/out] mpc   - MPC context.</p></li>
<li><p>[in/out] tree  - MPC tree structure that plane will be removed from.</p></li>
<li><p>[in/out] mpcc  - MPCC to be removed from tree.</p></li>
</ul>
<p>Return:</p>
<p>void</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mpc_init</span></code></dt><dd><p>Reset the MPCC HW status by disconnecting all muxes.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p>[in/out] mpc - MPC context.</p></li>
</ul>
<p>Return:</p>
<p>void</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">update_blending</span></code></dt><dd><p>Update the blending configuration for a specified MPCC.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p>[in/out] mpc - MPC context.</p></li>
<li><p>[in] blnd_cfg - MPCC blending configuration.</p></li>
<li><p>[in] mpcc_id  - The MPCC physical instance.</p></li>
</ul>
<p>Return:</p>
<p>void</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cursor_lock</span></code></dt><dd><p>Lock cursor updates for the specified OPP. OPP defines the set of
MPCC that are locked together for cursor.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p>[in] mpc - MPC context.</p></li>
<li><p>[in] opp_id  - The OPP to lock cursor updates on</p></li>
<li><p>[in] lock - lock/unlock the OPP</p></li>
</ul>
<p>Return:</p>
<p>void</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">insert_plane_to_secondary</span></code></dt><dd><p>Add DPP into secondary MPC tree based on specified blending
position.  Only used for planes that are part of blending chain for
DWB output</p>
<p>Parameters:</p>
<ul class="simple">
<li><p>[in/out] mpc  - MPC context.</p></li>
<li><p>[in/out] tree - MPC tree structure that plane will be added to.</p></li>
<li><p>[in] blnd_cfg - MPCC blending configuration for the new blending layer.</p></li>
<li><dl class="simple">
<dt>[in] sm_cfg   - MPCC stereo mix configuration for the new blending layer.</dt><dd><p>stereo mix must disable for the very bottom layer of the tree config.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>[in] insert_above_mpcc - Insert new plane above this MPCC.  If</dt><dd><p>NULL, insert as bottom plane.</p>
</dd>
</dl>
</li>
<li><p>[in] dpp_id - DPP instance for the plane to be added.</p></li>
<li><p>[in] mpcc_id - The MPCC physical instance to use for blending.</p></li>
</ul>
<p>Return:</p>
<p><a class="reference internal" href="#c.mpcc" title="mpcc"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">mpcc</span></code></a>* - MPCC that was added.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">remove_mpcc_from_secondary</span></code></dt><dd><p>Remove a specified DPP from the ‘secondary’ MPC tree.</p>
<p>Parameters:</p>
<ul class="simple">
<li><p>[in/out] mpc  - MPC context.</p></li>
<li><p>[in/out] tree - MPC tree structure that plane will be removed from.</p></li>
<li><p>[in]     mpcc - MPCC to be removed from tree.</p></li>
</ul>
<p>Return:</p>
<p>void</p>
</dd>
</dl>
</div>
</section>
<section id="opp">
<h2>OPP<a class="headerlink" href="#opp" title="Link to this heading">¶</a></h2>
<p>The Output Plane Processor (OPP) block groups have functions that format
pixel streams such that they are suitable for display at the display device.
The key functions contained in the OPP are:</p>
<ul class="simple">
<li><p>Adaptive Backlight Modulation (ABM)</p></li>
<li><p>Formatter (FMT) which provide pixel-by-pixel operations for format the
incoming pixel stream.</p></li>
<li><p>Output Buffer that provide pixel replication, and overlapping.</p></li>
<li><p>Interface between MPC and OPTC.</p></li>
<li><p>Clock and reset generation.</p></li>
<li><p>CRC generation.</p></li>
</ul>
</section>
<section id="dio">
<h2>DIO<a class="headerlink" href="#dio" title="Link to this heading">¶</a></h2>
<p>Display Input Output (DIO), is the display input and output unit in DCN. It
includes output encoders to support different display output, like
DisplayPort, HDMI, DVI interface, and others. It also includes the control
and status channels for these interfaces.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/gpu/amdgpu/display/dcn-blocks.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>