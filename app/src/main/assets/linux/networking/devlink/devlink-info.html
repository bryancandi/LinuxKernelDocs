<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Devlink Info &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=3918102e" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Devlink Flash" href="devlink-flash.html" />
    <link rel="prev" title="Devlink Health" href="devlink-health.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.svg" alt="Logo of The Linux Kernel"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.12.0</p>







<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">All development-process docs</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../subsystem-apis.html">Subsystems</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#core-subsystems">Core subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#human-interfaces">Human interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../subsystem-apis.html#networking-interfaces">Networking interfaces</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Networking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../isdn/index.html">ISDN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mhi/index.html">MHI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#storage-interfaces">Storage interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#other-subsystems">Other subsystems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">Userspace API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/networking/devlink/devlink-info.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->


<section id="devlink-info">
<h1>Devlink Info<a class="headerlink" href="#devlink-info" title="Link to this heading">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">devlink-info</span></code> mechanism enables device drivers to report device
(hardware and firmware) information in a standard, extensible fashion.</p>
<p>The original motivation for the <code class="docutils literal notranslate"><span class="pre">devlink-info</span></code> API was twofold:</p>
<blockquote>
<div><ul class="simple">
<li><p>making it possible to automate device and firmware management in a fleet
of machines in a vendor-independent fashion (see also
<a class="reference internal" href="devlink-flash.html#devlink-flash"><span class="std std-ref">Documentation/networking/devlink/devlink-flash.rst</span></a>);</p></li>
<li><p>name the per component FW versions (as opposed to the crowded ethtool
version string).</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">devlink-info</span></code> supports reporting multiple types of objects. Reporting driver
versions is generally discouraged - here, and via any other Linux API.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">List of top level info objects</span><a class="headerlink" href="#id1" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 5.0%" />
<col style="width: 95.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">driver</span></code></p></td>
<td><p>Name of the currently used device driver, also available through sysfs.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">serial_number</span></code></p></td>
<td><p>Serial number of the device.</p>
<p>This is usually the serial number of the ASIC, also often available
in PCI config space of the device in the <em>Device Serial Number</em>
capability.</p>
<p>The serial number should be unique per physical device.
Sometimes the serial number of the device is only 48 bits long (the
length of the Ethernet MAC address), and since PCI DSN is 64 bits long
devices pad or encode additional information into the serial number.
One example is adding port ID or PCI interface ID in the extra two bytes.
Drivers should make sure to strip or normalize any such padding
or interface ID, and report only the part of the serial number
which uniquely identifies the hardware. In other words serial number
reported for two ports of the same device or on two hosts of
a multi-host device should be identical.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">board.serial_number</span></code></p></td>
<td><p>Board serial number of the device.</p>
<p>This is usually the serial number of the board, often available in
PCI <em>Vital Product Data</em>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fixed</span></code></p></td>
<td><p>Group for hardware identifiers, and versions of components
which are not field-updatable.</p>
<p>Versions in this section identify the device design. For example,
component identifiers or the board version reported in the PCI VPD.
Data in <code class="docutils literal notranslate"><span class="pre">devlink-info</span></code> should be broken into the smallest logical
components, e.g. PCI VPD may concatenate various information
to form the Part Number string, while in <code class="docutils literal notranslate"><span class="pre">devlink-info</span></code> all parts
should be reported as separate items.</p>
<p>This group must not contain any frequently changing identifiers,
such as serial numbers. See
<a class="reference internal" href="devlink-flash.html#devlink-flash"><span class="std std-ref">Documentation/networking/devlink/devlink-flash.rst</span></a>
to understand why.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">running</span></code></p></td>
<td><p>Group for information about currently running software/firmware.
These versions often only update after a reboot, sometimes device reset.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">stored</span></code></p></td>
<td><p>Group for software/firmware versions in device flash.</p>
<p>Stored values must update to reflect changes in the flash even
if reboot has not yet occurred. If device is not capable of updating
<code class="docutils literal notranslate"><span class="pre">stored</span></code> versions when new software is flashed, it must not report
them.</p>
</td>
</tr>
</tbody>
</table>
<p>Each version can be reported at most once in each version group. Firmware
components stored on the flash should feature in both the <code class="docutils literal notranslate"><span class="pre">running</span></code> and
<code class="docutils literal notranslate"><span class="pre">stored</span></code> sections, if device is capable of reporting <code class="docutils literal notranslate"><span class="pre">stored</span></code> versions
(see <a class="reference internal" href="devlink-flash.html#devlink-flash"><span class="std std-ref">Documentation/networking/devlink/devlink-flash.rst</span></a>).
In case software/firmware components are loaded from the disk (e.g.
<code class="docutils literal notranslate"><span class="pre">/lib/firmware</span></code>) only the running version should be reported via
the kernel API.</p>
<section id="generic-versions">
<h2>Generic Versions<a class="headerlink" href="#generic-versions" title="Link to this heading">¶</a></h2>
<p>It is expected that drivers use the following generic names for exporting
version information. If a generic name for a given component doesn’t exist yet,
driver authors should consult existing driver-specific versions and attempt
reuse. As last resort, if a component is truly unique, using driver-specific
names is allowed, but these should be documented in the driver-specific file.</p>
<p>All versions should try to use the following terminology:</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">List of common version suffixes</span><a class="headerlink" href="#id2" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 10.0%" />
<col style="width: 90.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">id</span></code>, <code class="docutils literal notranslate"><span class="pre">revision</span></code></p></td>
<td><p>Identifiers of designs and revision, mostly used for hardware versions.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">api</span></code></p></td>
<td><p>Version of API between components. API items are usually of limited
value to the user, and can be inferred from other versions by the vendor,
so adding API versions is generally discouraged as noise.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bundle_id</span></code></p></td>
<td><p>Identifier of a distribution package which was flashed onto the device.
This is an attribute of a firmware package which covers multiple versions
for ease of managing firmware images (see
<a class="reference internal" href="devlink-flash.html#devlink-flash"><span class="std std-ref">Documentation/networking/devlink/devlink-flash.rst</span></a>).</p>
<p><code class="docutils literal notranslate"><span class="pre">bundle_id</span></code> can appear in both <code class="docutils literal notranslate"><span class="pre">running</span></code> and <code class="docutils literal notranslate"><span class="pre">stored</span></code> versions,
but it must not be reported if any of the components covered by the
<code class="docutils literal notranslate"><span class="pre">bundle_id</span></code> was changed and no longer matches the version from
the bundle.</p>
</td>
</tr>
</tbody>
</table>
<section id="board-id">
<h3>board.id<a class="headerlink" href="#board-id" title="Link to this heading">¶</a></h3>
<p>Unique identifier of the board design.</p>
</section>
<section id="board-rev">
<h3>board.rev<a class="headerlink" href="#board-rev" title="Link to this heading">¶</a></h3>
<p>Board design revision.</p>
</section>
<section id="asic-id">
<h3>asic.id<a class="headerlink" href="#asic-id" title="Link to this heading">¶</a></h3>
<p>ASIC design identifier.</p>
</section>
<section id="asic-rev">
<h3>asic.rev<a class="headerlink" href="#asic-rev" title="Link to this heading">¶</a></h3>
<p>ASIC design revision/stepping.</p>
</section>
<section id="board-manufacture">
<h3>board.manufacture<a class="headerlink" href="#board-manufacture" title="Link to this heading">¶</a></h3>
<p>An identifier of the company or the facility which produced the part.</p>
</section>
<section id="board-part-number">
<h3>board.part_number<a class="headerlink" href="#board-part-number" title="Link to this heading">¶</a></h3>
<p>Part number of the board and its components.</p>
</section>
<section id="fw">
<h3>fw<a class="headerlink" href="#fw" title="Link to this heading">¶</a></h3>
<p>Overall firmware version, often representing the collection of
fw.mgmt, fw.app, etc.</p>
</section>
<section id="fw-mgmt">
<h3>fw.mgmt<a class="headerlink" href="#fw-mgmt" title="Link to this heading">¶</a></h3>
<p>Control unit firmware version. This firmware is responsible for house
keeping tasks, PHY control etc. but not the packet-by-packet data path
operation.</p>
</section>
<section id="fw-mgmt-api">
<h3>fw.mgmt.api<a class="headerlink" href="#fw-mgmt-api" title="Link to this heading">¶</a></h3>
<p>Firmware interface specification version of the software interfaces between
driver and firmware.</p>
</section>
<section id="fw-app">
<h3>fw.app<a class="headerlink" href="#fw-app" title="Link to this heading">¶</a></h3>
<p>Data path microcode controlling high-speed packet processing.</p>
</section>
<section id="fw-undi">
<h3>fw.undi<a class="headerlink" href="#fw-undi" title="Link to this heading">¶</a></h3>
<p>UNDI software, may include the UEFI driver, firmware or both.</p>
</section>
<section id="fw-ncsi">
<h3>fw.ncsi<a class="headerlink" href="#fw-ncsi" title="Link to this heading">¶</a></h3>
<p>Version of the software responsible for supporting/handling the
Network Controller Sideband Interface.</p>
</section>
<section id="fw-psid">
<h3>fw.psid<a class="headerlink" href="#fw-psid" title="Link to this heading">¶</a></h3>
<p>Unique identifier of the firmware parameter set. These are usually
parameters of a particular board, defined at manufacturing time.</p>
</section>
<section id="fw-roce">
<h3>fw.roce<a class="headerlink" href="#fw-roce" title="Link to this heading">¶</a></h3>
<p>RoCE firmware version which is responsible for handling roce
management.</p>
</section>
<section id="fw-bundle-id">
<h3>fw.bundle_id<a class="headerlink" href="#fw-bundle-id" title="Link to this heading">¶</a></h3>
<p>Unique identifier of the entire firmware bundle.</p>
</section>
<section id="fw-bootloader">
<h3>fw.bootloader<a class="headerlink" href="#fw-bootloader" title="Link to this heading">¶</a></h3>
<p>Version of the bootloader.</p>
</section>
</section>
<section id="future-work">
<h2>Future work<a class="headerlink" href="#future-work" title="Link to this heading">¶</a></h2>
<p>The following extensions could be useful:</p>
<blockquote>
<div><ul class="simple">
<li><p>on-disk firmware file names - drivers list the file names of firmware they
may need to load onto devices via the <code class="docutils literal notranslate"><span class="pre">MODULE_FIRMWARE()</span></code> macro. These,
however, are per module, rather than per device. It’d be useful to list
the names of firmware files the driver will try to load for a given device,
in order of priority.</p></li>
</ul>
</div></blockquote>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;The kernel development community.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../../_sources/networking/devlink/devlink-info.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>