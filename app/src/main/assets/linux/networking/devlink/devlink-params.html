<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Devlink Params &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=a152c8ac" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Devlink Port" href="devlink-port.html" />
    <link rel="prev" title="Devlink Flash" href="devlink-flash.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.9.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">All development-process docs</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../subsystem-apis.html">Subsystems</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#core-subsystems">Core subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#human-interfaces">Human interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../subsystem-apis.html#networking-interfaces">Networking interfaces</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Networking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../isdn/index.html">ISDN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mhi/index.html">MHI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#storage-interfaces">Storage interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#other-subsystems">Other subsystems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">Userspace API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/networking/devlink/devlink-params.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->


<section id="devlink-params">
<h1>Devlink Params<a class="headerlink" href="#devlink-params" title="Link to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">devlink</span></code> provides capability for a driver to expose device parameters for low
level device functionality. Since devlink can operate at the device-wide
level, it can be used to provide configuration that may affect multiple
ports on a single device.</p>
<p>This document describes a number of generic parameters that are supported
across multiple drivers. Each driver is also free to add their own
parameters. Each driver must document the specific parameters they support,
whether generic or not.</p>
<section id="configuration-modes">
<h2>Configuration modes<a class="headerlink" href="#configuration-modes" title="Link to this heading">¶</a></h2>
<p>Parameters may be set in different configuration modes.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Possible configuration modes</span><a class="headerlink" href="#id1" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 5.3%" />
<col style="width: 94.7%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">runtime</span></code></p></td>
<td><p>set while the driver is running, and takes effect immediately. No
reset is required.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">driverinit</span></code></p></td>
<td><p>applied while the driver initializes. Requires the user to restart
the driver using the <code class="docutils literal notranslate"><span class="pre">devlink</span></code> reload command.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">permanent</span></code></p></td>
<td><p>written to the device’s non-volatile memory. A hard reset is required
for it to take effect.</p></td>
</tr>
</tbody>
</table>
<section id="reloading">
<h3>Reloading<a class="headerlink" href="#reloading" title="Link to this heading">¶</a></h3>
<p>In order for <code class="docutils literal notranslate"><span class="pre">driverinit</span></code> parameters to take effect, the driver must
support reloading via the <code class="docutils literal notranslate"><span class="pre">devlink-reload</span></code> command. This command will
request a reload of the device driver.</p>
</section>
</section>
<section id="generic-configuration-parameters">
<span id="devlink-params-generic"></span><h2>Generic configuration parameters<a class="headerlink" href="#generic-configuration-parameters" title="Link to this heading">¶</a></h2>
<p>The following is a list of generic configuration parameters that drivers may
add. Use of generic parameters is preferred over each driver creating their
own name.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">List of generic parameters</span><a class="headerlink" href="#id2" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 5.0%" />
<col style="width: 5.0%" />
<col style="width: 90.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>Type</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">enable_sriov</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>Enable Single Root I/O Virtualization (SRIOV) in the device.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ignore_ari</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>Ignore Alternative Routing-ID Interpretation (ARI) capability. If
enabled, the adapter will ignore ARI capability even when the
platform has support enabled. The device will create the same number
of partitions as when the platform does not support ARI.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">msix_vec_per_pf_max</span></code></p></td>
<td><p>u32</p></td>
<td><p>Provides the maximum number of MSI-X interrupts that a device can
create. Value is the same across all physical functions (PFs) in the
device.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">msix_vec_per_pf_min</span></code></p></td>
<td><p>u32</p></td>
<td><p>Provides the minimum number of MSI-X interrupts required for the
device to initialize. Value is the same across all physical functions
(PFs) in the device.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fw_load_policy</span></code></p></td>
<td><p>u8</p></td>
<td><dl class="simple">
<dt>Control the device’s firmware loading policy.</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_FW_LOAD_POLICY_VALUE_DRIVER</span></code> (0)
Load firmware version preferred by the driver.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_FW_LOAD_POLICY_VALUE_FLASH</span></code> (1)
Load firmware currently stored in flash.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_FW_LOAD_POLICY_VALUE_DISK</span></code> (2)
Load firmware currently available on host’s disk.</p></li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">reset_dev_on_drv_probe</span></code></p></td>
<td><p>u8</p></td>
<td><dl class="simple">
<dt>Controls the device’s reset policy on driver probe.</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_RESET_DEV_ON_DRV_PROBE_VALUE_UNKNOWN</span></code> (0)
Unknown or invalid value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_RESET_DEV_ON_DRV_PROBE_VALUE_ALWAYS</span></code> (1)
Always reset device on driver probe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_RESET_DEV_ON_DRV_PROBE_VALUE_NEVER</span></code> (2)
Never reset device on driver probe.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DEVLINK_PARAM_RESET_DEV_ON_DRV_PROBE_VALUE_DISK</span></code> (3)
Reset the device only if firmware can be found in the filesystem.</p></li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">enable_roce</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>Enable handling of RoCE traffic in the device.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">enable_eth</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>When enabled, the device driver will instantiate Ethernet specific
auxiliary device of the devlink device.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">enable_rdma</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>When enabled, the device driver will instantiate RDMA specific
auxiliary device of the devlink device.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">enable_vnet</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>When enabled, the device driver will instantiate VDPA networking
specific auxiliary device of the devlink device.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">enable_iwarp</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>Enable handling of iWARP traffic in the device.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">internal_err_reset</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>When enabled, the device driver will reset the device on internal
errors.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">max_macs</span></code></p></td>
<td><p>u32</p></td>
<td><p>Typically macvlan, vlan net devices mac are also programmed in their
parent netdevice’s Function rx filter. This parameter limit the
maximum number of unicast mac address filters to receive traffic from
per ethernet port of this device.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">region_snapshot_enable</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>Enable capture of <code class="docutils literal notranslate"><span class="pre">devlink-region</span></code> snapshots.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">enable_remote_dev_reset</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>Enable device reset by remote host. When cleared, the device driver
will NACK any attempt of other host to reset the device. This parameter
is useful for setups where a device is shared by different hosts, such
as multi-host setup.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">io_eq_size</span></code></p></td>
<td><p>u32</p></td>
<td><p>Control the size of I/O completion EQs.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">event_eq_size</span></code></p></td>
<td><p>u32</p></td>
<td><p>Control the size of asynchronous control events EQ.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/networking/devlink/devlink-params.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>