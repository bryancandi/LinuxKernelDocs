
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Device Frequency Scaling &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="High Speed Synchronous Serial Interface (HSI)" href="hsi.html" />
    <link rel="prev" title="Generic System Interconnect Subsystem" href="interconnect.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.7.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/development-process.html">A guide to the Kernel Development Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/submitting-patches.html">Submitting patches: the essential guide to getting your code into the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">All development-process docs</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Driver implementer's API guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="driver-model/index.html">Driver Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="basics.html">Driver Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="infrastructure.html">Device drivers infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="ioctl.html">ioctl based interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="early-userspace/index.html">Early Userspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="pm/index.html">CPU and Device Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="clk.html">The Common Clk Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="device-io.html">Bus-Independent Device Accesses</a></li>
<li class="toctree-l2"><a class="reference internal" href="dma-buf.html">Buffer Sharing and Synchronization (dma-buf)</a></li>
<li class="toctree-l2"><a class="reference internal" href="device_link.html">Device links</a></li>
<li class="toctree-l2"><a class="reference internal" href="component.html">Component Helper for Aggregate Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="message-based.html">Message-based devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="infiniband.html">InfiniBand and Remote DMA (RDMA) Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="aperture.html">Managing Ownership of the Framebuffer Aperture</a></li>
<li class="toctree-l2"><a class="reference internal" href="frame-buffer.html">Frame Buffer Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="regulator.html">Voltage and current regulator API</a></li>
<li class="toctree-l2"><a class="reference internal" href="reset.html">Reset controller API</a></li>
<li class="toctree-l2"><a class="reference internal" href="iio/index.html">Industrial I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Input Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="usb/index.html">Linux USB API</a></li>
<li class="toctree-l2"><a class="reference internal" href="firewire.html">Firewire (IEEE 1394) driver Interface Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="pci/index.html">The Linux PCI driver implementer's API guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="cxl/index.html">Compute Express Link</a></li>
<li class="toctree-l2"><a class="reference internal" href="spi.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="i2c.html">I<sup>2</sup>C and SMBus Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="ipmb.html">IPMB Driver for a Satellite MC</a></li>
<li class="toctree-l2"><a class="reference internal" href="ipmi.html">The Linux IPMI Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="i3c/index.html">I3C subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="interconnect.html">Generic System Interconnect Subsystem</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Device Frequency Scaling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hsi.html">High Speed Synchronous Serial Interface (HSI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="edac.html">Error Detection And Correction (EDAC) Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="scsi.html">SCSI Interfaces Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="libata.html">libATA Developer's Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="target.html">target and iSCSI Interfaces Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="mailbox.html">The Common Mailbox Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="mtdnand.html">MTD NAND Driver Programming Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="miscellaneous.html">Parallel Port Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="miscellaneous.html#x50-uart-driver">16x50 UART Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="miscellaneous.html#pulse-width-modulation-pwm">Pulse-Width Modulation (PWM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="mei/index.html">Intel(R) Management Engine Interface (Intel(R) MEI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="mtd/index.html">Memory Technology Device (MTD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="mmc/index.html">MMC/SD/SDIO card support</a></li>
<li class="toctree-l2"><a class="reference internal" href="nvdimm/index.html">Non-Volatile Memory Device (NVDIMM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="w1.html">W1: Dallas' 1-wire bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapidio/index.html">The Linux RapidIO Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="s390-drivers.html">Writing s390 channel device drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="vme.html">VME Device Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="80211/index.html">Linux 802.11 Driver Developer's Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="uio-howto.html">The Userspace I/O HOWTO</a></li>
<li class="toctree-l2"><a class="reference internal" href="firmware/index.html">Linux Firmware API</a></li>
<li class="toctree-l2"><a class="reference internal" href="pin-control.html">PINCTRL (PIN CONTROL) subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpio/index.html">General Purpose Input/Output (GPIO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="md/index.html">RAID</a></li>
<li class="toctree-l2"><a class="reference internal" href="media/index.html">Media subsystem kernel internal API</a></li>
<li class="toctree-l2"><a class="reference internal" href="misc_devices.html">Miscellaneous Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="nfc/index.html">Near Field Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="dmaengine/index.html">DMAEngine documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="slimbus.html">Linux kernel SLIMbus support</a></li>
<li class="toctree-l2"><a class="reference internal" href="soundwire/index.html">SoundWire Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="thermal/index.html">Thermal</a></li>
<li class="toctree-l2"><a class="reference internal" href="fpga/index.html">FPGA Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="acpi/index.html">ACPI Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxiliary_bus.html">Auxiliary Bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="backlight/lp855x-driver.html">Kernel driver lp855x</a></li>
<li class="toctree-l2"><a class="reference internal" href="connector.html">Kernel Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html">Console Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="dcdbas.html">Dell Systems Management Base Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="eisa.html">EISA bus support</a></li>
<li class="toctree-l2"><a class="reference internal" href="isa.html">ISA Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="isapnp.html">ISA Plug &amp; Play support by Jaroslav Kysela &lt;perex&#64;suse.cz&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="io-mapping.html">The io_mapping functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="io_ordering.html">Ordering I/O writes to memory-mapped addresses</a></li>
<li class="toctree-l2"><a class="reference internal" href="generic-counter.html">Generic Counter Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory-devices/index.html">Memory Controller drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="men-chameleon-bus.html">MEN Chameleon Bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="ntb.html">NTB Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="nvmem.html">NVMEM Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="parport-lowlevel.html">PARPORT interface documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="pps.html">PPS - Pulse Per Second</a></li>
<li class="toctree-l2"><a class="reference internal" href="ptp.html">PTP hardware clock infrastructure for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="phy/index.html">Generic PHY Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="pwm.html">Pulse Width Modulation (PWM) interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="pldmfw/index.html">PLDM Firmware Flash Update Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="pldmfw/index.html#overview-of-the-pldmfw-library">Overview of the <code class="docutils literal notranslate"><span class="pre">pldmfw</span></code> library</a></li>
<li class="toctree-l2"><a class="reference internal" href="rfkill.html">rfkill - RF kill switch support</a></li>
<li class="toctree-l2"><a class="reference internal" href="serial/index.html">Support for Serial devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="sm501.html">SM501 Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="surface_aggregator/index.html">Surface System Aggregator Module (SSAM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="switchtec.html">Linux Switchtec Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="sync_file.html">Sync File API Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="tty/index.html">TTY</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfio-mediated-device.html">VFIO Mediated devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="vfio.html">VFIO - &quot;Virtual Function I/O&quot; </a></li>
<li class="toctree-l2"><a class="reference internal" href="vfio-pci-device-specific-driver-acceptance.html">Acceptance criteria for vfio-pci device specific driver variants</a></li>
<li class="toctree-l2"><a class="reference internal" href="virtio/index.html">Virtio</a></li>
<li class="toctree-l2"><a class="reference internal" href="xilinx/index.html">Xilinx FPGA</a></li>
<li class="toctree-l2"><a class="reference internal" href="xillybus.html">Xillybus driver for generic FPGA interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="zorro.html">Writing Device Drivers for Zorro Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="hte/index.html">The Linux Hardware Timestamping Engine (HTE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="wmi.html">WMI Driver API</a></li>
<li class="toctree-l2"><a class="reference internal" href="dpll.html">The Linux kernel dpll subsystem</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../subsystem-apis.html">Kernel subsystem documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">Locking in the kernel</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/license-rules.html">Linux kernel licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/testing-overview.html">Kernel Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user's and administrator's guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">The kernel build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">User-space tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">Open Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">CPU Architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">Unsorted Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  sbar.scrollTop = currents[currents.length - 1].offsetTop;
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/driver-api/devfreq.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="device-frequency-scaling">
<h1>Device Frequency Scaling<a class="headerlink" href="#device-frequency-scaling" title="Permalink to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>This framework provides a standard kernel interface for Dynamic Voltage and
Frequency Switching on arbitrary devices.</p>
<p>It exposes controls for adjusting frequency through sysfs files which are
similar to the cpufreq subsystem.</p>
<p>Devices for which current usage can be measured can have their frequency
automatically adjusted by governors.</p>
</section>
<section id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this heading">¶</a></h2>
<p>Device drivers need to initialize a <code class="xref c c-type docutils literal notranslate"><span class="pre">devfreq_profile</span></code> and call the
<a class="reference internal" href="#c.devfreq_add_device" title="devfreq_add_device"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_add_device()</span></code></a> function to create a <a class="reference internal" href="#c.devfreq" title="devfreq"><code class="xref c c-type docutils literal notranslate"><span class="pre">devfreq</span></code></a> instance.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.devfreq_dev_status">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_dev_status</span></span></span><a class="headerlink" href="#c.devfreq_dev_status" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Data given from devfreq user device to governors. Represents the performance statistics.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct devfreq_dev_status {
    unsigned long total_time;
    unsigned long busy_time;
    unsigned long current_frequency;
    void *private_data;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">total_time</span></code></dt><dd><p>The total time represented by this instance of
devfreq_dev_status</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">busy_time</span></code></dt><dd><p>The time that the device was working among the
total_time.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">current_frequency</span></code></dt><dd><p>The operating frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">private_data</span></code></dt><dd><p>An entry not specified by the devfreq framework.
A device and a specific governor may have their
own protocol with private_data. However, because
this is governor-specific, a governor using this
will be only compatible with devices aware of it.</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.devfreq_dev_profile">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_dev_profile</span></span></span><a class="headerlink" href="#c.devfreq_dev_profile" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Devfreq's user device profile</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct devfreq_dev_profile {
    unsigned long initial_freq;
    unsigned int polling_ms;
    enum devfreq_timer timer;
    int (*target)(struct device *dev, unsigned long *freq, u32 flags);
    int (*get_dev_status)(struct device *dev, struct devfreq_dev_status *stat);
    int (*get_cur_freq)(struct device *dev, unsigned long *freq);
    void (*exit)(struct device *dev);
    unsigned long *freq_table;
    unsigned int max_state;
    bool is_cooling_device;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">initial_freq</span></code></dt><dd><p>The operating frequency when <a class="reference internal" href="#c.devfreq_add_device" title="devfreq_add_device"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_add_device()</span></code></a> is
called.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">polling_ms</span></code></dt><dd><p>The polling interval in ms. 0 disables polling.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">timer</span></code></dt><dd><p>Timer type is either deferrable or delayed timer.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">target</span></code></dt><dd><p>The device should set its operating frequency at
freq or lowest-upper-than-freq value. If freq is
higher than any operable frequency, set maximum.
Before returning, target function should set
freq at the current frequency.
The &quot;flags&quot; parameter's possible values are
explained above with &quot;DEVFREQ_FLAG_*&quot; macros.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">get_dev_status</span></code></dt><dd><p>The device should provide the current performance
status to devfreq. Governors are recommended not to
use this directly. Instead, governors are recommended
to use devfreq_update_stats() along with
devfreq.last_status.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">get_cur_freq</span></code></dt><dd><p>The device should provide the current frequency
at which it is operating.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">exit</span></code></dt><dd><p>An optional callback that is called when devfreq
is removing the devfreq object due to error or
from <a class="reference internal" href="#c.devfreq_remove_device" title="devfreq_remove_device"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_remove_device()</span></code></a> call. If the user
has registered devfreq-&gt;nb at a notifier-head,
this is the time to unregister it.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">freq_table</span></code></dt><dd><p>Optional list of frequencies to support statistics
and freq_table must be generated in ascending order.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_state</span></code></dt><dd><p>The size of freq_table.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">is_cooling_device</span></code></dt><dd><p>A self-explanatory boolean giving the device a
cooling effect property.</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.devfreq_stats">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_stats</span></span></span><a class="headerlink" href="#c.devfreq_stats" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Statistics of devfreq device behavior</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct devfreq_stats {
    unsigned int total_trans;
    unsigned int *trans_table;
    u64 *time_in_state;
    u64 last_update;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">total_trans</span></code></dt><dd><p>Number of devfreq transitions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">trans_table</span></code></dt><dd><p>Statistics of devfreq transitions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">time_in_state</span></code></dt><dd><p>Statistics of devfreq states.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">last_update</span></code></dt><dd><p>The last time stats were updated.</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.devfreq">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq</span></span></span><a class="headerlink" href="#c.devfreq" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Device devfreq structure</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct devfreq {
    struct list_head node;
    struct mutex lock;
    struct device dev;
    struct devfreq_dev_profile *profile;
    const struct devfreq_governor *governor;
    struct opp_table *opp_table;
    struct notifier_block nb;
    struct delayed_work work;
    unsigned long *freq_table;
    unsigned int max_state;
    unsigned long previous_freq;
    struct devfreq_dev_status last_status;
    void *data;
    void *governor_data;
    struct dev_pm_qos_request user_min_freq_req;
    struct dev_pm_qos_request user_max_freq_req;
    unsigned long scaling_min_freq;
    unsigned long scaling_max_freq;
    bool stop_polling;
    unsigned long suspend_freq;
    unsigned long resume_freq;
    atomic_t suspend_count;
    struct devfreq_stats stats;
    struct srcu_notifier_head transition_notifier_list;
    struct thermal_cooling_device *cdev;
    struct notifier_block nb_min;
    struct notifier_block nb_max;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">node</span></code></dt><dd><p>list node - contains the devices with devfreq that have been
registered.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lock</span></code></dt><dd><p>a mutex to protect accessing devfreq.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dev</span></code></dt><dd><p>device registered by devfreq class. dev.parent is the device
using devfreq.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">profile</span></code></dt><dd><p>device-specific devfreq profile</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">governor</span></code></dt><dd><p>method how to choose frequency based on the usage.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">opp_table</span></code></dt><dd><p>Reference to OPP table of dev.parent, if one exists.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nb</span></code></dt><dd><p>notifier block used to notify devfreq object that it should
reevaluate operable frequencies. Devfreq users may use
devfreq.nb to the corresponding register notifier call chain.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">work</span></code></dt><dd><p>delayed work for load monitoring.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">freq_table</span></code></dt><dd><p>current frequency table used by the devfreq driver.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_state</span></code></dt><dd><p>count of entry present in the frequency table.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">previous_freq</span></code></dt><dd><p>previously configured frequency value.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">last_status</span></code></dt><dd><p>devfreq user device info, performance statistics</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">data</span></code></dt><dd><p>devfreq driver pass to governors, governor should not change it.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">governor_data</span></code></dt><dd><p>private data for governors, devfreq core doesn't touch it.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">user_min_freq_req</span></code></dt><dd><p>PM QoS minimum frequency request from user (via sysfs)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">user_max_freq_req</span></code></dt><dd><p>PM QoS maximum frequency request from user (via sysfs)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scaling_min_freq</span></code></dt><dd><p>Limit minimum frequency requested by OPP interface</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scaling_max_freq</span></code></dt><dd><p>Limit maximum frequency requested by OPP interface</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stop_polling</span></code></dt><dd><p>devfreq polling status of a device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">suspend_freq</span></code></dt><dd><p>frequency of a device set during suspend phase.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">resume_freq</span></code></dt><dd><p>frequency of a device set in resume phase.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">suspend_count</span></code></dt><dd><p>suspend requests counter for a device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">stats</span></code></dt><dd><p>Statistics of devfreq device behavior</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">transition_notifier_list</span></code></dt><dd><p>list head of DEVFREQ_TRANSITION_NOTIFIER notifier</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cdev</span></code></dt><dd><p>Cooling device pointer if the devfreq has cooling property</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nb_min</span></code></dt><dd><p>Notifier block for DEV_PM_QOS_MIN_FREQUENCY</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nb_max</span></code></dt><dd><p>Notifier block for DEV_PM_QOS_MAX_FREQUENCY</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>This structure stores the devfreq information for a given device.</p>
<p>Note that when a governor accesses entries in <a class="reference internal" href="#c.devfreq" title="devfreq"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span></code></a> in its
functions except for the context of callbacks defined in struct
devfreq_governor, the governor should protect its access with the
struct mutex lock in <a class="reference internal" href="#c.devfreq" title="devfreq"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span></code></a>. A governor may use this mutex
to protect its own private data in <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*data</span></code> as well.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.devfreq_simple_ondemand_data">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_simple_ondemand_data</span></span></span><a class="headerlink" href="#c.devfreq_simple_ondemand_data" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*data</span></code> fed to <a class="reference internal" href="#c.devfreq" title="devfreq"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span></code></a> and devfreq_add_device</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct devfreq_simple_ondemand_data {
    unsigned int upthreshold;
    unsigned int downdifferential;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">upthreshold</span></code></dt><dd><p>If the load is over this value, the frequency jumps.
Specify 0 to use the default. Valid value = 0 to 100.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">downdifferential</span></code></dt><dd><p>If the load is under upthreshold - downdifferential,
the governor may consider slowing the frequency down.
Specify 0 to use the default. Valid value = 0 to 100.
downdifferential &lt; upthreshold must hold.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>If the fed devfreq_simple_ondemand_data pointer is NULL to the governor,
the governor uses the default values.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.devfreq_passive_data">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_passive_data</span></span></span><a class="headerlink" href="#c.devfreq_passive_data" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*data</span></code> fed to <a class="reference internal" href="#c.devfreq" title="devfreq"><code class="xref c c-struct docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span></code></a> and devfreq_add_device</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct devfreq_passive_data {
    struct devfreq *parent;
    int (*get_target_freq)(struct devfreq *this, unsigned long *freq);
    enum devfreq_parent_dev_type parent_type;
    struct devfreq *this;
    struct notifier_block nb;
    struct list_head cpu_data_list;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">parent</span></code></dt><dd><p>the devfreq instance of parent device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">get_target_freq</span></code></dt><dd><p>Optional callback, Returns desired operating frequency
for the device using passive governor. That is called
when passive governor should decide the next frequency
by using the new frequency of parent devfreq device
using governors except for passive governor.
If the devfreq device has the specific method to decide
the next frequency, should use this callback.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">parent_type</span></code></dt><dd><p>the parent type of the device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">this</span></code></dt><dd><p>the devfreq instance of own device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nb</span></code></dt><dd><p>the notifier block for DEVFREQ_TRANSITION_NOTIFIER or
CPUFREQ_TRANSITION_NOTIFIER list.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cpu_data_list</span></code></dt><dd><p>the list of cpu frequency data for all cpufreq_policy.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>The devfreq_passive_data have to set the devfreq instance of parent
device with governors except for the passive governor. But, don't need to
initialize the 'this' and 'nb' field because the devfreq core will handle
them.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.devfreq_event_dev">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_dev</span></span></span><a class="headerlink" href="#c.devfreq_event_dev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>the devfreq-event device</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct devfreq_event_dev {
    struct list_head node;
    struct device dev;
    struct mutex lock;
    u32 enable_count;
    const struct devfreq_event_desc *desc;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">node</span></code></dt><dd><p>Contain the devfreq-event device that have been registered.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dev</span></code></dt><dd><p>the device registered by devfreq-event class. dev.parent is
the device using devfreq-event.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lock</span></code></dt><dd><p>a mutex to protect accessing devfreq-event.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enable_count</span></code></dt><dd><p>the number of enable function have been called.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">desc</span></code></dt><dd><p>the description for devfreq-event device.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>This structure contains devfreq-event device information.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.devfreq_event_data">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_data</span></span></span><a class="headerlink" href="#c.devfreq_event_data" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>the devfreq-event data</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct devfreq_event_data {
    unsigned long load_count;
    unsigned long total_count;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">load_count</span></code></dt><dd><p>load count of devfreq-event device for the given period.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">total_count</span></code></dt><dd><p>total count of devfreq-event device for the given period.
each count may represent a clock cycle, a time unit
(ns/us/...), or anything the device driver wants.
Generally, utilization is load_count / total_count.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>This structure contains the data of devfreq-event device for polling period.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.devfreq_event_ops">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_ops</span></span></span><a class="headerlink" href="#c.devfreq_event_ops" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>the operations of devfreq-event device</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct devfreq_event_ops {
    int (*enable)(struct devfreq_event_dev *edev);
    int (*disable)(struct devfreq_event_dev *edev);
    int (*reset)(struct devfreq_event_dev *edev);
    int (*set_event)(struct devfreq_event_dev *edev);
    int (*get_event)(struct devfreq_event_dev *edev, struct devfreq_event_data *edata);
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">enable</span></code></dt><dd><p>Enable the devfreq-event device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">disable</span></code></dt><dd><p>Disable the devfreq-event device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reset</span></code></dt><dd><p>Reset all setting of the devfreq-event device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">set_event</span></code></dt><dd><p>Set the specific event type for the devfreq-event device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">get_event</span></code></dt><dd><p>Get the result of the devfreq-event devie with specific
event type.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>This structure contains devfreq-event device operations which can be
implemented by devfreq-event device drivers.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.devfreq_event_desc">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_desc</span></span></span><a class="headerlink" href="#c.devfreq_event_desc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>the descriptor of devfreq-event device</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct devfreq_event_desc {
    const char *name;
    u32 event_type;
    void *driver_data;
    const struct devfreq_event_ops *ops;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">name</span></code></dt><dd><p>the name of devfreq-event device.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">event_type</span></code></dt><dd><p>the type of the event determined and used by driver</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">driver_data</span></code></dt><dd><p>the private data for devfreq-event driver.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ops</span></code></dt><dd><p>the operation to control devfreq-event device.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Each devfreq-event device is described with a this structure.
This structure contains the various data for devfreq-event device.
The event_type describes what is going to be counted in the register.
It might choose to count e.g. read requests, write data in bytes, etc.
The full supported list of types is present in specyfic header in:
include/dt-bindings/pmu/.</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_get_freq_range">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_get_freq_range</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_get_freq_range" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">min_freq</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">max_freq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_get_freq_range" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the current freq range</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">*min_freq</span></code></dt><dd><p>the min frequency</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">*max_freq</span></code></dt><dd><p>the max frequency</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This takes into consideration all constraints.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_update_status">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_update_status</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_update_status" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="n"><span class="pre">freq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_update_status" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Update statistics of devfreq behavior</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">freq</span></code></dt><dd><p>the update target frequency</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_update_target">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_update_target</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_update_target" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="n"><span class="pre">freq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_update_target" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reevaluate the device and configure frequency on the final stage.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">freq</span></code></dt><dd><p>the new frequency of parent device. This argument
is only used for devfreq device using passive governor.</p>
</dd>
</dl>
<p><strong>Note</strong></p>
<dl class="simple">
<dt>Lock devfreq-&gt;lock before calling devfreq_update_target. This function</dt><dd><p>should be only used by both <a class="reference internal" href="#c.update_devfreq" title="update_devfreq"><code class="xref c c-func docutils literal notranslate"><span class="pre">update_devfreq()</span></code></a> and devfreq governors.</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.update_devfreq">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update_devfreq</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.update_devfreq" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.update_devfreq" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reevaluate the device and configure frequency.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance.</p>
</dd>
</dl>
<p><strong>Note</strong></p>
<dl class="simple">
<dt>Lock devfreq-&gt;lock before calling update_devfreq</dt><dd><p>This function is exported for governors.</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_monitor_start">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_monitor_start</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_monitor_start" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_monitor_start" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Start load monitoring of devfreq instance</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Helper function for starting devfreq device load monitoring. By default,
deferrable timer is used for load monitoring. But the users can change this
behavior using the &quot;timer&quot; type in devfreq_dev_profile. This function will be
called by devfreq governor in response to the DEVFREQ_GOV_START event
generated while adding a device to the devfreq framework.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_monitor_stop">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_monitor_stop</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_monitor_stop" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_monitor_stop" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Stop load monitoring of a devfreq instance</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Helper function to stop devfreq device load monitoring. Function
to be called from governor in response to DEVFREQ_GOV_STOP
event when device is removed from devfreq framework.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_monitor_suspend">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_monitor_suspend</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_monitor_suspend" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_monitor_suspend" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Suspend load monitoring of a devfreq instance</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Helper function to suspend devfreq device load monitoring. Function
to be called from governor in response to DEVFREQ_GOV_SUSPEND
event or when polling interval is set to zero.</p>
<p><strong>Note</strong></p>
<p>Though this function is same as <a class="reference internal" href="#c.devfreq_monitor_stop" title="devfreq_monitor_stop"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_monitor_stop()</span></code></a>,
intentionally kept separate to provide hooks for collecting
transition statistics.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_monitor_resume">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_monitor_resume</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_monitor_resume" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_monitor_resume" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Resume load monitoring of a devfreq instance</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Helper function to resume devfreq device load monitoring. Function
to be called from governor in response to DEVFREQ_GOV_RESUME
event or when polling interval is set to non-zero.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_update_interval">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_update_interval</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_update_interval" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">delay</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_update_interval" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Update device devfreq monitoring interval</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">*delay</span></code></dt><dd><p>new polling interval to be set.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Helper function to set new load monitoring polling interval. Function
to be called from governor in response to DEVFREQ_GOV_UPDATE_INTERVAL event.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_add_device">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_add_device</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_dev_profile" title="devfreq_dev_profile"><span class="n"><span class="pre">devfreq_dev_profile</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">profile</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">governor_name</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_add_device" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Add devfreq feature to the device</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>the device to add devfreq feature.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_dev_profile</span> <span class="pre">*profile</span></code></dt><dd><p>device-specific profile to run devfreq.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*governor_name</span></code></dt><dd><p>name of the policy to choose frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*data</span></code></dt><dd><p>devfreq driver pass to governors, governor should not change it.</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_remove_device">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_remove_device</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_remove_device" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_remove_device" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Remove devfreq feature from a device.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance to be removed</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>The opposite of <a class="reference internal" href="#c.devfreq_add_device" title="devfreq_add_device"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_add_device()</span></code></a>.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devm_devfreq_add_device">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">devm_devfreq_add_device</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_dev_profile" title="devfreq_dev_profile"><span class="n"><span class="pre">devfreq_dev_profile</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">profile</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">governor_name</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devm_devfreq_add_device" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Resource-managed <a class="reference internal" href="#c.devfreq_add_device" title="devfreq_add_device"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_add_device()</span></code></a></p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>the device to add devfreq feature.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_dev_profile</span> <span class="pre">*profile</span></code></dt><dd><p>device-specific profile to run devfreq.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*governor_name</span></code></dt><dd><p>name of the policy to choose frequency.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*data</span></code></dt><dd><p>devfreq driver pass to governors, governor should not change it.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function manages automatically the memory of devfreq device using device
resource management and simplify the free operation for memory of devfreq
device.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devm_devfreq_remove_device">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devm_devfreq_remove_device</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devm_devfreq_remove_device" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devm_devfreq_remove_device" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Resource-managed <a class="reference internal" href="#c.devfreq_remove_device" title="devfreq_remove_device"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_remove_device()</span></code></a></p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>the device from which to remove devfreq feature.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance to be removed</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_suspend_device">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_suspend_device</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_suspend_device" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_suspend_device" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Suspend devfreq of a device.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance to be suspended</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function is intended to be called by the pm callbacks
(e.g., runtime_suspend, suspend) of the device driver that
holds the devfreq.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_resume_device">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_resume_device</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_resume_device" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_resume_device" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Resume devfreq of a device.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>the devfreq instance to be resumed</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This function is intended to be called by the pm callbacks
(e.g., runtime_resume, resume) of the device driver that
holds the devfreq.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_add_governor">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_add_governor</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">devfreq_governor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">governor</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_add_governor" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Add devfreq governor</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_governor</span> <span class="pre">*governor</span></code></dt><dd><p>the devfreq governor to be added</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devm_devfreq_add_governor">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devm_devfreq_add_governor</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">devfreq_governor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">governor</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devm_devfreq_add_governor" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Add devfreq governor</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>device which adds devfreq governor</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_governor</span> <span class="pre">*governor</span></code></dt><dd><p>the devfreq governor to be added</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>This is a resource-managed variant of <a class="reference internal" href="#c.devfreq_add_governor" title="devfreq_add_governor"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_add_governor()</span></code></a>.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_remove_governor">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_remove_governor</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">devfreq_governor</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">governor</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_remove_governor" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Remove devfreq feature from a device.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_governor</span> <span class="pre">*governor</span></code></dt><dd><p>the devfreq governor to be removed</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_recommended_opp">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">dev_pm_opp</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_recommended_opp</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">freq</span></span>, <span class="n"><span class="pre">u32</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_recommended_opp" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Helper function to get proper OPP for the freq value given to target callback.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>The devfreq user device. (parent of devfreq)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">*freq</span></code></dt><dd><p>The frequency given to target function</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">flags</span></code></dt><dd><p>Flags handed from devfreq framework.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>The callers are required to call dev_pm_opp_put() for the returned OPP after
use.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_register_opp_notifier">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_register_opp_notifier</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_register_opp_notifier" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_register_opp_notifier" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Helper function to get devfreq notified for any changes in the OPP availability changes</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>The devfreq user device. (parent of devfreq)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>The devfreq object.</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_unregister_opp_notifier">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_unregister_opp_notifier</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_unregister_opp_notifier" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_unregister_opp_notifier" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Helper function to stop getting devfreq notified for any changes in the OPP availability changes anymore.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>The devfreq user device. (parent of devfreq)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>The devfreq object.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>At exit() callback of devfreq_dev_profile, this must be included if
devfreq_recommended_opp is used.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devm_devfreq_register_opp_notifier">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devm_devfreq_register_opp_notifier</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devm_devfreq_register_opp_notifier" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devm_devfreq_register_opp_notifier" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Resource-managed <a class="reference internal" href="#c.devfreq_register_opp_notifier" title="devfreq_register_opp_notifier"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_register_opp_notifier()</span></code></a></p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>The devfreq user device. (parent of devfreq)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>The devfreq object.</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devm_devfreq_unregister_opp_notifier">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devm_devfreq_unregister_opp_notifier</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devm_devfreq_unregister_opp_notifier" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devm_devfreq_unregister_opp_notifier" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Resource-managed <a class="reference internal" href="#c.devfreq_unregister_opp_notifier" title="devfreq_unregister_opp_notifier"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_unregister_opp_notifier()</span></code></a></p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>The devfreq user device. (parent of devfreq)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>The devfreq object.</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_register_notifier">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_register_notifier</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_register_notifier" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">notifier_block</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">nb</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_register_notifier" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Register a driver with devfreq</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>The devfreq object.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">notifier_block</span> <span class="pre">*nb</span></code></dt><dd><p>The notifier block to register.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">list</span></code></dt><dd><p>DEVFREQ_TRANSITION_NOTIFIER.</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devm_devfreq_register_notifier">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devm_devfreq_register_notifier</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devm_devfreq_register_notifier" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">notifier_block</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">nb</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devm_devfreq_register_notifier" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>The devfreq user device. (parent of devfreq)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>The devfreq object.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">notifier_block</span> <span class="pre">*nb</span></code></dt><dd><p>The notifier block to be unregistered.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">list</span></code></dt><dd><p>DEVFREQ_TRANSITION_NOTIFIER.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Resource-managed <a class="reference internal" href="#c.devfreq_register_notifier" title="devfreq_register_notifier"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_register_notifier()</span></code></a></p></li>
</ul>
</div></blockquote>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devm_devfreq_unregister_notifier">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devm_devfreq_unregister_notifier</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devm_devfreq_unregister_notifier" title="devfreq"><span class="n"><span class="pre">devfreq</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">devfreq</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">notifier_block</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">nb</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devm_devfreq_unregister_notifier" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>The devfreq user device. (parent of devfreq)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq</span> <span class="pre">*devfreq</span></code></dt><dd><p>The devfreq object.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">notifier_block</span> <span class="pre">*nb</span></code></dt><dd><p>The notifier block to be unregistered.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">list</span></code></dt><dd><p>DEVFREQ_TRANSITION_NOTIFIER.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Resource-managed devfreq_unregister_notifier()</p></li>
</ul>
</div></blockquote>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_event_enable_edev">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_enable_edev</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edev</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_event_enable_edev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable the devfreq-event dev and increase the enable_count of devfreq-event dev.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_dev</span> <span class="pre">*edev</span></code></dt><dd><p>the devfreq-event device</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function increase the enable_count and enable the
devfreq-event device. The devfreq-event device should be enabled before
using it by devfreq device.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_event_disable_edev">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_disable_edev</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edev</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_event_disable_edev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Disable the devfreq-event dev and decrease the enable_count of the devfreq-event dev.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_dev</span> <span class="pre">*edev</span></code></dt><dd><p>the devfreq-event device</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function decrease the enable_count and disable the
devfreq-event device. After the devfreq-event device is disabled,
devfreq device can't use the devfreq-event device for get/set/reset
operations.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_event_is_enabled">
<span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_is_enabled</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edev</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_event_is_enabled" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Check whether devfreq-event dev is enabled or not.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_dev</span> <span class="pre">*edev</span></code></dt><dd><p>the devfreq-event device</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function check whether devfreq-event dev is enabled or not.
If return true, the devfreq-event dev is enabeld. If return false, the
devfreq-event dev is disabled.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_event_set_event">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_set_event</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edev</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_event_set_event" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set event to devfreq-event dev to start.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_dev</span> <span class="pre">*edev</span></code></dt><dd><p>the devfreq-event device</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function set the event to the devfreq-event device to start
for getting the event data which could be various event type.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_event_get_event">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_get_event</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_data" title="devfreq_event_data"><span class="n"><span class="pre">devfreq_event_data</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edata</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_event_get_event" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get {load|total}_count from devfreq-event dev.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_dev</span> <span class="pre">*edev</span></code></dt><dd><p>the devfreq-event device</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_data</span> <span class="pre">*edata</span></code></dt><dd><p>the calculated data of devfreq-event device</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function get the calculated event data from devfreq-event dev
after stoping the progress of whole sequence of devfreq-event dev.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_event_reset_event">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_reset_event</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edev</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_event_reset_event" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset all opeations of devfreq-event dev.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_dev</span> <span class="pre">*edev</span></code></dt><dd><p>the devfreq-event device</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function stop all operations of devfreq-event dev and reset
the current event data to make the devfreq-event device into initial state.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_event_get_edev_by_phandle">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_get_edev_by_phandle</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">phandle_name</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">index</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_event_get_edev_by_phandle" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the devfreq-event dev from devicetree.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>the pointer to the given device</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*phandle_name</span></code></dt><dd><p>name of property holding a phandle value</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">index</span></code></dt><dd><p>the index into list of devfreq-event device</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function return the pointer of devfreq-event device.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_event_get_edev_count">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_get_edev_count</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">phandle_name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_event_get_edev_count" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the count of devfreq-event dev</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>the pointer to the given device</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*phandle_name</span></code></dt><dd><p>name of property holding a phandle value</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function return the count of devfreq-event devices.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_event_add_edev">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_add_edev</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_desc" title="devfreq_event_desc"><span class="n"><span class="pre">devfreq_event_desc</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">desc</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_event_add_edev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Add new devfreq-event device.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>the device owning the devfreq-event device being created</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_desc</span> <span class="pre">*desc</span></code></dt><dd><p>the devfreq-event device's descriptor which include essential
data for devfreq-event device.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function add new devfreq-event device to devfreq-event class
list and register the device of the devfreq-event device.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devfreq_event_remove_edev">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devfreq_event_remove_edev</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edev</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devfreq_event_remove_edev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Remove the devfreq-event device registered.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_dev</span> <span class="pre">*edev</span></code></dt><dd><p>the devfreq-event device</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function removes the registered devfreq-event device.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devm_devfreq_event_add_edev">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">devm_devfreq_event_add_edev</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_desc" title="devfreq_event_desc"><span class="n"><span class="pre">devfreq_event_desc</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">desc</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devm_devfreq_event_add_edev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Resource-managed <a class="reference internal" href="#c.devfreq_event_add_edev" title="devfreq_event_add_edev"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_event_add_edev()</span></code></a></p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>the device owning the devfreq-event device being created</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_desc</span> <span class="pre">*desc</span></code></dt><dd><p>the devfreq-event device's descriptor which include essential
data for devfreq-event device.</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function manages automatically the memory of devfreq-event
device using device resource management and simplify the free operation
for memory of devfreq-event device.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.devm_devfreq_event_remove_edev">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">devm_devfreq_event_remove_edev</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="infrastructure.html#c.device" title="device"><span class="n"><span class="pre">device</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dev</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.devfreq_event_dev" title="devfreq_event_dev"><span class="n"><span class="pre">devfreq_event_dev</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">edev</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.devm_devfreq_event_remove_edev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Resource-managed <a class="reference internal" href="#c.devfreq_event_remove_edev" title="devfreq_event_remove_edev"><code class="xref c c-func docutils literal notranslate"><span class="pre">devfreq_event_remove_edev()</span></code></a></p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">device</span> <span class="pre">*dev</span></code></dt><dd><p>the device owning the devfreq-event device being created</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">devfreq_event_dev</span> <span class="pre">*edev</span></code></dt><dd><p>the devfreq-event device</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Note that this function manages automatically the memory of devfreq-event
device using device resource management.</p>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/driver-api/devfreq.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>