<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>VMCOREINFO &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=a152c8ac" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Performance monitor support" href="../perf/index.html" />
    <link rel="prev" title="Documentation for Kdump - The kexec-based Crash Dumping Solution" href="kdump.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.14.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">All development-process docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../subsystem-apis.html">Subsystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rust/index.html">Rust</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Administration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#general-guides-to-kernel-administration">General guides to kernel administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#booting-the-kernel">Booting the kernel</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#tracking-down-and-identifying-problems">Tracking down and identifying problems</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reporting-regressions.html">Reporting regressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quickly-build-trimmed-linux.html">How to quickly build a trimmed Linux kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../verify-bugs-and-bisect-regressions.html">How to verify bugs and bisect regressions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bug-hunting.html">Bug hunting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bug-bisect.html">Bisecting a regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tainted-kernels.html">Tainted kernels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ramoops.html">Ramoops oops/panic logger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamic-debug-howto.html">Dynamic debug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../init.html">Explaining the “No working init found.” boot hang message</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Documentation for Kdump - The kexec-based Crash Dumping Solution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../perf/index.html">Performance monitor support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pstore-blk.html">pstore block oops/panic logger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../clearing-warn-once.html">Clearing WARN_ONCE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../kernel-per-CPU-kthreads.html">Reducing OS jitter due to per-cpu kthreads</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lockup-watchdogs.html">Softlockup detector and hardlockup detector (aka nmi_watchdog)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../RAS/main.html">Reliability, Availability and Serviceability (RAS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../RAS/error-decoding.html">Error decoding</a></li>
<li class="toctree-l3"><a class="reference internal" href="../RAS/address-translation.html">Address translation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../sysrq.html">Linux Magic System Request Key Hacks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#core-kernel-subsystems">Core-kernel subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#block-layer-and-filesystem-administration">Block-layer and filesystem administration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#device-specific-guides">Device-specific guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#workload-analysis">Workload analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#everything-else">Everything else</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">Userspace API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/admin-guide/kdump/vmcoreinfo.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->


<section id="vmcoreinfo">
<h1>VMCOREINFO<a class="headerlink" href="#vmcoreinfo" title="Link to this heading">¶</a></h1>
<section id="what-is-it">
<h2>What is it?<a class="headerlink" href="#what-is-it" title="Link to this heading">¶</a></h2>
<p>VMCOREINFO is a special ELF note section. It contains various
information from the kernel like structure size, page size, symbol
values, field offsets, etc. These data are packed into an ELF note
section and used by user-space tools like crash and makedumpfile to
analyze a kernel’s memory layout.</p>
</section>
<section id="common-variables">
<h2>Common variables<a class="headerlink" href="#common-variables" title="Link to this heading">¶</a></h2>
<section id="init-uts-ns-name-release">
<h3>init_uts_ns.name.release<a class="headerlink" href="#init-uts-ns-name-release" title="Link to this heading">¶</a></h3>
<p>The version of the Linux kernel. Used to find the corresponding source
code from which the kernel has been built. For example, crash uses it to
find the corresponding vmlinux in order to process vmcore.</p>
</section>
<section id="page-size">
<h3>PAGE_SIZE<a class="headerlink" href="#page-size" title="Link to this heading">¶</a></h3>
<p>The size of a page. It is the smallest unit of data used by the memory
management facilities. It is usually 4096 bytes of size and a page is
aligned on 4096 bytes. Used for computing page addresses.</p>
</section>
<section id="init-uts-ns">
<h3>init_uts_ns<a class="headerlink" href="#init-uts-ns" title="Link to this heading">¶</a></h3>
<p>The UTS namespace which is used to isolate two specific elements of the
system that relate to the uname(2) system call. It is named after the
data structure used to store information returned by the uname(2) system
call.</p>
<p>User-space tools can get the kernel name, host name, kernel release
number, kernel version, architecture name and OS type from it.</p>
</section>
<section id="uts-namespace-name">
<h3>(uts_namespace, name)<a class="headerlink" href="#uts-namespace-name" title="Link to this heading">¶</a></h3>
<p>Offset of the name’s member. Crash Utility and Makedumpfile get
the start address of the init_uts_ns.name from this.</p>
</section>
<section id="node-online-map">
<h3>node_online_map<a class="headerlink" href="#node-online-map" title="Link to this heading">¶</a></h3>
<p>An array node_states[N_ONLINE] which represents the set of online nodes
in a system, one bit position per node number. Used to keep track of
which nodes are in the system and online.</p>
</section>
<section id="swapper-pg-dir">
<h3>swapper_pg_dir<a class="headerlink" href="#swapper-pg-dir" title="Link to this heading">¶</a></h3>
<p>The global page directory pointer of the kernel. Used to translate
virtual to physical addresses.</p>
</section>
<section id="stext">
<h3>_stext<a class="headerlink" href="#stext" title="Link to this heading">¶</a></h3>
<p>Defines the beginning of the text section. In general, _stext indicates
the kernel start address. Used to convert a virtual address from the
direct kernel map to a physical address.</p>
</section>
<section id="vmalloc-start">
<h3>VMALLOC_START<a class="headerlink" href="#vmalloc-start" title="Link to this heading">¶</a></h3>
<p>Stores the base address of vmalloc area. makedumpfile gets this value
since is necessary for vmalloc translation.</p>
</section>
<section id="mem-map">
<h3>mem_map<a class="headerlink" href="#mem-map" title="Link to this heading">¶</a></h3>
<p>Physical addresses are translated to struct pages by treating them as
an index into the mem_map array. Right-shifting a physical address
PAGE_SHIFT bits converts it into a page frame number which is an index
into that mem_map array.</p>
<p>Used to map an address to the corresponding struct page.</p>
</section>
<section id="contig-page-data">
<h3>contig_page_data<a class="headerlink" href="#contig-page-data" title="Link to this heading">¶</a></h3>
<p>Makedumpfile gets the pglist_data structure from this symbol, which is
used to describe the memory layout.</p>
<p>User-space tools use this to exclude free pages when dumping memory.</p>
</section>
<section id="mem-section-mem-section-nr-section-roots-mem-section-section-mem-map">
<h3>mem_section|(mem_section, NR_SECTION_ROOTS)|(mem_section, section_mem_map)<a class="headerlink" href="#mem-section-mem-section-nr-section-roots-mem-section-section-mem-map" title="Link to this heading">¶</a></h3>
<p>The address of the mem_section array, its length, structure size, and
the section_mem_map offset.</p>
<p>It exists in the sparse memory mapping model, and it is also somewhat
similar to the mem_map variable, both of them are used to translate an
address.</p>
</section>
<section id="max-physmem-bits">
<h3>MAX_PHYSMEM_BITS<a class="headerlink" href="#max-physmem-bits" title="Link to this heading">¶</a></h3>
<p>Defines the maximum supported physical address space memory.</p>
</section>
<section id="page">
<h3>page<a class="headerlink" href="#page" title="Link to this heading">¶</a></h3>
<p>The size of a page structure. struct page is an important data structure
and it is widely used to compute contiguous memory.</p>
</section>
<section id="pglist-data">
<h3>pglist_data<a class="headerlink" href="#pglist-data" title="Link to this heading">¶</a></h3>
<p>The size of a pglist_data structure. This value is used to check if the
pglist_data structure is valid. It is also used for checking the memory
type.</p>
</section>
<section id="zone">
<h3>zone<a class="headerlink" href="#zone" title="Link to this heading">¶</a></h3>
<p>The size of a zone structure. This value is used to check if the zone
structure has been found. It is also used for excluding free pages.</p>
</section>
<section id="free-area">
<h3>free_area<a class="headerlink" href="#free-area" title="Link to this heading">¶</a></h3>
<p>The size of a free_area structure. It indicates whether the free_area
structure is valid or not. Useful when excluding free pages.</p>
</section>
<section id="list-head">
<h3>list_head<a class="headerlink" href="#list-head" title="Link to this heading">¶</a></h3>
<p>The size of a list_head structure. Used when iterating lists in a
post-mortem analysis session.</p>
</section>
<section id="nodemask-t">
<h3>nodemask_t<a class="headerlink" href="#nodemask-t" title="Link to this heading">¶</a></h3>
<p>The size of a nodemask_t type. Used to compute the number of online
nodes.</p>
</section>
<section id="page-flags-refcount-mapping-lru-mapcount-private-compound-order-compound-head">
<h3>(page, flags|_refcount|mapping|lru|_mapcount|private|compound_order|compound_head)<a class="headerlink" href="#page-flags-refcount-mapping-lru-mapcount-private-compound-order-compound-head" title="Link to this heading">¶</a></h3>
<p>User-space tools compute their values based on the offset of these
variables. The variables are used when excluding unnecessary pages.</p>
</section>
<section id="pglist-data-node-zones-nr-zones-node-mem-map-node-start-pfn-node-spanned-pages-node-id">
<h3>(pglist_data, node_zones|nr_zones|node_mem_map|node_start_pfn|node_spanned_pages|node_id)<a class="headerlink" href="#pglist-data-node-zones-nr-zones-node-mem-map-node-start-pfn-node-spanned-pages-node-id" title="Link to this heading">¶</a></h3>
<p>On NUMA machines, each NUMA node has a pg_data_t to describe its memory
layout. On UMA machines there is a single pglist_data which describes the
whole memory.</p>
<p>These values are used to check the memory type and to compute the
virtual address for memory map.</p>
</section>
<section id="zone-free-area-vm-stat-spanned-pages">
<h3>(zone, free_area|vm_stat|spanned_pages)<a class="headerlink" href="#zone-free-area-vm-stat-spanned-pages" title="Link to this heading">¶</a></h3>
<p>Each node is divided into a number of blocks called zones which
represent ranges within memory. A zone is described by a structure zone.</p>
<p>User-space tools compute required values based on the offset of these
variables.</p>
</section>
<section id="free-area-free-list">
<h3>(free_area, free_list)<a class="headerlink" href="#free-area-free-list" title="Link to this heading">¶</a></h3>
<p>Offset of the free_list’s member. This value is used to compute the number
of free pages.</p>
<p>Each zone has a free_area structure array called free_area[NR_PAGE_ORDERS].
The free_list represents a linked list of free page blocks.</p>
</section>
<section id="list-head-next-prev">
<h3>(list_head, next|prev)<a class="headerlink" href="#list-head-next-prev" title="Link to this heading">¶</a></h3>
<p>Offsets of the list_head’s members. list_head is used to define a
circular linked list. User-space tools need these in order to traverse
lists.</p>
</section>
<section id="vmap-area-va-start-list">
<h3>(vmap_area, va_start|list)<a class="headerlink" href="#vmap-area-va-start-list" title="Link to this heading">¶</a></h3>
<p>Offsets of the vmap_area’s members. They carry vmalloc-specific
information. Makedumpfile gets the start address of the vmalloc region
from this.</p>
</section>
<section id="zone-free-area-nr-page-orders">
<h3>(zone.free_area, NR_PAGE_ORDERS)<a class="headerlink" href="#zone-free-area-nr-page-orders" title="Link to this heading">¶</a></h3>
<p>Free areas descriptor. User-space tools use this value to iterate the
free_area ranges. NR_PAGE_ORDERS is used by the zone buddy allocator.</p>
</section>
<section id="prb">
<h3>prb<a class="headerlink" href="#prb" title="Link to this heading">¶</a></h3>
<p>A pointer to the printk ringbuffer (struct printk_ringbuffer). This
may be pointing to the static boot ringbuffer or the dynamically
allocated ringbuffer, depending on when the core dump occurred.
Used by user-space tools to read the active kernel log buffer.</p>
</section>
<section id="printk-rb-static">
<h3>printk_rb_static<a class="headerlink" href="#printk-rb-static" title="Link to this heading">¶</a></h3>
<p>A pointer to the static boot printk ringbuffer. If &#64;prb has a
different value, this is useful for viewing the initial boot messages,
which may have been overwritten in the dynamically allocated
ringbuffer.</p>
</section>
<section id="clear-seq">
<h3>clear_seq<a class="headerlink" href="#clear-seq" title="Link to this heading">¶</a></h3>
<p>The sequence number of the <a class="reference internal" href="../../core-api/printk-basics.html#c.printk" title="printk"><code class="xref c c-func docutils literal notranslate"><span class="pre">printk()</span></code></a> record after the last clear
command. It indicates the first record after the last
SYSLOG_ACTION_CLEAR, like issued by ‘dmesg -c’. Used by user-space
tools to dump a subset of the dmesg log.</p>
</section>
<section id="printk-ringbuffer">
<h3>printk_ringbuffer<a class="headerlink" href="#printk-ringbuffer" title="Link to this heading">¶</a></h3>
<p>The size of a printk_ringbuffer structure. This structure contains all
information required for accessing the various components of the
kernel log buffer.</p>
</section>
<section id="printk-ringbuffer-desc-ring-text-data-ring-dict-data-ring-fail">
<h3>(printk_ringbuffer, desc_ring|text_data_ring|dict_data_ring|fail)<a class="headerlink" href="#printk-ringbuffer-desc-ring-text-data-ring-dict-data-ring-fail" title="Link to this heading">¶</a></h3>
<p>Offsets for the various components of the printk ringbuffer. Used by
user-space tools to view the kernel log buffer without requiring the
declaration of the structure.</p>
</section>
<section id="prb-desc-ring">
<h3>prb_desc_ring<a class="headerlink" href="#prb-desc-ring" title="Link to this heading">¶</a></h3>
<p>The size of the prb_desc_ring structure. This structure contains
information about the set of record descriptors.</p>
</section>
<section id="prb-desc-ring-count-bits-descs-head-id-tail-id">
<h3>(prb_desc_ring, count_bits|descs|head_id|tail_id)<a class="headerlink" href="#prb-desc-ring-count-bits-descs-head-id-tail-id" title="Link to this heading">¶</a></h3>
<p>Offsets for the fields describing the set of record descriptors. Used
by user-space tools to be able to traverse the descriptors without
requiring the declaration of the structure.</p>
</section>
<section id="prb-desc">
<h3>prb_desc<a class="headerlink" href="#prb-desc" title="Link to this heading">¶</a></h3>
<p>The size of the prb_desc structure. This structure contains
information about a single record descriptor.</p>
</section>
<section id="prb-desc-info-state-var-text-blk-lpos-dict-blk-lpos">
<h3>(prb_desc, info|state_var|text_blk_lpos|dict_blk_lpos)<a class="headerlink" href="#prb-desc-info-state-var-text-blk-lpos-dict-blk-lpos" title="Link to this heading">¶</a></h3>
<p>Offsets for the fields describing a record descriptors. Used by
user-space tools to be able to read descriptors without requiring
the declaration of the structure.</p>
</section>
<section id="prb-data-blk-lpos">
<h3>prb_data_blk_lpos<a class="headerlink" href="#prb-data-blk-lpos" title="Link to this heading">¶</a></h3>
<p>The size of the prb_data_blk_lpos structure. This structure contains
information about where the text or dictionary data (data block) is
located within the respective data ring.</p>
</section>
<section id="prb-data-blk-lpos-begin-next">
<h3>(prb_data_blk_lpos, begin|next)<a class="headerlink" href="#prb-data-blk-lpos-begin-next" title="Link to this heading">¶</a></h3>
<p>Offsets for the fields describing the location of a data block. Used
by user-space tools to be able to locate data blocks without
requiring the declaration of the structure.</p>
</section>
<section id="printk-info">
<h3>printk_info<a class="headerlink" href="#printk-info" title="Link to this heading">¶</a></h3>
<p>The size of the printk_info structure. This structure contains all
the meta-data for a record.</p>
</section>
<section id="printk-info-seq-ts-nsec-text-len-dict-len-caller-id">
<h3>(printk_info, seq|ts_nsec|text_len|dict_len|caller_id)<a class="headerlink" href="#printk-info-seq-ts-nsec-text-len-dict-len-caller-id" title="Link to this heading">¶</a></h3>
<p>Offsets for the fields providing the meta-data for a record. Used by
user-space tools to be able to read the information without requiring
the declaration of the structure.</p>
</section>
<section id="prb-data-ring">
<h3>prb_data_ring<a class="headerlink" href="#prb-data-ring" title="Link to this heading">¶</a></h3>
<p>The size of the prb_data_ring structure. This structure contains
information about a set of data blocks.</p>
</section>
<section id="prb-data-ring-size-bits-data-head-lpos-tail-lpos">
<h3>(prb_data_ring, size_bits|data|head_lpos|tail_lpos)<a class="headerlink" href="#prb-data-ring-size-bits-data-head-lpos-tail-lpos" title="Link to this heading">¶</a></h3>
<p>Offsets for the fields describing a set of data blocks. Used by
user-space tools to be able to access the data blocks without
requiring the declaration of the structure.</p>
</section>
<section id="atomic-long-t">
<h3>atomic_long_t<a class="headerlink" href="#atomic-long-t" title="Link to this heading">¶</a></h3>
<p>The size of the atomic_long_t structure. Used by user-space tools to
be able to copy the full structure, regardless of its
architecture-specific implementation.</p>
</section>
<section id="atomic-long-t-counter">
<h3>(atomic_long_t, counter)<a class="headerlink" href="#atomic-long-t-counter" title="Link to this heading">¶</a></h3>
<p>Offset for the long value of an atomic_long_t variable. Used by
user-space tools to access the long value without requiring the
architecture-specific declaration.</p>
</section>
<section id="free-area-free-list-migrate-types">
<h3>(free_area.free_list, MIGRATE_TYPES)<a class="headerlink" href="#free-area-free-list-migrate-types" title="Link to this heading">¶</a></h3>
<p>The number of migrate types for pages. The free_list is described by the
array. Used by tools to compute the number of free pages.</p>
</section>
<section id="nr-free-pages">
<h3>NR_FREE_PAGES<a class="headerlink" href="#nr-free-pages" title="Link to this heading">¶</a></h3>
<p>On linux-2.6.21 or later, the number of free pages is in
vm_stat[NR_FREE_PAGES]. Used to get the number of free pages.</p>
</section>
<section id="pg-lru-pg-private-pg-swapcache-pg-swapbacked-pg-slab-pg-hwpoision-pg-head-mask-pg-hugetlb">
<h3>PG_lru|PG_private|PG_swapcache|PG_swapbacked|PG_slab|PG_hwpoision|PG_head_mask|PG_hugetlb<a class="headerlink" href="#pg-lru-pg-private-pg-swapcache-pg-swapbacked-pg-slab-pg-hwpoision-pg-head-mask-pg-hugetlb" title="Link to this heading">¶</a></h3>
<p>Page attributes. These flags are used to filter various unnecessary for
dumping pages.</p>
</section>
<section id="page-buddy-mapcount-value-pg-buddy-page-offline-mapcount-value-pg-offline">
<h3>PAGE_BUDDY_MAPCOUNT_VALUE(~PG_buddy)|PAGE_OFFLINE_MAPCOUNT_VALUE(~PG_offline)<a class="headerlink" href="#page-buddy-mapcount-value-pg-buddy-page-offline-mapcount-value-pg-offline" title="Link to this heading">¶</a></h3>
<p>More page attributes. These flags are used to filter various unnecessary for
dumping pages.</p>
</section>
</section>
<section id="x86-64">
<h2>x86_64<a class="headerlink" href="#x86-64" title="Link to this heading">¶</a></h2>
<section id="phys-base">
<h3>phys_base<a class="headerlink" href="#phys-base" title="Link to this heading">¶</a></h3>
<p>Used to convert the virtual address of an exported kernel symbol to its
corresponding physical address.</p>
</section>
<section id="init-top-pgt">
<h3>init_top_pgt<a class="headerlink" href="#init-top-pgt" title="Link to this heading">¶</a></h3>
<p>Used to walk through the whole page table and convert virtual addresses
to physical addresses. The init_top_pgt is somewhat similar to
swapper_pg_dir, but it is only used in x86_64.</p>
</section>
<section id="pgtable-l5-enabled">
<h3>pgtable_l5_enabled<a class="headerlink" href="#pgtable-l5-enabled" title="Link to this heading">¶</a></h3>
<p>User-space tools need to know whether the crash kernel was in 5-level
paging mode.</p>
</section>
<section id="node-data">
<h3>node_data<a class="headerlink" href="#node-data" title="Link to this heading">¶</a></h3>
<p>This is a struct pglist_data array and stores all NUMA nodes
information. Makedumpfile gets the pglist_data structure from it.</p>
</section>
<section id="node-data-max-numnodes">
<h3>(node_data, MAX_NUMNODES)<a class="headerlink" href="#node-data-max-numnodes" title="Link to this heading">¶</a></h3>
<p>The maximum number of nodes in system.</p>
</section>
<section id="kerneloffset">
<h3>KERNELOFFSET<a class="headerlink" href="#kerneloffset" title="Link to this heading">¶</a></h3>
<p>The kernel randomization offset. Used to compute the page offset. If
KASLR is disabled, this value is zero.</p>
</section>
<section id="kernel-image-size">
<h3>KERNEL_IMAGE_SIZE<a class="headerlink" href="#kernel-image-size" title="Link to this heading">¶</a></h3>
<p>Currently unused by Makedumpfile. Used to compute the module virtual
address by Crash.</p>
</section>
<section id="sme-mask">
<h3>sme_mask<a class="headerlink" href="#sme-mask" title="Link to this heading">¶</a></h3>
<p>AMD-specific with SME support: it indicates the secure memory encryption
mask. Makedumpfile tools need to know whether the crash kernel was
encrypted. If SME is enabled in the first kernel, the crash kernel’s
page table entries (pgd/pud/pmd/pte) contain the memory encryption
mask. This is used to remove the SME mask and obtain the true physical
address.</p>
<p>Currently, sme_mask stores the value of the C-bit position. If needed,
additional SME-relevant info can be placed in that variable.</p>
<p>For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[ misc                ][ enc bit  ][ other misc SME info       ]
0000_0000_0000_0000_1000_0000_0000_0000_0000_0000_..._0000
63   59   55   51   47   43   39   35   31   27   ... 3
</pre></div>
</div>
</section>
</section>
<section id="x86-32">
<h2>x86_32<a class="headerlink" href="#x86-32" title="Link to this heading">¶</a></h2>
<section id="x86-pae">
<h3>X86_PAE<a class="headerlink" href="#x86-pae" title="Link to this heading">¶</a></h3>
<p>Denotes whether physical address extensions are enabled. It has the cost
of a higher page table lookup overhead, and also consumes more page
table space per process. Used to check whether PAE was enabled in the
crash kernel when converting virtual addresses to physical addresses.</p>
</section>
</section>
<section id="arm64">
<h2>ARM64<a class="headerlink" href="#arm64" title="Link to this heading">¶</a></h2>
<section id="va-bits">
<h3>VA_BITS<a class="headerlink" href="#va-bits" title="Link to this heading">¶</a></h3>
<p>The maximum number of bits for virtual addresses. Used to compute the
virtual memory ranges.</p>
</section>
<section id="kimage-voffset">
<h3>kimage_voffset<a class="headerlink" href="#kimage-voffset" title="Link to this heading">¶</a></h3>
<p>The offset between the kernel virtual and physical mappings. Used to
translate virtual to physical addresses.</p>
</section>
<section id="phys-offset">
<h3>PHYS_OFFSET<a class="headerlink" href="#phys-offset" title="Link to this heading">¶</a></h3>
<p>Indicates the physical address of the start of memory. Similar to
kimage_voffset, which is used to translate virtual to physical
addresses.</p>
</section>
<section id="id1">
<h3>KERNELOFFSET<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>The kernel randomization offset. Used to compute the page offset. If
KASLR is disabled, this value is zero.</p>
</section>
<section id="kernelpacmask">
<h3>KERNELPACMASK<a class="headerlink" href="#kernelpacmask" title="Link to this heading">¶</a></h3>
<p>The mask to extract the Pointer Authentication Code from a kernel virtual
address.</p>
</section>
<section id="tcr-el1-t1sz">
<h3>TCR_EL1.T1SZ<a class="headerlink" href="#tcr-el1-t1sz" title="Link to this heading">¶</a></h3>
<p>Indicates the size offset of the memory region addressed by TTBR1_EL1.
The region size is 2^(64-T1SZ) bytes.</p>
<p>TTBR1_EL1 is the table base address register specified by ARMv8-A
architecture which is used to lookup the page-tables for the Virtual
addresses in the higher VA range (refer to ARMv8 ARM document for
more details).</p>
</section>
<section id="modules-vaddr-modules-end-vmalloc-start-vmalloc-end-vmemmap-start-vmemmap-end">
<h3>MODULES_VADDR|MODULES_END|VMALLOC_START|VMALLOC_END|VMEMMAP_START|VMEMMAP_END<a class="headerlink" href="#modules-vaddr-modules-end-vmalloc-start-vmalloc-end-vmemmap-start-vmemmap-end" title="Link to this heading">¶</a></h3>
<dl class="simple">
<dt>Used to get the correct ranges:</dt><dd><p>MODULES_VADDR ~ MODULES_END-1 : Kernel module space.
VMALLOC_START ~ VMALLOC_END-1 : vmalloc() / <a class="reference internal" href="../../driver-api/device-io.html#c.ioremap" title="ioremap"><code class="xref c c-func docutils literal notranslate"><span class="pre">ioremap()</span></code></a> space.
VMEMMAP_START ~ VMEMMAP_END-1 : vmemmap region, used for struct page array.</p>
</dd>
</dl>
</section>
</section>
<section id="arm">
<h2>arm<a class="headerlink" href="#arm" title="Link to this heading">¶</a></h2>
<section id="arm-lpae">
<h3>ARM_LPAE<a class="headerlink" href="#arm-lpae" title="Link to this heading">¶</a></h3>
<p>It indicates whether the crash kernel supports large physical address
extensions. Used to translate virtual to physical addresses.</p>
</section>
</section>
<section id="s390">
<h2>s390<a class="headerlink" href="#s390" title="Link to this heading">¶</a></h2>
<section id="lowcore-ptr">
<h3>lowcore_ptr<a class="headerlink" href="#lowcore-ptr" title="Link to this heading">¶</a></h3>
<p>An array with a pointer to the lowcore of every CPU. Used to print the
psw and all registers information.</p>
</section>
<section id="high-memory">
<h3>high_memory<a class="headerlink" href="#high-memory" title="Link to this heading">¶</a></h3>
<p>Used to get the vmalloc_start address from the high_memory symbol.</p>
</section>
<section id="lowcore-ptr-nr-cpus">
<h3>(lowcore_ptr, NR_CPUS)<a class="headerlink" href="#lowcore-ptr-nr-cpus" title="Link to this heading">¶</a></h3>
<p>The maximum number of CPUs.</p>
</section>
</section>
<section id="powerpc">
<h2>powerpc<a class="headerlink" href="#powerpc" title="Link to this heading">¶</a></h2>
<section id="node-data-node-data-max-numnodes">
<h3>node_data|(node_data, MAX_NUMNODES)<a class="headerlink" href="#node-data-node-data-max-numnodes" title="Link to this heading">¶</a></h3>
<p>See above.</p>
</section>
<section id="id2">
<h3>contig_page_data<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<p>See above.</p>
</section>
<section id="vmemmap-list">
<h3>vmemmap_list<a class="headerlink" href="#vmemmap-list" title="Link to this heading">¶</a></h3>
<p>The vmemmap_list maintains the entire vmemmap physical mapping. Used
to get vmemmap list count and populated vmemmap regions info. If the
vmemmap address translation information is stored in the crash kernel,
it is used to translate vmemmap kernel virtual addresses.</p>
</section>
<section id="mmu-vmemmap-psize">
<h3>mmu_vmemmap_psize<a class="headerlink" href="#mmu-vmemmap-psize" title="Link to this heading">¶</a></h3>
<p>The size of a page. Used to translate virtual to physical addresses.</p>
</section>
<section id="mmu-psize-defs">
<h3>mmu_psize_defs<a class="headerlink" href="#mmu-psize-defs" title="Link to this heading">¶</a></h3>
<p>Page size definitions, i.e. 4k, 64k, or 16M.</p>
<p>Used to make vtop translations.</p>
</section>
<section id="vmemmap-backing-vmemmap-backing-list-vmemmap-backing-phys-vmemmap-backing-virt-addr">
<h3>vmemmap_backing|(vmemmap_backing, list)|(vmemmap_backing, phys)|(vmemmap_backing, virt_addr)<a class="headerlink" href="#vmemmap-backing-vmemmap-backing-list-vmemmap-backing-phys-vmemmap-backing-virt-addr" title="Link to this heading">¶</a></h3>
<p>The vmemmap virtual address space management does not have a traditional
page table to track which virtual struct pages are backed by a physical
mapping. The virtual to physical mappings are tracked in a simple linked
list format.</p>
<p>User-space tools need to know the offset of list, phys and virt_addr
when computing the count of vmemmap regions.</p>
</section>
<section id="mmu-psize-def-mmu-psize-def-shift">
<h3>mmu_psize_def|(mmu_psize_def, shift)<a class="headerlink" href="#mmu-psize-def-mmu-psize-def-shift" title="Link to this heading">¶</a></h3>
<p>The size of a struct mmu_psize_def and the offset of mmu_psize_def’s
member.</p>
<p>Used in vtop translations.</p>
</section>
</section>
<section id="sh">
<h2>sh<a class="headerlink" href="#sh" title="Link to this heading">¶</a></h2>
<section id="id3">
<h3>node_data|(node_data, MAX_NUMNODES)<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<p>See above.</p>
</section>
<section id="x2tlb">
<h3>X2TLB<a class="headerlink" href="#x2tlb" title="Link to this heading">¶</a></h3>
<p>Indicates whether the crashed kernel enabled SH extended mode.</p>
</section>
</section>
<section id="riscv64">
<h2>RISCV64<a class="headerlink" href="#riscv64" title="Link to this heading">¶</a></h2>
<section id="id4">
<h3>VA_BITS<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<p>The maximum number of bits for virtual addresses. Used to compute the
virtual memory ranges.</p>
</section>
<section id="page-offset">
<h3>PAGE_OFFSET<a class="headerlink" href="#page-offset" title="Link to this heading">¶</a></h3>
<p>Indicates the virtual kernel start address of the direct-mapped RAM region.</p>
</section>
<section id="phys-ram-base">
<h3>phys_ram_base<a class="headerlink" href="#phys-ram-base" title="Link to this heading">¶</a></h3>
<p>Indicates the start physical RAM address.</p>
</section>
<section id="modules-vaddr-modules-end-vmalloc-start-vmalloc-end-vmemmap-start-vmemmap-end-kernel-link-addr">
<h3>MODULES_VADDR|MODULES_END|VMALLOC_START|VMALLOC_END|VMEMMAP_START|VMEMMAP_END|KERNEL_LINK_ADDR<a class="headerlink" href="#modules-vaddr-modules-end-vmalloc-start-vmalloc-end-vmemmap-start-vmemmap-end-kernel-link-addr" title="Link to this heading">¶</a></h3>
<p>Used to get the correct ranges:</p>
<blockquote>
<div><ul class="simple">
<li><p>MODULES_VADDR ~ MODULES_END : Kernel module space.</p></li>
<li><p>VMALLOC_START ~ VMALLOC_END : vmalloc() / <a class="reference internal" href="../../driver-api/device-io.html#c.ioremap" title="ioremap"><code class="xref c c-func docutils literal notranslate"><span class="pre">ioremap()</span></code></a> space.</p></li>
<li><p>VMEMMAP_START ~ VMEMMAP_END : vmemmap space, used for struct page array.</p></li>
<li><p>KERNEL_LINK_ADDR : start address of Kernel link and BPF</p></li>
</ul>
</div></blockquote>
</section>
<section id="va-kernel-pa-offset">
<h3>va_kernel_pa_offset<a class="headerlink" href="#va-kernel-pa-offset" title="Link to this heading">¶</a></h3>
<p>Indicates the offset between the kernel virtual and physical mappings.
Used to translate virtual to physical addresses.</p>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/admin-guide/kdump/vmcoreinfo.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>