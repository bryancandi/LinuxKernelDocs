<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Reporting regressions &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=a152c8ac" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to quickly build a trimmed Linux kernel" href="quickly-build-trimmed-linux.html" />
    <link rel="prev" title="Reporting issues" href="reporting-issues.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.11.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">All development-process docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subsystem-apis.html">Subsystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rust/index.html">Rust</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Administration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="README.html">Linux kernel release 6.x &lt;http://kernel.org/&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel-parameters.html">The kernel’s command-line parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="devices.html">Linux allocated devices (4.x+ version)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysctl/index.html">Documentation for /proc/sys</a></li>
<li class="toctree-l2"><a class="reference internal" href="abi.html">Linux ABI description</a></li>
<li class="toctree-l2"><a class="reference internal" href="features.html">Feature status on all architectures</a></li>
<li class="toctree-l2"><a class="reference internal" href="hw-vuln/index.html">Hardware vulnerabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Reporting regressions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-important-bits-aka-tl-dr">The important bits (aka “TL;DR”)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#all-the-details-on-linux-kernel-regressions-relevant-for-users">All the details on Linux kernel regressions relevant for users</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickly-build-trimmed-linux.html">How to quickly build a trimmed Linux kernel</a></li>
<li class="toctree-l2"><a class="reference internal" href="verify-bugs-and-bisect-regressions.html">How to verify bugs and bisect regressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="bug-hunting.html">Bug hunting</a></li>
<li class="toctree-l2"><a class="reference internal" href="bug-bisect.html">Bisecting a bug</a></li>
<li class="toctree-l2"><a class="reference internal" href="tainted-kernels.html">Tainted kernels</a></li>
<li class="toctree-l2"><a class="reference internal" href="ramoops.html">Ramoops oops/panic logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamic-debug-howto.html">Dynamic debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="init.html">Explaining the “No working init found.” boot hang message</a></li>
<li class="toctree-l2"><a class="reference internal" href="kdump/index.html">Documentation for Kdump - The kexec-based Crash Dumping Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="perf/index.html">Performance monitor support</a></li>
<li class="toctree-l2"><a class="reference internal" href="pstore-blk.html">pstore block oops/panic logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysfs-rules.html">Rules on how to access information in sysfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="workload-tracing.html">Discovering Linux kernel subsystems used by a workload</a></li>
<li class="toctree-l2"><a class="reference internal" href="acpi/index.html">ACPI Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="aoe/index.html">ATA over Ethernet (AoE)</a></li>
<li class="toctree-l2"><a class="reference internal" href="auxdisplay/index.html">Auxiliary Display Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="bcache.html">A block layer cache (bcache)</a></li>
<li class="toctree-l2"><a class="reference internal" href="binderfs.html">The Android binderfs Filesystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="binfmt-misc.html">Kernel Support for miscellaneous Binary Formats (binfmt_misc)</a></li>
<li class="toctree-l2"><a class="reference internal" href="blockdev/index.html">Block Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootconfig.html">Boot Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="braille-console.html">Linux Braille Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="btmrvl.html">btmrvl driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="cgroup-v1/index.html">Control Groups version 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="cgroup-v2.html">Control Group v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="cifs/index.html">CIFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="clearing-warn-once.html">Clearing WARN_ONCE</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpu-load.html">CPU load</a></li>
<li class="toctree-l2"><a class="reference internal" href="cputopology.html">How CPU topology info is exported via sysfs</a></li>
<li class="toctree-l2"><a class="reference internal" href="dell_rbu.html">Dell Remote BIOS Update driver (dell_rbu)</a></li>
<li class="toctree-l2"><a class="reference internal" href="device-mapper/index.html">Device Mapper</a></li>
<li class="toctree-l2"><a class="reference internal" href="edid.html">EDID</a></li>
<li class="toctree-l2"><a class="reference internal" href="efi-stub.html">The EFI Boot Stub</a></li>
<li class="toctree-l2"><a class="reference internal" href="ext4.html">ext4 General Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="filesystem-monitoring.html">File system Monitoring with fanotify</a></li>
<li class="toctree-l2"><a class="reference internal" href="nfs/index.html">NFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="gpio/index.html">GPIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="highuid.html">Notes on the change from 16-bit UIDs to 32-bit UIDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="hw_random.html">Hardware random number generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="initrd.html">Using the initial RAM disk (initrd)</a></li>
<li class="toctree-l2"><a class="reference internal" href="iostats.html">I/O statistics fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="java.html">Java(tm) Binary Kernel Support for Linux v1.03</a></li>
<li class="toctree-l2"><a class="reference internal" href="jfs.html">IBM’s Journaled File System (JFS) for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel-per-CPU-kthreads.html">Reducing OS jitter due to per-cpu kthreads</a></li>
<li class="toctree-l2"><a class="reference internal" href="laptops/index.html">Laptop Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="lcd-panel-cgram.html">Parallel port LCD/Keypad Panel support</a></li>
<li class="toctree-l2"><a class="reference internal" href="ldm.html">LDM - Logical Disk Manager (Dynamic Disks)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lockup-watchdogs.html">Softlockup detector and hardlockup detector (aka nmi_watchdog)</a></li>
<li class="toctree-l2"><a class="reference internal" href="LSM/index.html">Linux Security Module Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="md.html">RAID arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="media/index.html">Media subsystem admin and user guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="mm/index.html">Memory Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="module-signing.html">Kernel module signing facility</a></li>
<li class="toctree-l2"><a class="reference internal" href="mono.html">Mono(tm) Binary Kernel Support for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespaces/index.html">Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="numastat.html">Numa policy hit/miss statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="parport.html">Parport</a></li>
<li class="toctree-l2"><a class="reference internal" href="perf-security.html">Perf events and tool security</a></li>
<li class="toctree-l2"><a class="reference internal" href="pm/index.html">Power Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="pnp.html">Linux Plug and Play Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rapidio.html">RapidIO Subsystem Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="RAS/main.html">Reliability, Availability and Serviceability (RAS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="RAS/error-decoding.html">Error decoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="RAS/address-translation.html">Address translation</a></li>
<li class="toctree-l2"><a class="reference internal" href="rtc.html">Real Time Clock (RTC) Drivers for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="serial-console.html">Linux Serial Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="svga.html">Video Mode Selection Support 2.13</a></li>
<li class="toctree-l2"><a class="reference internal" href="syscall-user-dispatch.html">Syscall User Dispatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysrq.html">Linux Magic System Request Key Hacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="thermal/index.html">Thermal Subsystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="thunderbolt.html">USB4 and Thunderbolt</a></li>
<li class="toctree-l2"><a class="reference internal" href="ufs.html">Using UFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicode.html">Unicode support</a></li>
<li class="toctree-l2"><a class="reference internal" href="vga-softcursor.html">Software cursor for VGA</a></li>
<li class="toctree-l2"><a class="reference internal" href="video-output.html">Video Output Switcher Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="xfs.html">The SGI XFS Filesystem</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">Userspace API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/admin-guide/reporting-regressions.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->



<div class="language-selection">
English

<ul>

<li><a href="../translations/zh_CN/admin-guide/reporting-regressions.html">Chinese (Simplified)</a></li>

<li><a href="../translations/zh_TW/admin-guide/reporting-regressions.html">Chinese (Traditional)</a></li>

</ul>
</div>
<section id="reporting-regressions">
<h1>Reporting regressions<a class="headerlink" href="#reporting-regressions" title="Link to this heading">¶</a></h1>
<p>“<em>We don’t cause regressions</em>” is the first rule of Linux kernel development;
Linux founder and lead developer Linus Torvalds established it himself and
ensures it’s obeyed.</p>
<p>This document describes what the rule means for users and how the Linux kernel’s
development model ensures to address all reported regressions; aspects relevant
for kernel developers are left to <a class="reference internal" href="../process/handling-regressions.html"><span class="doc">Handling regressions</span></a>.</p>
<section id="the-important-bits-aka-tl-dr">
<h2>The important bits (aka “TL;DR”)<a class="headerlink" href="#the-important-bits-aka-tl-dr" title="Link to this heading">¶</a></h2>
<ol class="arabic">
<li><p>It’s a regression if something running fine with one Linux kernel works worse
or not at all with a newer version. Note, the newer kernel has to be compiled
using a similar configuration; the detailed explanations below describes this
and other fine print in more detail.</p></li>
<li><p>Report your issue as outlined in <a class="reference internal" href="reporting-issues.html"><span class="doc">Reporting issues</span></a>,
it already covers all aspects important for regressions and repeated
below for convenience. Two of them are important: start your report’s subject
with “[REGRESSION]” and CC or forward it to <a class="reference external" href="https://lore.kernel.org/regressions/">the regression mailing list</a> (<a class="reference external" href="mailto:regressions&#37;&#52;&#48;lists&#46;linux&#46;dev">regressions<span>&#64;</span>lists<span>&#46;</span>linux<span>&#46;</span>dev</a>).</p></li>
<li><p>Optional, but recommended: when sending or forwarding your report, make the
Linux kernel regression tracking bot “regzbot” track the issue by specifying
when the regression started like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#regzbot introduced: v5.13..v5.14-rc1
</pre></div>
</div>
</li>
</ol>
</section>
<section id="all-the-details-on-linux-kernel-regressions-relevant-for-users">
<h2>All the details on Linux kernel regressions relevant for users<a class="headerlink" href="#all-the-details-on-linux-kernel-regressions-relevant-for-users" title="Link to this heading">¶</a></h2>
<section id="the-important-basics">
<h3>The important basics<a class="headerlink" href="#the-important-basics" title="Link to this heading">¶</a></h3>
<section id="what-is-a-regression-and-what-is-the-no-regressions-rule">
<h4>What is a “regression” and what is the “no regressions” rule?<a class="headerlink" href="#what-is-a-regression-and-what-is-the-no-regressions-rule" title="Link to this heading">¶</a></h4>
<p>It’s a regression if some application or practical use case running fine with
one Linux kernel works worse or not at all with a newer version compiled using a
similar configuration. The “no regressions” rule forbids this to take place; if
it happens by accident, developers that caused it are expected to quickly fix
the issue.</p>
<p>It thus is a regression when a WiFi driver from Linux 5.13 works fine, but with
5.14 doesn’t work at all, works significantly slower, or misbehaves somehow.
It’s also a regression if a perfectly working application suddenly shows erratic
behavior with a newer kernel version; such issues can be caused by changes in
procfs, sysfs, or one of the many other interfaces Linux provides to userland
software. But keep in mind, as mentioned earlier: 5.14 in this example needs to
be built from a configuration similar to the one from 5.13. This can be achieved
using <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">olddefconfig</span></code>, as explained in more detail below.</p>
<p>Note the “practical use case” in the first sentence of this section: developers
despite the “no regressions” rule are free to change any aspect of the kernel
and even APIs or ABIs to userland, as long as no existing application or use
case breaks.</p>
<p>Also be aware the “no regressions” rule covers only interfaces the kernel
provides to the userland. It thus does not apply to kernel-internal interfaces
like the module API, which some externally developed drivers use to hook into
the kernel.</p>
</section>
<section id="how-do-i-report-a-regression">
<h4>How do I report a regression?<a class="headerlink" href="#how-do-i-report-a-regression" title="Link to this heading">¶</a></h4>
<p>Just report the issue as outlined in
<a class="reference internal" href="reporting-issues.html"><span class="doc">Reporting issues</span></a>, it already describes the
important points. The following aspects outlined there are especially relevant
for regressions:</p>
<blockquote>
<div><ul>
<li><p>When checking for existing reports to join, also search the <a class="reference external" href="https://lore.kernel.org/regressions/">archives of the
Linux regressions mailing list</a> and
<a class="reference external" href="https://linux-regtracking.leemhuis.info/regzbot/">regzbot’s web-interface</a>.</p></li>
<li><p>Start your report’s subject with “[REGRESSION]”.</p></li>
<li><p>In your report, clearly mention the last kernel version that worked fine and
the first broken one. Ideally try to find the exact change causing the
regression using a bisection, as explained below in more detail.</p></li>
<li><p>Remember to let the Linux regressions mailing list
(<a class="reference external" href="mailto:regressions&#37;&#52;&#48;lists&#46;linux&#46;dev">regressions<span>&#64;</span>lists<span>&#46;</span>linux<span>&#46;</span>dev</a>) know about your report:</p>
<ul class="simple">
<li><p>If you report the regression by mail, CC the regressions list.</p></li>
<li><p>If you report your regression to some bug tracker, forward the submitted
report by mail to the regressions list while CCing the maintainer and the
mailing list for the subsystem in question.</p></li>
</ul>
<p>If it’s a regression within a stable or longterm series (e.g.
v5.15.3..v5.15.5), remember to CC the <a class="reference external" href="https://lore.kernel.org/stable/">Linux stable mailing list</a> (<a class="reference external" href="mailto:stable&#37;&#52;&#48;vger&#46;kernel&#46;org">stable<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a>).</p>
</li>
</ul>
<blockquote>
<div><p>In case you performed a successful bisection, add everyone to the CC the
culprit’s commit message mentions in lines starting with “Signed-off-by:”.</p>
</div></blockquote>
</div></blockquote>
<p>When CCing for forwarding your report to the list, consider directly telling the
aforementioned Linux kernel regression tracking bot about your report. To do
that, include a paragraph like this in your mail:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#regzbot introduced: v5.13..v5.14-rc1
</pre></div>
</div>
<p>Regzbot will then consider your mail a report for a regression introduced in the
specified version range. In above case Linux v5.13 still worked fine and Linux
v5.14-rc1 was the first version where you encountered the issue. If you
performed a bisection to find the commit that caused the regression, specify the
culprit’s commit-id instead:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#regzbot introduced: 1f2e3d4c5d
</pre></div>
</div>
<p>Placing such a “regzbot command” is in your interest, as it will ensure the
report won’t fall through the cracks unnoticed. If you omit this, the Linux
kernel’s regressions tracker will take care of telling regzbot about your
regression, as long as you send a copy to the regressions mailing lists. But the
regression tracker is just one human which sometimes has to rest or occasionally
might even enjoy some time away from computers (as crazy as that might sound).
Relying on this person thus will result in an unnecessary delay before the
regressions becomes mentioned <a class="reference external" href="https://linux-regtracking.leemhuis.info/regzbot/">on the list of tracked and unresolved Linux
kernel regressions</a> and the
weekly regression reports sent by regzbot. Such delays can result in Linus
Torvalds being unaware of important regressions when deciding between “continue
development or call this finished and release the final?”.</p>
</section>
<section id="are-really-all-regressions-fixed">
<h4>Are really all regressions fixed?<a class="headerlink" href="#are-really-all-regressions-fixed" title="Link to this heading">¶</a></h4>
<p>Nearly all of them are, as long as the change causing the regression (the
“culprit commit”) is reliably identified. Some regressions can be fixed without
this, but often it’s required.</p>
</section>
<section id="who-needs-to-find-the-root-cause-of-a-regression">
<h4>Who needs to find the root cause of a regression?<a class="headerlink" href="#who-needs-to-find-the-root-cause-of-a-regression" title="Link to this heading">¶</a></h4>
<p>Developers of the affected code area should try to locate the culprit on their
own. But for them that’s often impossible to do with reasonable effort, as quite
a lot of issues only occur in a particular environment outside the developer’s
reach -- for example, a specific hardware platform, firmware, Linux distro,
system’s configuration, or application. That’s why in the end it’s often up to
the reporter to locate the culprit commit; sometimes users might even need to
run additional tests afterwards to pinpoint the exact root cause. Developers
should offer advice and reasonably help where they can, to make this process
relatively easy and achievable for typical users.</p>
</section>
<section id="how-can-i-find-the-culprit">
<h4>How can I find the culprit?<a class="headerlink" href="#how-can-i-find-the-culprit" title="Link to this heading">¶</a></h4>
<p>Perform a bisection, as roughly outlined in
<a class="reference internal" href="reporting-issues.html"><span class="doc">Reporting issues</span></a> and described in more detail by
<a class="reference internal" href="bug-bisect.html"><span class="doc">Bisecting a bug</span></a>. It might sound like a lot of work, but
in many cases finds the culprit relatively quickly. If it’s hard or
time-consuming to reliably reproduce the issue, consider teaming up with other
affected users to narrow down the search range together.</p>
</section>
<section id="who-can-i-ask-for-advice-when-it-comes-to-regressions">
<h4>Who can I ask for advice when it comes to regressions?<a class="headerlink" href="#who-can-i-ask-for-advice-when-it-comes-to-regressions" title="Link to this heading">¶</a></h4>
<p>Send a mail to the regressions mailing list (<a class="reference external" href="mailto:regressions&#37;&#52;&#48;lists&#46;linux&#46;dev">regressions<span>&#64;</span>lists<span>&#46;</span>linux<span>&#46;</span>dev</a>) while
CCing the Linux kernel’s regression tracker (<a class="reference external" href="mailto:regressions&#37;&#52;&#48;leemhuis&#46;info">regressions<span>&#64;</span>leemhuis<span>&#46;</span>info</a>); if the
issue might better be dealt with in private, feel free to omit the list.</p>
</section>
</section>
<section id="additional-details-about-regressions">
<h3>Additional details about regressions<a class="headerlink" href="#additional-details-about-regressions" title="Link to this heading">¶</a></h3>
<section id="what-is-the-goal-of-the-no-regressions-rule">
<h4>What is the goal of the “no regressions” rule?<a class="headerlink" href="#what-is-the-goal-of-the-no-regressions-rule" title="Link to this heading">¶</a></h4>
<p>Users should feel safe when updating kernel versions and not have to worry
something might break. This is in the interest of the kernel developers to make
updating attractive: they don’t want users to stay on stable or longterm Linux
series that are either abandoned or more than one and a half years old. That’s
in everybody’s interest, as <a class="reference external" href="http://www.kroah.com/log/blog/2018/08/24/what-stable-kernel-should-i-use/">those series might have known bugs, security
issues, or other problematic aspects already fixed in later versions</a>.
Additionally, the kernel developers want to make it simple and appealing for
users to test the latest pre-release or regular release. That’s also in
everybody’s interest, as it’s a lot easier to track down and fix problems, if
they are reported shortly after being introduced.</p>
</section>
<section id="is-the-no-regressions-rule-really-adhered-in-practice">
<h4>Is the “no regressions” rule really adhered in practice?<a class="headerlink" href="#is-the-no-regressions-rule-really-adhered-in-practice" title="Link to this heading">¶</a></h4>
<p>It’s taken really seriously, as can be seen by many mailing list posts from
Linux creator and lead developer Linus Torvalds, some of which are quoted in
<a class="reference internal" href="../process/handling-regressions.html"><span class="doc">Handling regressions</span></a>.</p>
<p>Exceptions to this rule are extremely rare; in the past developers almost always
turned out to be wrong when they assumed a particular situation was warranting
an exception.</p>
</section>
<section id="who-ensures-the-no-regressions-rule-is-actually-followed">
<h4>Who ensures the “no regressions” rule is actually followed?<a class="headerlink" href="#who-ensures-the-no-regressions-rule-is-actually-followed" title="Link to this heading">¶</a></h4>
<p>The subsystem maintainers should take care of that, which are watched and
supported by the tree maintainers -- e.g. Linus Torvalds for mainline and
Greg Kroah-Hartman et al. for various stable/longterm series.</p>
<p>All of them are helped by people trying to ensure no regression report falls
through the cracks. One of them is Thorsten Leemhuis, who’s currently acting as
the Linux kernel’s “regressions tracker”; to facilitate this work he relies on
regzbot, the Linux kernel regression tracking bot. That’s why you want to bring
your report on the radar of these people by CCing or forwarding each report to
the regressions mailing list, ideally with a “regzbot command” in your mail to
get it tracked immediately.</p>
</section>
<section id="how-quickly-are-regressions-normally-fixed">
<h4>How quickly are regressions normally fixed?<a class="headerlink" href="#how-quickly-are-regressions-normally-fixed" title="Link to this heading">¶</a></h4>
<p>Developers should fix any reported regression as quickly as possible, to provide
affected users with a solution in a timely manner and prevent more users from
running into the issue; nevertheless developers need to take enough time and
care to ensure regression fixes do not cause additional damage.</p>
<p>The answer thus depends on various factors like the impact of a regression, its
age, or the Linux series in which it occurs. In the end though, most regressions
should be fixed within two weeks.</p>
</section>
<section id="is-it-a-regression-if-the-issue-can-be-avoided-by-updating-some-software">
<h4>Is it a regression, if the issue can be avoided by updating some software?<a class="headerlink" href="#is-it-a-regression-if-the-issue-can-be-avoided-by-updating-some-software" title="Link to this heading">¶</a></h4>
<p>Almost always: yes. If a developer tells you otherwise, ask the regression
tracker for advice as outlined above.</p>
</section>
<section id="is-it-a-regression-if-a-newer-kernel-works-slower-or-consumes-more-energy">
<h4>Is it a regression, if a newer kernel works slower or consumes more energy?<a class="headerlink" href="#is-it-a-regression-if-a-newer-kernel-works-slower-or-consumes-more-energy" title="Link to this heading">¶</a></h4>
<p>Yes, but the difference has to be significant. A five percent slow-down in a
micro-benchmark thus is unlikely to qualify as regression, unless it also
influences the results of a broad benchmark by more than one percent. If in
doubt, ask for advice.</p>
</section>
<section id="is-it-a-regression-if-an-external-kernel-module-breaks-when-updating-linux">
<h4>Is it a regression, if an external kernel module breaks when updating Linux?<a class="headerlink" href="#is-it-a-regression-if-an-external-kernel-module-breaks-when-updating-linux" title="Link to this heading">¶</a></h4>
<p>No, as the “no regression” rule is about interfaces and services the Linux
kernel provides to the userland. It thus does not cover building or running
externally developed kernel modules, as they run in kernel-space and hook into
the kernel using internal interfaces occasionally changed.</p>
</section>
<section id="how-are-regressions-handled-that-are-caused-by-security-fixes">
<h4>How are regressions handled that are caused by security fixes?<a class="headerlink" href="#how-are-regressions-handled-that-are-caused-by-security-fixes" title="Link to this heading">¶</a></h4>
<p>In extremely rare situations security issues can’t be fixed without causing
regressions; those fixes are given way, as they are the lesser evil in the end.
Luckily this middling almost always can be avoided, as key developers for the
affected area and often Linus Torvalds himself try very hard to fix security
issues without causing regressions.</p>
<p>If you nevertheless face such a case, check the mailing list archives if people
tried their best to avoid the regression. If not, report it; if in doubt, ask
for advice as outlined above.</p>
</section>
<section id="what-happens-if-fixing-a-regression-is-impossible-without-causing-another">
<h4>What happens if fixing a regression is impossible without causing another?<a class="headerlink" href="#what-happens-if-fixing-a-regression-is-impossible-without-causing-another" title="Link to this heading">¶</a></h4>
<p>Sadly these things happen, but luckily not very often; if they occur, expert
developers of the affected code area should look into the issue to find a fix
that avoids regressions or at least their impact. If you run into such a
situation, do what was outlined already for regressions caused by security
fixes: check earlier discussions if people already tried their best and ask for
advice if in doubt.</p>
<p>A quick note while at it: these situations could be avoided, if people would
regularly give mainline pre-releases (say v5.15-rc1 or -rc3) from each
development cycle a test run. This is best explained by imagining a change
integrated between Linux v5.14 and v5.15-rc1 which causes a regression, but at
the same time is a hard requirement for some other improvement applied for
5.15-rc1. All these changes often can simply be reverted and the regression thus
solved, if someone finds and reports it before 5.15 is released. A few days or
weeks later this solution can become impossible, as some software might have
started to rely on aspects introduced by one of the follow-up changes: reverting
all changes would then cause a regression for users of said software and thus is
out of the question.</p>
</section>
<section id="is-it-a-regression-if-some-feature-i-relied-on-was-removed-months-ago">
<h4>Is it a regression, if some feature I relied on was removed months ago?<a class="headerlink" href="#is-it-a-regression-if-some-feature-i-relied-on-was-removed-months-ago" title="Link to this heading">¶</a></h4>
<p>It is, but often it’s hard to fix such regressions due to the aspects outlined
in the previous section. It hence needs to be dealt with on a case-by-case
basis. This is another reason why it’s in everybody’s interest to regularly test
mainline pre-releases.</p>
</section>
<section id="does-the-no-regression-rule-apply-if-i-seem-to-be-the-only-affected-person">
<h4>Does the “no regression” rule apply if I seem to be the only affected person?<a class="headerlink" href="#does-the-no-regression-rule-apply-if-i-seem-to-be-the-only-affected-person" title="Link to this heading">¶</a></h4>
<p>It does, but only for practical usage: the Linux developers want to be free to
remove support for hardware only to be found in attics and museums anymore.</p>
<p>Note, sometimes regressions can’t be avoided to make progress -- and the latter
is needed to prevent Linux from stagnation. Hence, if only very few users seem
to be affected by a regression, it for the greater good might be in their and
everyone else’s interest to lettings things pass. Especially if there is an
easy way to circumvent the regression somehow, for example by updating some
software or using a kernel parameter created just for this purpose.</p>
</section>
<section id="does-the-regression-rule-apply-for-code-in-the-staging-tree-as-well">
<h4>Does the regression rule apply for code in the staging tree as well?<a class="headerlink" href="#does-the-regression-rule-apply-for-code-in-the-staging-tree-as-well" title="Link to this heading">¶</a></h4>
<p>Not according to the <a class="reference external" href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/staging/Kconfig">help text for the configuration option covering all
staging code</a>,
which since its early days states:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Please note that these drivers are under heavy development, may or
may not work, and may contain userspace interfaces that most likely
will be changed in the near future.
</pre></div>
</div>
<p>The staging developers nevertheless often adhere to the “no regressions” rule,
but sometimes bend it to make progress. That’s for example why some users had to
deal with (often negligible) regressions when a WiFi driver from the staging
tree was replaced by a totally different one written from scratch.</p>
</section>
<section id="why-do-later-versions-have-to-be-compiled-with-a-similar-configuration">
<h4>Why do later versions have to be “compiled with a similar configuration”?<a class="headerlink" href="#why-do-later-versions-have-to-be-compiled-with-a-similar-configuration" title="Link to this heading">¶</a></h4>
<p>Because the Linux kernel developers sometimes integrate changes known to cause
regressions, but make them optional and disable them in the kernel’s default
configuration. This trick allows progress, as the “no regressions” rule
otherwise would lead to stagnation.</p>
<p>Consider for example a new security feature blocking access to some kernel
interfaces often abused by malware, which at the same time are required to run a
few rarely used applications. The outlined approach makes both camps happy:
people using these applications can leave the new security feature off, while
everyone else can enable it without running into trouble.</p>
</section>
<section id="how-to-create-a-configuration-similar-to-the-one-of-an-older-kernel">
<h4>How to create a configuration similar to the one of an older kernel?<a class="headerlink" href="#how-to-create-a-configuration-similar-to-the-one-of-an-older-kernel" title="Link to this heading">¶</a></h4>
<p>Start your machine with a known-good kernel and configure the newer Linux
version with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">olddefconfig</span></code>. This makes the kernel’s build scripts pick
up the configuration file (the “.config” file) from the running kernel as base
for the new one you are about to compile; afterwards they set all new
configuration options to their default value, which should disable new features
that might cause regressions.</p>
</section>
<section id="can-i-report-a-regression-i-found-with-pre-compiled-vanilla-kernels">
<h4>Can I report a regression I found with pre-compiled vanilla kernels?<a class="headerlink" href="#can-i-report-a-regression-i-found-with-pre-compiled-vanilla-kernels" title="Link to this heading">¶</a></h4>
<p>You need to ensure the newer kernel was compiled with a similar configuration
file as the older one (see above), as those that built them might have enabled
some known-to-be incompatible feature for the newer kernel. If in doubt, report
the matter to the kernel’s provider and ask for advice.</p>
</section>
</section>
<section id="more-about-regression-tracking-with-regzbot">
<h3>More about regression tracking with “regzbot”<a class="headerlink" href="#more-about-regression-tracking-with-regzbot" title="Link to this heading">¶</a></h3>
<section id="what-is-regression-tracking-and-why-should-i-care-about-it">
<h4>What is regression tracking and why should I care about it?<a class="headerlink" href="#what-is-regression-tracking-and-why-should-i-care-about-it" title="Link to this heading">¶</a></h4>
<p>Rules like “no regressions” need someone to ensure they are followed, otherwise
they are broken either accidentally or on purpose. History has shown this to be
true for Linux kernel development as well. That’s why Thorsten Leemhuis, the
Linux Kernel’s regression tracker, and some people try to ensure all regression
are fixed by keeping an eye on them until they are resolved. Neither of them are
paid for this, that’s why the work is done on a best effort basis.</p>
</section>
<section id="why-and-how-are-linux-kernel-regressions-tracked-using-a-bot">
<h4>Why and how are Linux kernel regressions tracked using a bot?<a class="headerlink" href="#why-and-how-are-linux-kernel-regressions-tracked-using-a-bot" title="Link to this heading">¶</a></h4>
<p>Tracking regressions completely manually has proven to be quite hard due to the
distributed and loosely structured nature of Linux kernel development process.
That’s why the Linux kernel’s regression tracker developed regzbot to facilitate
the work, with the long term goal to automate regression tracking as much as
possible for everyone involved.</p>
<p>Regzbot works by watching for replies to reports of tracked regressions.
Additionally, it’s looking out for posted or committed patches referencing such
reports with “Link:” tags; replies to such patch postings are tracked as well.
Combined this data provides good insights into the current state of the fixing
process.</p>
</section>
<section id="how-to-see-which-regressions-regzbot-tracks-currently">
<h4>How to see which regressions regzbot tracks currently?<a class="headerlink" href="#how-to-see-which-regressions-regzbot-tracks-currently" title="Link to this heading">¶</a></h4>
<p>Check out <a class="reference external" href="https://linux-regtracking.leemhuis.info/regzbot/">regzbot’s web-interface</a>.</p>
</section>
<section id="what-kind-of-issues-are-supposed-to-be-tracked-by-regzbot">
<h4>What kind of issues are supposed to be tracked by regzbot?<a class="headerlink" href="#what-kind-of-issues-are-supposed-to-be-tracked-by-regzbot" title="Link to this heading">¶</a></h4>
<p>The bot is meant to track regressions, hence please don’t involve regzbot for
regular issues. But it’s okay for the Linux kernel’s regression tracker if you
involve regzbot to track severe issues, like reports about hangs, corrupted
data, or internal errors (Panic, Oops, BUG(), warning, ...).</p>
</section>
<section id="how-to-change-aspects-of-a-tracked-regression">
<h4>How to change aspects of a tracked regression?<a class="headerlink" href="#how-to-change-aspects-of-a-tracked-regression" title="Link to this heading">¶</a></h4>
<p>By using a ‘regzbot command’ in a direct or indirect reply to the mail with the
report. The easiest way to do that: find the report in your “Sent” folder or the
mailing list archive and reply to it using your mailer’s “Reply-all” function.
In that mail, use one of the following commands in a stand-alone paragraph (IOW:
use blank lines to separate one or multiple of these commands from the rest of
the mail’s text).</p>
<blockquote>
<div><ul>
<li><p>Update when the regression started to happen, for example after performing a
bisection:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#regzbot introduced: 1f2e3d4c5d
</pre></div>
</div>
</li>
<li><p>Set or update the title:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#regzbot title: foo
</pre></div>
</div>
</li>
<li><p>Monitor a discussion or bugzilla.kernel.org ticket where additions aspects of
the issue or a fix are discussed::</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#regzbot monitor: https://lore.kernel.org/r/30th.anniversary.repost@klaava.Helsinki.FI/
#regzbot monitor: https://bugzilla.kernel.org/show_bug.cgi?id=123456789
</pre></div>
</div>
</li>
<li><p>Point to a place with further details of interest, like a mailing list post
or a ticket in a bug tracker that are slightly related, but about a different
topic:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#regzbot link: https://bugzilla.kernel.org/show_bug.cgi?id=123456789
</pre></div>
</div>
</li>
<li><p>Mark a regression as invalid:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#regzbot invalid: wasn&#39;t a regression, problem has always existed
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>Regzbot supports a few other commands primarily used by developers or people
tracking regressions. They and more details about the aforementioned regzbot
commands can be found in the <a class="reference external" href="https://gitlab.com/knurd42/regzbot/-/blob/main/docs/getting_started.md">getting started guide</a> and
the <a class="reference external" href="https://gitlab.com/knurd42/regzbot/-/blob/main/docs/reference.md">reference documentation</a>
for regzbot.</p>
</section>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/admin-guide/reporting-regressions.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>