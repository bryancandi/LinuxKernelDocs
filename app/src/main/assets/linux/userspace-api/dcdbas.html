
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Dell Systems Management Base Driver &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="The Linux kernel firmware guide" href="../firmware-guide/index.html" />
    <link rel="prev" title="ISA Plug &amp; Play support" href="isapnp.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.8.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/development-process.html">A guide to the Kernel Development Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/submitting-patches.html">Submitting patches: the essential guide to getting your code into the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">All development-process docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">Driver implementer's API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subsystem-apis.html">Kernel subsystem documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">Locking in the kernel</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/license-rules.html">Linux kernel licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/testing-overview.html">Kernel Testing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rust/index.html">Rust</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user's and administrator's guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">The kernel build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">User-space tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">The Linux kernel user-space API guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="no_new_privs.html">No New Privileges Flag</a></li>
<li class="toctree-l2"><a class="reference internal" href="seccomp_filter.html">Seccomp BPF (SECure COMPuting with filters)</a></li>
<li class="toctree-l2"><a class="reference internal" href="landlock.html">Landlock: unprivileged access control</a></li>
<li class="toctree-l2"><a class="reference internal" href="unshare.html">unshare system call</a></li>
<li class="toctree-l2"><a class="reference internal" href="spec_ctrl.html">Speculation Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="accelerators/ocxl.html">OpenCAPI (Open Coherent Accelerator Processor Interface)</a></li>
<li class="toctree-l2"><a class="reference internal" href="dma-buf-alloc-exchange.html">Exchanging pixel buffers</a></li>
<li class="toctree-l2"><a class="reference internal" href="ebpf/index.html">eBPF Userspace API</a></li>
<li class="toctree-l2"><a class="reference internal" href="ELF.html">Linux-specific ELF idiosyncrasies</a></li>
<li class="toctree-l2"><a class="reference internal" href="ioctl/index.html">IOCTLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="iommu.html">IOMMU Userspace API</a></li>
<li class="toctree-l2"><a class="reference internal" href="iommufd.html">IOMMUFD</a></li>
<li class="toctree-l2"><a class="reference internal" href="media/index.html">Linux Media Infrastructure userspace API</a></li>
<li class="toctree-l2"><a class="reference internal" href="netlink/index.html">Netlink Handbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="sysfs-platform_profile.html">Platform Profile Selection (e.g. /sys/firmware/acpi/platform_profile)</a></li>
<li class="toctree-l2"><a class="reference internal" href="vduse.html">VDUSE - &quot;vDPA Device in Userspace&quot;</a></li>
<li class="toctree-l2"><a class="reference internal" href="futex2.html">futex2</a></li>
<li class="toctree-l2"><a class="reference internal" href="lsm.html">Linux Security Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tee.html">TEE (Trusted Execution Environment) Userspace API</a></li>
<li class="toctree-l2"><a class="reference internal" href="isapnp.html">ISA Plug &amp; Play support</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dell Systems Management Base Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#system-management-interrupt">System Management Interrupt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#host-control-action">Host Control Action</a></li>
<li class="toctree-l3"><a class="reference internal" href="#host-control-smi-type">Host Control SMI Type</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">Open Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">CPU Architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RAS/ras.html">Reliability, Availability and Serviceability features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/userspace-api/dcdbas.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright Â© 2023, Oracle and/or its affiliates. -->


<section id="dell-systems-management-base-driver">
<h1>Dell Systems Management Base Driver<a class="headerlink" href="#dell-systems-management-base-driver" title="Permalink to this heading">Â¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">Â¶</a></h2>
<p>The Dell Systems Management Base Driver provides a sysfs interface for
systems management software such as Dell OpenManage to perform system
management interrupts and host control actions (system power cycle or
power off after OS shutdown) on certain Dell systems.</p>
<p>Dell OpenManage requires this driver on the following Dell PowerEdge systems:
300, 1300, 1400, 400SC, 500SC, 1500SC, 1550, 600SC, 1600SC, 650, 1655MC,
700, and 750.  Other Dell software such as the open source libsmbios project
is expected to make use of this driver, and it may include the use of this
driver on other Dell systems.</p>
<p>The Dell libsmbios project aims towards providing access to as much BIOS
information as possible.  See <a class="reference external" href="http://linux.dell.com/libsmbios/main/">http://linux.dell.com/libsmbios/main/</a> for
more information about the libsmbios project.</p>
</section>
<section id="system-management-interrupt">
<h2>System Management Interrupt<a class="headerlink" href="#system-management-interrupt" title="Permalink to this heading">Â¶</a></h2>
<p>On some Dell systems, systems management software must access certain
management information via a system management interrupt (SMI).  The SMI data
buffer must reside in 32-bit address space, and the physical address of the
buffer is required for the SMI.  The driver maintains the memory required for
the SMI and provides a way for the application to generate the SMI.
The driver creates the following sysfs entries for systems management
software to perform these system management interrupts:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/sys/devices/platform/dcdbas/smi_data
/sys/devices/platform/dcdbas/smi_data_buf_phys_addr
/sys/devices/platform/dcdbas/smi_data_buf_size
/sys/devices/platform/dcdbas/smi_request
</pre></div>
</div>
<p>Systems management software must perform the following steps to execute
a SMI using this driver:</p>
<ol class="arabic simple">
<li><p>Lock smi_data.</p></li>
<li><p>Write system management command to smi_data.</p></li>
<li><p>Write &quot;1&quot; to smi_request to generate a calling interface SMI or
&quot;2&quot; to generate a raw SMI.</p></li>
<li><p>Read system management command response from smi_data.</p></li>
<li><p>Unlock smi_data.</p></li>
</ol>
</section>
<section id="host-control-action">
<h2>Host Control Action<a class="headerlink" href="#host-control-action" title="Permalink to this heading">Â¶</a></h2>
<p>Dell OpenManage supports a host control feature that allows the administrator
to perform a power cycle or power off of the system after the OS has finished
shutting down.  On some Dell systems, this host control feature requires that
a driver perform a SMI after the OS has finished shutting down.</p>
<p>The driver creates the following sysfs entries for systems management software
to schedule the driver to perform a power cycle or power off host control
action after the system has finished shutting down:</p>
<p>/sys/devices/platform/dcdbas/host_control_action
/sys/devices/platform/dcdbas/host_control_smi_type
/sys/devices/platform/dcdbas/host_control_on_shutdown</p>
<p>Dell OpenManage performs the following steps to execute a power cycle or
power off host control action using this driver:</p>
<ol class="arabic simple">
<li><p>Write host control action to be performed to host_control_action.</p></li>
<li><p>Write type of SMI that driver needs to perform to host_control_smi_type.</p></li>
<li><p>Write &quot;1&quot; to host_control_on_shutdown to enable host control action.</p></li>
<li><p>Initiate OS shutdown.
(Driver will perform host control SMI when it is notified that the OS
has finished shutting down.)</p></li>
</ol>
</section>
<section id="host-control-smi-type">
<h2>Host Control SMI Type<a class="headerlink" href="#host-control-smi-type" title="Permalink to this heading">Â¶</a></h2>
<p>The following table shows the value to write to host_control_smi_type to
perform a power cycle or power off host control action:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PowerEdge System</p></th>
<th class="head"><p>Host Control SMI Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>300</p></td>
<td><p>HC_SMITYPE_TYPE1</p></td>
</tr>
<tr class="row-odd"><td><p>1300</p></td>
<td><p>HC_SMITYPE_TYPE1</p></td>
</tr>
<tr class="row-even"><td><p>1400</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>500SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>1500SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>1550</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>600SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>1600SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>650</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>1655MC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>700</p></td>
<td><p>HC_SMITYPE_TYPE3</p></td>
</tr>
<tr class="row-odd"><td><p>750</p></td>
<td><p>HC_SMITYPE_TYPE3</p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/userspace-api/dcdbas.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>