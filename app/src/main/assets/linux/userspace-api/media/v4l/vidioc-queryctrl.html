<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>7.49. ioctls VIDIOC_QUERYCTRL, VIDIOC_QUERY_EXT_CTRL and VIDIOC_QUERYMENU &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=a152c8ac" />
    <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="7.50. ioctl VIDIOC_QUERY_DV_TIMINGS" href="vidioc-query-dv-timings.html" />
    <link rel="prev" title="7.48. ioctl VIDIOC_QUERYCAP" href="vidioc-querycap.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.13.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">All development-process docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../subsystem-apis.html">Subsystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rust/index.html">Rust</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Userspace API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#system-calls">System calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#security-related-interfaces">Security-related interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#devices-and-i-o">Devices and I/O</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../accelerators/ocxl.html">OpenCAPI (Open Coherent Accelerator Processor Interface)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dma-buf-alloc-exchange.html">Exchanging pixel buffers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gpio/index.html">GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../iommufd.html">IOMMUFD</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Linux Media Infrastructure userspace API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dcdbas.html">Dell Systems Management Base Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vduse.html">VDUSE - “vDPA Device in Userspace”</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../isapnp.html">ISA Plug &amp; Play support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#everything-else">Everything else</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/userspace-api/media/v4l/vidioc-queryctrl.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->


<section id="ioctls-vidioc-queryctrl-vidioc-query-ext-ctrl-and-vidioc-querymenu">
<span id="vidioc-queryctrl"></span><h1><span class="section-number">7.49. </span>ioctls VIDIOC_QUERYCTRL, VIDIOC_QUERY_EXT_CTRL and VIDIOC_QUERYMENU<a class="headerlink" href="#ioctls-vidioc-queryctrl-vidioc-query-ext-ctrl-and-vidioc-querymenu" title="Link to this heading">¶</a></h1>
<section id="name">
<h2><span class="section-number">7.49.1. </span>Name<a class="headerlink" href="#name" title="Link to this heading">¶</a></h2>
<p>VIDIOC_QUERYCTRL - VIDIOC_QUERY_EXT_CTRL - VIDIOC_QUERYMENU - Enumerate controls and menu control items</p>
</section>
<section id="synopsis">
<h2><span class="section-number">7.49.2. </span>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ioctl(int</span> <span class="pre">fd,</span> <span class="pre">int</span> <span class="pre">VIDIOC_QUERYCTRL,</span> <span class="pre">struct</span> <span class="pre">v4l2_queryctrl</span> <span class="pre">*argp)</span></code></p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.V4L.VIDIOC_QUERY_EXT_CTRL">
<span class="sig-name descname"><span class="n"><span class="pre">VIDIOC_QUERY_EXT_CTRL</span></span></span><a class="headerlink" href="#c.V4L.VIDIOC_QUERY_EXT_CTRL" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ioctl(int</span> <span class="pre">fd,</span> <span class="pre">VIDIOC_QUERY_EXT_CTRL,</span> <span class="pre">struct</span> <span class="pre">v4l2_query_ext_ctrl</span> <span class="pre">*argp)</span></code></p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.V4L.VIDIOC_QUERYMENU">
<span class="sig-name descname"><span class="n"><span class="pre">VIDIOC_QUERYMENU</span></span></span><a class="headerlink" href="#c.V4L.VIDIOC_QUERYMENU" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">ioctl(int</span> <span class="pre">fd,</span> <span class="pre">VIDIOC_QUERYMENU,</span> <span class="pre">struct</span> <span class="pre">v4l2_querymenu</span> <span class="pre">*argp)</span></code></p>
</section>
<section id="arguments">
<h2><span class="section-number">7.49.3. </span>Arguments<a class="headerlink" href="#arguments" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">fd</span></code></dt><dd><p>File descriptor returned by <a class="reference internal" href="func-open.html#c.V4L.open" title="open"><code class="xref c c-func docutils literal notranslate"><span class="pre">open()</span></code></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">argp</span></code></dt><dd><p>Pointer to struct <a class="reference internal" href="../../../driver-api/media/v4l2-controls.html#c.v4l2_queryctrl" title="v4l2_queryctrl"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_queryctrl</span></code></a>, <a class="reference internal" href="../../../driver-api/media/v4l2-controls.html#c.v4l2_query_ext_ctrl" title="v4l2_query_ext_ctrl"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_query_ext_ctrl</span></code></a>
or <a class="reference internal" href="../../../driver-api/media/v4l2-controls.html#c.v4l2_querymenu" title="v4l2_querymenu"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_querymenu</span></code></a> (depending on the ioctl).</p>
</dd>
</dl>
</section>
<section id="description">
<h2><span class="section-number">7.49.4. </span>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>To query the attributes of a control applications set the <code class="docutils literal notranslate"><span class="pre">id</span></code> field
of a struct <a class="reference internal" href="#v4l2-queryctrl"><span class="std std-ref">v4l2_queryctrl</span></a> and call the
<code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYCTRL</span></code> ioctl with a pointer to this structure. The driver
fills the rest of the structure or returns an <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> error code when the
<code class="docutils literal notranslate"><span class="pre">id</span></code> is invalid.</p>
<p>It is possible to enumerate controls by calling <code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYCTRL</span></code>
with successive <code class="docutils literal notranslate"><span class="pre">id</span></code> values starting from <code class="docutils literal notranslate"><span class="pre">V4L2_CID_BASE</span></code> up to and
exclusive <code class="docutils literal notranslate"><span class="pre">V4L2_CID_LASTP1</span></code>. Drivers may return <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> if a control in
this range is not supported. Further applications can enumerate private
controls, which are not defined in this specification, by starting at
<code class="docutils literal notranslate"><span class="pre">V4L2_CID_PRIVATE_BASE</span></code> and incrementing <code class="docutils literal notranslate"><span class="pre">id</span></code> until the driver
returns <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code>.</p>
<p>In both cases, when the driver sets the <code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_DISABLED</span></code> flag
in the <code class="docutils literal notranslate"><span class="pre">flags</span></code> field this control is permanently disabled and should
be ignored by the application. <a class="footnote-reference brackets" href="#f1" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>When the application ORs <code class="docutils literal notranslate"><span class="pre">id</span></code> with <code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_NEXT_CTRL</span></code> the
driver returns the next supported non-compound control, or <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> if
there is none. In addition, the <code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_NEXT_COMPOUND</span></code> flag
can be specified to enumerate all compound controls (i.e. controls with
type ≥ <code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_COMPOUND_TYPES</span></code> and/or array control, in other words
controls that contain more than one value). Specify both
<code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_NEXT_CTRL</span></code> and <code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_NEXT_COMPOUND</span></code> in
order to enumerate all controls, compound or not. Drivers which do not
support these flags yet always return <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERY_EXT_CTRL</span></code> ioctl was introduced in order to better
support controls that can use compound types, and to expose additional
control information that cannot be returned in struct
<a class="reference internal" href="#v4l2-queryctrl"><span class="std std-ref">v4l2_queryctrl</span></a> since that structure is full.</p>
<p><code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERY_EXT_CTRL</span></code> is used in the same way as
<code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYCTRL</span></code>, except that the <code class="docutils literal notranslate"><span class="pre">reserved</span></code> array must be zeroed
as well.</p>
<p>Additional information is required for menu controls: the names of the
menu items. To query them applications set the <code class="docutils literal notranslate"><span class="pre">id</span></code> and <code class="docutils literal notranslate"><span class="pre">index</span></code>
fields of struct <a class="reference internal" href="#v4l2-querymenu"><span class="std std-ref">v4l2_querymenu</span></a> and call the
<code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYMENU</span></code> ioctl with a pointer to this structure. The driver
fills the rest of the structure or returns an <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> error code when the
<code class="docutils literal notranslate"><span class="pre">id</span></code> or <code class="docutils literal notranslate"><span class="pre">index</span></code> is invalid. Menu items are enumerated by calling
<code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYMENU</span></code> with successive <code class="docutils literal notranslate"><span class="pre">index</span></code> values from struct
<a class="reference internal" href="#v4l2-queryctrl"><span class="std std-ref">v4l2_queryctrl</span></a> <code class="docutils literal notranslate"><span class="pre">minimum</span></code> to <code class="docutils literal notranslate"><span class="pre">maximum</span></code>,
inclusive.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is possible for <code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYMENU</span></code> to return
an <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> error code for some indices between <code class="docutils literal notranslate"><span class="pre">minimum</span></code> and
<code class="docutils literal notranslate"><span class="pre">maximum</span></code>. In that case that particular menu item is not supported by
this driver. Also note that the <code class="docutils literal notranslate"><span class="pre">minimum</span></code> value is not necessarily 0.</p>
</div>
<p>See also the examples in <a class="reference internal" href="control.html#control"><span class="std std-ref">User Controls</span></a>.</p>
<span id="v4l2-queryctrl"></span><table class="longtable docutils align-default" id="id2">
<caption><span class="caption-text">struct v4l2_queryctrl</span><a class="headerlink" href="#id2" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">id</span></code></p></td>
<td><p>Identifies the control, set by the application. See
<a class="reference internal" href="control.html#control-id"><span class="std std-ref">Control IDs</span></a> for predefined IDs. When the ID is ORed with
V4L2_CTRL_FLAG_NEXT_CTRL the driver clears the flag and
returns the first control with a higher ID. Drivers which do not
support this flag yet always return an <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> error code.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">type</span></code></p></td>
<td><p>Type of control, see <a class="reference internal" href="#c.V4L.v4l2_ctrl_type" title="v4l2_ctrl_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_type</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">name</span></code>[32]</p></td>
<td><p>Name of the control, a NUL-terminated ASCII string. This
information is intended for the user.</p></td>
</tr>
<tr class="row-even"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">minimum</span></code></p></td>
<td><p>Minimum value, inclusive. This field gives a lower bound for the
control. See enum <a class="reference internal" href="#c.V4L.v4l2_ctrl_type" title="v4l2_ctrl_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_type</span></code></a> how
the minimum value is to be used for each possible control type.
Note that this a signed 32-bit value.</p></td>
</tr>
<tr class="row-odd"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">maximum</span></code></p></td>
<td><p>Maximum value, inclusive. This field gives an upper bound for the
control. See enum <a class="reference internal" href="#c.V4L.v4l2_ctrl_type" title="v4l2_ctrl_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_type</span></code></a> how
the maximum value is to be used for each possible control type.
Note that this a signed 32-bit value.</p></td>
</tr>
<tr class="row-even"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">step</span></code></p></td>
<td><p>This field gives a step size for the control. See enum
<a class="reference internal" href="#c.V4L.v4l2_ctrl_type" title="v4l2_ctrl_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_type</span></code></a> how the step value is
to be used for each possible control type. Note that this an
unsigned 32-bit value.</p>
<p>Generally drivers should not scale hardware control values. It may
be necessary for example when the <code class="docutils literal notranslate"><span class="pre">name</span></code> or <code class="docutils literal notranslate"><span class="pre">id</span></code> imply a
particular unit and the hardware actually accepts only multiples
of said unit. If so, drivers must take care values are properly
rounded when scaling, such that errors will not accumulate on
repeated read-write cycles.</p>
<p>This field gives the smallest change of an integer control
actually affecting hardware. Often the information is needed when
the user can change controls by keyboard or GUI buttons, rather
than a slider. When for example a hardware register accepts values
0-511 and the driver reports 0-65535, step should be 128.</p>
<p>Note that although signed, the step value is supposed to be always
positive.</p>
</td>
</tr>
<tr class="row-odd"><td><p>__s32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">default_value</span></code></p></td>
<td><p>The default value of a <code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_INTEGER</span></code>, <code class="docutils literal notranslate"><span class="pre">_BOOLEAN</span></code>,
<code class="docutils literal notranslate"><span class="pre">_BITMASK</span></code>, <code class="docutils literal notranslate"><span class="pre">_MENU</span></code> or <code class="docutils literal notranslate"><span class="pre">_INTEGER_MENU</span></code> control. Not valid
for other types of controls.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Drivers reset controls to their default value only when
the driver is first loaded, never afterwards.</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>Control flags, see <a class="reference internal" href="#control-flags"><span class="std std-ref">Control Flags</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved</span></code>[2]</p></td>
<td><p>Reserved for future extensions. Drivers must set the array to
zero.</p></td>
</tr>
</tbody>
</table>
<span id="v4l2-query-ext-ctrl"></span><table class="longtable docutils align-default" id="id3">
<caption><span class="caption-text">struct v4l2_query_ext_ctrl</span><a class="headerlink" href="#id3" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">id</span></code></p></td>
<td><p>Identifies the control, set by the application. See
<a class="reference internal" href="control.html#control-id"><span class="std std-ref">Control IDs</span></a> for predefined IDs. When the ID is ORed with
<code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_NEXT_CTRL</span></code> the driver clears the flag and
returns the first non-compound control with a higher ID. When the
ID is ORed with <code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_NEXT_COMPOUND</span></code> the driver clears
the flag and returns the first compound control with a higher ID.
Set both to get the first control (compound or not) with a higher
ID.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">type</span></code></p></td>
<td><p>Type of control, see <a class="reference internal" href="#c.V4L.v4l2_ctrl_type" title="v4l2_ctrl_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_type</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>char</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">name</span></code>[32]</p></td>
<td><p>Name of the control, a NUL-terminated ASCII string. This
information is intended for the user.</p></td>
</tr>
<tr class="row-even"><td><p>__s64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">minimum</span></code></p></td>
<td><p>Minimum value, inclusive. This field gives a lower bound for the
control. See enum <a class="reference internal" href="#c.V4L.v4l2_ctrl_type" title="v4l2_ctrl_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_type</span></code></a> how
the minimum value is to be used for each possible control type.
Note that this a signed 64-bit value.</p></td>
</tr>
<tr class="row-odd"><td><p>__s64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">maximum</span></code></p></td>
<td><p>Maximum value, inclusive. This field gives an upper bound for the
control. See enum <a class="reference internal" href="#c.V4L.v4l2_ctrl_type" title="v4l2_ctrl_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_type</span></code></a> how
the maximum value is to be used for each possible control type.
Note that this a signed 64-bit value.</p></td>
</tr>
<tr class="row-even"><td><p>__u64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">step</span></code></p></td>
<td><p>This field gives a step size for the control. See enum
<a class="reference internal" href="#c.V4L.v4l2_ctrl_type" title="v4l2_ctrl_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_type</span></code></a> how the step value is
to be used for each possible control type. Note that this an
unsigned 64-bit value.</p>
<p>Generally drivers should not scale hardware control values. It may
be necessary for example when the <code class="docutils literal notranslate"><span class="pre">name</span></code> or <code class="docutils literal notranslate"><span class="pre">id</span></code> imply a
particular unit and the hardware actually accepts only multiples
of said unit. If so, drivers must take care values are properly
rounded when scaling, such that errors will not accumulate on
repeated read-write cycles.</p>
<p>This field gives the smallest change of an integer control
actually affecting hardware. Often the information is needed when
the user can change controls by keyboard or GUI buttons, rather
than a slider. When for example a hardware register accepts values
0-511 and the driver reports 0-65535, step should be 128.</p>
</td>
</tr>
<tr class="row-odd"><td><p>__s64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">default_value</span></code></p></td>
<td><p>The default value of a <code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_INTEGER</span></code>, <code class="docutils literal notranslate"><span class="pre">_INTEGER64</span></code>,
<code class="docutils literal notranslate"><span class="pre">_BOOLEAN</span></code>, <code class="docutils literal notranslate"><span class="pre">_BITMASK</span></code>, <code class="docutils literal notranslate"><span class="pre">_MENU</span></code>, <code class="docutils literal notranslate"><span class="pre">_INTEGER_MENU</span></code>, <code class="docutils literal notranslate"><span class="pre">_U8</span></code>
or <code class="docutils literal notranslate"><span class="pre">_U16</span></code> control. Not valid for other types of controls.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Drivers reset controls to their default value only when
the driver is first loaded, never afterwards.</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">flags</span></code></p></td>
<td><p>Control flags, see <a class="reference internal" href="#control-flags"><span class="std std-ref">Control Flags</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">elem_size</span></code></p></td>
<td><p>The size in bytes of a single element of the array. Given a char
pointer <code class="docutils literal notranslate"><span class="pre">p</span></code> to a 3-dimensional array you can find the position
of cell <code class="docutils literal notranslate"><span class="pre">(z,</span> <span class="pre">y,</span> <span class="pre">x)</span></code> as follows:
<code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">+</span> <span class="pre">((z</span> <span class="pre">*</span> <span class="pre">dims[1]</span> <span class="pre">+</span> <span class="pre">y)</span> <span class="pre">*</span> <span class="pre">dims[0]</span> <span class="pre">+</span> <span class="pre">x)</span> <span class="pre">*</span> <span class="pre">elem_size</span></code>.
<code class="docutils literal notranslate"><span class="pre">elem_size</span></code> is always valid, also when the control isn’t an
array. For string controls <code class="docutils literal notranslate"><span class="pre">elem_size</span></code> is equal to
<code class="docutils literal notranslate"><span class="pre">maximum</span> <span class="pre">+</span> <span class="pre">1</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">elems</span></code></p></td>
<td><p>The number of elements in the N-dimensional array. If this control
is not an array, then <code class="docutils literal notranslate"><span class="pre">elems</span></code> is 1. The <code class="docutils literal notranslate"><span class="pre">elems</span></code> field can
never be 0.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">nr_of_dims</span></code></p></td>
<td><p>The number of dimension in the N-dimensional array. If this
control is not an array, then this field is 0.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dims[V4L2_CTRL_MAX_DIMS]</span></code></p></td>
<td><p>The size of each dimension. The first <code class="docutils literal notranslate"><span class="pre">nr_of_dims</span></code> elements of
this array must be non-zero, all remaining elements must be zero.</p></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved</span></code>[32]</p></td>
<td><p>Reserved for future extensions. Applications and drivers must set
the array to zero.</p></td>
</tr>
</tbody>
</table>
<span id="v4l2-querymenu"></span><table class="docutils align-default" id="id4">
<caption><span class="caption-text">struct v4l2_querymenu</span><a class="headerlink" href="#id4" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">id</span></code></p></td>
<td><p>Identifies the control, set by the application from the respective
struct <a class="reference internal" href="#v4l2-queryctrl"><span class="std std-ref">v4l2_queryctrl</span></a> <code class="docutils literal notranslate"><span class="pre">id</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">index</span></code></p></td>
<td><p>Index of the menu item, starting at zero, set by the application.</p></td>
</tr>
<tr class="row-odd"><td><p>union {</p></td>
<td colspan="2"><p>(anonymous)</p></td>
</tr>
<tr class="row-even"><td><p>__u8</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">name</span></code>[32]</p></td>
<td><p>Name of the menu item, a NUL-terminated ASCII string. This
information is intended for the user. This field is valid for
<code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_MENU</span></code> type controls.</p></td>
</tr>
<tr class="row-odd"><td><p>__s64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">value</span></code></p></td>
<td><p>Value of the integer menu item. This field is valid for
<code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_INTEGER_MENU</span></code> type controls.</p></td>
</tr>
<tr class="row-even"><td><p>}</p></td>
<td colspan="2"></td>
</tr>
<tr class="row-odd"><td><p>__u32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">reserved</span></code></p></td>
<td><p>Reserved for future extensions. Drivers must set the array to
zero.</p></td>
</tr>
</tbody>
</table>
<dl class="c type">
<dt class="sig sig-object c" id="c.V4L.v4l2_ctrl_type">
<span class="k"><span class="pre">type</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">v4l2_ctrl_type</span></span></span><a class="headerlink" href="#c.V4L.v4l2_ctrl_type" title="Link to this definition">¶</a><br /></dt>
<dd></dd></dl>

<table class="longtable docutils align-default" id="id5">
<caption><span class="caption-text">enum v4l2_ctrl_type</span><a class="headerlink" href="#id5" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">minimum</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">step</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">maximum</span></code></p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_INTEGER</span></code></p></td>
<td><p>any</p></td>
<td><p>any</p></td>
<td><p>any</p></td>
<td><p>An integer-valued control ranging from minimum to maximum
inclusive. The step value indicates the increment between values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_BOOLEAN</span></code></p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>A boolean-valued control. Zero corresponds to “disabled”, and one
means “enabled”.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_MENU</span></code></p></td>
<td><p>≥ 0</p></td>
<td><p>1</p></td>
<td><p>N-1</p></td>
<td><p>The control has a menu of N choices. The names of the menu items
can be enumerated with the <code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYMENU</span></code> ioctl.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_INTEGER_MENU</span></code></p></td>
<td><p>≥ 0</p></td>
<td><p>1</p></td>
<td><p>N-1</p></td>
<td><p>The control has a menu of N choices. The values of the menu items
can be enumerated with the <code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYMENU</span></code> ioctl. This is
similar to <code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_MENU</span></code> except that instead of strings,
the menu items are signed 64-bit integers.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_BITMASK</span></code></p></td>
<td><p>0</p></td>
<td><p>n/a</p></td>
<td><p>any</p></td>
<td><p>A bitmask field. The maximum value is the set of bits that can be
used, all other bits are to be 0. The maximum value is interpreted
as a __u32, allowing the use of bit 31 in the bitmask.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_BUTTON</span></code></p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>A control which performs an action when set. Drivers must ignore
the value passed with <code class="docutils literal notranslate"><span class="pre">VIDIOC_S_CTRL</span></code> and return an <code class="docutils literal notranslate"><span class="pre">EACCES</span></code> error
code on a <code class="docutils literal notranslate"><span class="pre">VIDIOC_G_CTRL</span></code> attempt.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_INTEGER64</span></code></p></td>
<td><p>any</p></td>
<td><p>any</p></td>
<td><p>any</p></td>
<td><p>A 64-bit integer valued control. Minimum, maximum and step size
cannot be queried using <code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYCTRL</span></code>. Only
<code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERY_EXT_CTRL</span></code> can retrieve the 64-bit min/max/step
values, they should be interpreted as n/a when using
<code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYCTRL</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_STRING</span></code></p></td>
<td><p>≥ 0</p></td>
<td><p>≥ 1</p></td>
<td><p>≥ 0</p></td>
<td><p>The minimum and maximum string lengths. The step size means that
the string must be (minimum + N * step) characters long for N ≥ 0.
These lengths do not include the terminating zero, so in order to
pass a string of length 8 to
<a class="reference internal" href="vidioc-g-ext-ctrls.html#vidioc-g-ext-ctrls"><span class="std std-ref">VIDIOC_S_EXT_CTRLS</span></a> you need to
set the <code class="docutils literal notranslate"><span class="pre">size</span></code> field of struct
<a class="reference internal" href="vidioc-g-ext-ctrls.html#c.V4L.v4l2_ext_control" title="v4l2_ext_control"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ext_control</span></code></a> to 9. For
<a class="reference internal" href="vidioc-g-ext-ctrls.html#vidioc-g-ext-ctrls"><span class="std std-ref">VIDIOC_G_EXT_CTRLS</span></a> you can set
the <code class="docutils literal notranslate"><span class="pre">size</span></code> field to <code class="docutils literal notranslate"><span class="pre">maximum</span></code> + 1. Which character encoding is
used will depend on the string control itself and should be part
of the control documentation.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_CTRL_CLASS</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>This is not a control. When <code class="docutils literal notranslate"><span class="pre">VIDIOC_QUERYCTRL</span></code> is called with a
control ID equal to a control class code (see <a class="reference internal" href="vidioc-g-ext-ctrls.html#ctrl-class"><span class="std std-ref">Control classes</span></a>)
+ 1, the ioctl returns the name of the control class and this
control type. Older drivers which do not support this feature
return an <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> error code.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_U8</span></code></p></td>
<td><p>any</p></td>
<td><p>any</p></td>
<td><p>any</p></td>
<td><p>An unsigned 8-bit valued control ranging from minimum to maximum
inclusive. The step value indicates the increment between values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_U16</span></code></p></td>
<td><p>any</p></td>
<td><p>any</p></td>
<td><p>any</p></td>
<td><p>An unsigned 16-bit valued control ranging from minimum to maximum
inclusive. The step value indicates the increment between values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_U32</span></code></p></td>
<td><p>any</p></td>
<td><p>any</p></td>
<td><p>any</p></td>
<td><p>An unsigned 32-bit valued control ranging from minimum to maximum
inclusive. The step value indicates the increment between values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_MPEG2_QUANTISATION</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_mpeg2_quantisation" title="v4l2_ctrl_mpeg2_quantisation"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_mpeg2_quantisation</span></code></a>, containing MPEG-2
quantisation matrices for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_MPEG2_SEQUENCE</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_mpeg2_sequence" title="v4l2_ctrl_mpeg2_sequence"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_mpeg2_sequence</span></code></a>, containing MPEG-2
sequence parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_MPEG2_PICTURE</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_mpeg2_picture" title="v4l2_ctrl_mpeg2_picture"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_mpeg2_picture</span></code></a>, containing MPEG-2
picture parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_AREA</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-image-source.html#c.v4l2_area" title="v4l2_area"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_area</span></code></a>, containing the width and the height
of a rectangular area. Units depend on the use case.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_H264_SPS</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_h264_sps" title="v4l2_ctrl_h264_sps"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_h264_sps</span></code></a>, containing H264
sequence parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_H264_PPS</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_h264_pps" title="v4l2_ctrl_h264_pps"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_h264_pps</span></code></a>, containing H264
picture parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_H264_SCALING_MATRIX</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_h264_scaling_matrix" title="v4l2_ctrl_h264_scaling_matrix"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_h264_scaling_matrix</span></code></a>, containing H264
scaling matrices for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_H264_SLICE_PARAMS</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_h264_slice_params" title="v4l2_ctrl_h264_slice_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_h264_slice_params</span></code></a>, containing H264
slice parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_H264_DECODE_PARAMS</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_h264_decode_params" title="v4l2_ctrl_h264_decode_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_h264_decode_params</span></code></a>, containing H264
decode parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_FWHT_PARAMS</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_fwht_params" title="v4l2_ctrl_fwht_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_fwht_params</span></code></a>, containing FWHT
parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_HEVC_SPS</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_hevc_sps" title="v4l2_ctrl_hevc_sps"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_hevc_sps</span></code></a>, containing HEVC Sequence
Parameter Set for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_HEVC_PPS</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_hevc_pps" title="v4l2_ctrl_hevc_pps"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_hevc_pps</span></code></a>, containing HEVC Picture
Parameter Set for stateless video decoders.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_HEVC_SLICE_PARAMS</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_hevc_slice_params" title="v4l2_ctrl_hevc_slice_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_hevc_slice_params</span></code></a>, containing HEVC
slice parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_HEVC_SCALING_MATRIX</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_hevc_scaling_matrix" title="v4l2_ctrl_hevc_scaling_matrix"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_hevc_scaling_matrix</span></code></a>, containing HEVC
scaling matrix for stateless video decoders.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_VP8_FRAME</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_vp8_frame" title="v4l2_ctrl_vp8_frame"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_vp8_frame</span></code></a>, containing VP8
frame parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_HEVC_DECODE_PARAMS</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_hevc_decode_params" title="v4l2_ctrl_hevc_decode_params"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_hevc_decode_params</span></code></a>, containing HEVC
decoding parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_VP9_COMPRESSED_HDR</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_vp9_compressed_hdr" title="v4l2_ctrl_vp9_compressed_hdr"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_vp9_compressed_hdr</span></code></a>, containing VP9
probabilities updates for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_VP9_FRAME</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_vp9_frame" title="v4l2_ctrl_vp9_frame"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_vp9_frame</span></code></a>, containing VP9
frame decode parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_AV1_SEQUENCE</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_av1_sequence" title="v4l2_ctrl_av1_sequence"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_av1_sequence</span></code></a>, containing AV1 Sequence OBU
decoding parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_AV1_TILE_GROUP_ENTRY</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_av1_tile_group_entry" title="v4l2_ctrl_av1_tile_group_entry"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_av1_tile_group_entry</span></code></a>, containing AV1 Tile Group
OBU decoding parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_AV1_FRAME</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_av1_frame" title="v4l2_ctrl_av1_frame"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_av1_frame</span></code></a>, containing AV1 Frame/Frame
Header OBU decoding parameters for stateless video decoders.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_AV1_FILM_GRAIN</span></code></p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>n/a</p></td>
<td><p>A struct <a class="reference internal" href="ext-ctrls-codec-stateless.html#c.v4l2_ctrl_av1_film_grain" title="v4l2_ctrl_av1_film_grain"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ctrl_av1_film_grain</span></code></a>, containing AV1 Film Grain
parameters for stateless video decoders.</p></td>
</tr>
</tbody>
</table>
<span id="control-flags"></span><table class="longtable docutils align-default" id="id6">
<caption><span class="caption-text">Control Flags</span><a class="headerlink" href="#id6" title="Link to this table">¶</a></caption>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_DISABLED</span></code></p></td>
<td><p>0x0001</p></td>
<td><p>This control is permanently disabled and should be ignored by the
application. Any attempt to change the control will result in an
<code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> error code.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_GRABBED</span></code></p></td>
<td><p>0x0002</p></td>
<td><p>This control is temporarily unchangeable, for example because
another application took over control of the respective resource.
Such controls may be displayed specially in a user interface.
Attempts to change the control may result in an <code class="docutils literal notranslate"><span class="pre">EBUSY</span></code> error code.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_READ_ONLY</span></code></p></td>
<td><p>0x0004</p></td>
<td><p>This control is permanently readable only. Any attempt to change
the control will result in an <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> error code.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_UPDATE</span></code></p></td>
<td><p>0x0008</p></td>
<td><p>A hint that changing this control may affect the value of other
controls within the same control class. Applications should update
their user interface accordingly.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_INACTIVE</span></code></p></td>
<td><p>0x0010</p></td>
<td><p>This control is not applicable to the current configuration and
should be displayed accordingly in a user interface. For example
the flag may be set on a MPEG audio level 2 bitrate control when
MPEG audio encoding level 1 was selected with another control.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_SLIDER</span></code></p></td>
<td><p>0x0020</p></td>
<td><p>A hint that this control is best represented as a slider-like
element in a user interface.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_WRITE_ONLY</span></code></p></td>
<td><p>0x0040</p></td>
<td><p>This control is permanently writable only. Any attempt to read the
control will result in an <code class="docutils literal notranslate"><span class="pre">EACCES</span></code> error code error code. This flag
is typically present for relative controls or action controls
where writing a value will cause the device to carry out a given
action (e. g. motor control) but no meaningful value can be
returned.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_VOLATILE</span></code></p></td>
<td><p>0x0080</p></td>
<td><p>This control is volatile, which means that the value of the
control changes continuously. A typical example would be the
current gain value if the device is in auto-gain mode. In such a
case the hardware calculates the gain value based on the lighting
conditions which can change over time.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting a new value for a volatile control will be ignored
unless
<a class="reference internal" href="#flag-execute-on-write"><span class="std std-ref">V4L2_CTRL_FLAG_EXECUTE_ON_WRITE</span></a>
is also set.
Setting a new value for a volatile control will <em>never</em> trigger a
<a class="reference internal" href="vidioc-dqevent.html#ctrl-changes-flags"><span class="std std-ref">V4L2_EVENT_CTRL_CH_VALUE</span></a> event.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_HAS_PAYLOAD</span></code></p></td>
<td><p>0x0100</p></td>
<td><p>This control has a pointer type, so its value has to be accessed
using one of the pointer fields of struct
<a class="reference internal" href="vidioc-g-ext-ctrls.html#c.V4L.v4l2_ext_control" title="v4l2_ext_control"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_ext_control</span></code></a>. This flag is set
for controls that are an array, string, or have a compound type.
In all cases you have to set a pointer to memory containing the
payload of the control.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_EXECUTE_ON_WRITE</span></code></p>
</td>
<td><p>0x0200</p>
</td>
<td><p id="flag-execute-on-write">The value provided to the control will be propagated to the driver
even if it remains constant. This is required when the control
represents an action on the hardware. For example: clearing an
error flag or triggering the flash. All the controls of the type
<code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_TYPE_BUTTON</span></code> have this flag set.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_MODIFY_LAYOUT</span></code></p>
</td>
<td><p>0x0400</p>
</td>
<td><p id="flag-modify-layout">Changing this control value may modify the layout of the
buffer (for video devices) or the media bus format (for sub-devices).</p>
<p>A typical example would be the <code class="docutils literal notranslate"><span class="pre">V4L2_CID_ROTATE</span></code> control.</p>
<p>Note that typically controls with this flag will also set the
<code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_GRABBED</span></code> flag when buffers are allocated or
streaming is in progress since most drivers do not support changing
the format in that case.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_DYNAMIC_ARRAY</span></code></p></td>
<td><p>0x0800</p></td>
<td><p>This control is a dynamically sized 1-dimensional array. It
behaves the same as a regular array, except that the number
of elements as reported by the <code class="docutils literal notranslate"><span class="pre">elems</span></code> field is between 1 and
<code class="docutils literal notranslate"><span class="pre">dims[0]</span></code>. So setting the control with a differently sized
array will change the <code class="docutils literal notranslate"><span class="pre">elems</span></code> field when the control is
queried afterwards.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="return-value">
<h2><span class="section-number">7.49.5. </span>Return Value<a class="headerlink" href="#return-value" title="Link to this heading">¶</a></h2>
<p>On success 0 is returned, on error -1 and the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable is set
appropriately. The generic error codes are described at the
<a class="reference internal" href="../gen-errors.html#id1"><span class="std std-ref">Generic Error Codes</span></a> chapter.</p>
<dl class="simple">
<dt>EINVAL</dt><dd><p>The struct <a class="reference internal" href="#v4l2-queryctrl"><span class="std std-ref">v4l2_queryctrl</span></a> <code class="docutils literal notranslate"><span class="pre">id</span></code> is
invalid. The struct <a class="reference internal" href="#v4l2-querymenu"><span class="std std-ref">v4l2_querymenu</span></a> <code class="docutils literal notranslate"><span class="pre">id</span></code>
is invalid or <code class="docutils literal notranslate"><span class="pre">index</span></code> is out of range (less than <code class="docutils literal notranslate"><span class="pre">minimum</span></code> or
greater than <code class="docutils literal notranslate"><span class="pre">maximum</span></code>) or this particular menu item is not
supported by the driver.</p>
</dd>
<dt>EACCES</dt><dd><p>An attempt was made to read a write-only control.</p>
</dd>
</dl>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="f1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p><code class="docutils literal notranslate"><span class="pre">V4L2_CTRL_FLAG_DISABLED</span></code> was intended for two purposes: Drivers
can skip predefined controls not supported by the hardware (although
returning <code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> would do as well), or disable predefined and private
controls after hardware detection without the trouble of reordering
control arrays and indices (<code class="docutils literal notranslate"><span class="pre">EINVAL</span></code> cannot be used to skip private
controls because it would prematurely end the enumeration).</p>
</aside>
</aside>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/userspace-api/media/v4l/vidioc-queryctrl.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>