<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Everything you ever wanted to know about Linux -stable releases &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=3918102e" />
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Linux kernel management style" href="management-style.html" />
    <link rel="prev" title="The Linux Kernel Driver Interface" href="stable-api-nonsense.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.svg" alt="Logo of The Linux Kernel"/>
            </a></p>
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.12.0</p>







<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">All development-process docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#an-introduction-to-how-kernel-development-works">An introduction to how kernel development works</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tools-and-technical-guides-for-kernel-developers">Tools and technical guides for kernel developers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#policy-guides-and-developer-statements">Policy guides and developer statements</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="license-rules.html">Linux kernel licensing rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="code-of-conduct.html">Contributor Covenant Code of Conduct</a></li>
<li class="toctree-l3"><a class="reference internal" href="code-of-conduct-interpretation.html">Linux Kernel Contributor Covenant Code of Conduct Interpretation</a></li>
<li class="toctree-l3"><a class="reference internal" href="contribution-maturity-model.html">Linux Kernel Contribution Maturity Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="kernel-enforcement-statement.html">Linux Kernel Enforcement Statement</a></li>
<li class="toctree-l3"><a class="reference internal" href="kernel-driver-statement.html">Kernel Driver Statement</a></li>
<li class="toctree-l3"><a class="reference internal" href="stable-api-nonsense.html">The Linux Kernel Driver Interface</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Everything you ever wanted to know about Linux -stable releases</a></li>
<li class="toctree-l3"><a class="reference internal" href="management-style.html">Linux kernel management style</a></li>
<li class="toctree-l3"><a class="reference internal" href="researcher-guidelines.html">Researcher Guidelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#dealing-with-bugs">Dealing with bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#maintainer-information">Maintainer information</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#other-material">Other material</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subsystem-apis.html">Subsystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">Userspace API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/process/stable-kernel-rules.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->



<div class="language-selection">
English

<ul>

<li><a href="../translations/zh_CN/process/stable-kernel-rules.html">Chinese (Simplified)</a></li>

<li><a href="../translations/zh_TW/process/stable-kernel-rules.html">Chinese (Traditional)</a></li>

<li><a href="../translations/it_IT/process/stable-kernel-rules.html">Italian</a></li>

</ul>
</div>
<section id="everything-you-ever-wanted-to-know-about-linux-stable-releases">
<span id="stable-kernel-rules"></span><h1>Everything you ever wanted to know about Linux -stable releases<a class="headerlink" href="#everything-you-ever-wanted-to-know-about-linux-stable-releases" title="Link to this heading">¶</a></h1>
<p>Rules on what kind of patches are accepted, and which ones are not, into the
“-stable” tree:</p>
<ul class="simple">
<li><p>It or an equivalent fix must already exist in Linux mainline (upstream).</p></li>
<li><p>It must be obviously correct and tested.</p></li>
<li><p>It cannot be bigger than 100 lines, with context.</p></li>
<li><p>It must follow the
<a class="reference internal" href="submitting-patches.html#submittingpatches"><span class="std std-ref">Documentation/process/submitting-patches.rst</span></a>
rules.</p></li>
<li><p>It must either fix a real bug that bothers people or just add a device ID.
To elaborate on the former:</p>
<ul>
<li><p>It fixes a problem like an oops, a hang, data corruption, a real security
issue, a hardware quirk, a build error (but not for things marked
CONFIG_BROKEN), or some “oh, that’s not good” issue.</p></li>
<li><p>Serious issues as reported by a user of a distribution kernel may also
be considered if they fix a notable performance or interactivity issue.
As these fixes are not as obvious and have a higher risk of a subtle
regression they should only be submitted by a distribution kernel
maintainer and include an addendum linking to a bugzilla entry if it
exists and additional information on the user-visible impact.</p></li>
<li><p>No “This could be a problem...” type of things like a “theoretical race
condition”, unless an explanation of how the bug can be exploited is also
provided.</p></li>
<li><p>No “trivial” fixes without benefit for users (spelling changes, whitespace
cleanups, etc).</p></li>
</ul>
</li>
</ul>
<section id="procedure-for-submitting-patches-to-the-stable-tree">
<h2>Procedure for submitting patches to the -stable tree<a class="headerlink" href="#procedure-for-submitting-patches-to-the-stable-tree" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Security patches should not be handled (solely) by the -stable review
process but should follow the procedures in
<a class="reference internal" href="security-bugs.html#securitybugs"><span class="std std-ref">Documentation/process/security-bugs.rst</span></a>.</p>
</div>
<p>There are three options to submit a change to -stable trees:</p>
<ol class="arabic simple">
<li><p>Add a ‘stable tag’ to the description of a patch you then submit for
mainline inclusion.</p></li>
<li><p>Ask the stable team to pick up a patch already mainlined.</p></li>
<li><p>Submit a patch to the stable team that is equivalent to a change already
mainlined.</p></li>
</ol>
<p>The sections below describe each of the options in more detail.</p>
<p><a class="reference internal" href="#option-1"><span class="std std-ref">Option 1</span></a> is <strong>strongly</strong> preferred, it is the easiest and most common.
<a class="reference internal" href="#option-2"><span class="std std-ref">Option 2</span></a> is mainly meant for changes where backporting was not considered
at the time of submission. <a class="reference internal" href="#option-3"><span class="std std-ref">Option 3</span></a> is an alternative to the two earlier
options for cases where a mainlined patch needs adjustments to apply in older
series (for example due to API changes).</p>
<p>When using option 2 or 3 you can ask for your change to be included in specific
stable series. When doing so, ensure the fix or an equivalent is applicable,
submitted, or already present in all newer stable trees still supported. This is
meant to prevent regressions that users might later encounter on updating, if
e.g. a fix merged for 5.19-rc1 would be backported to 5.10.y, but not to 5.15.y.</p>
<section id="option-1">
<span id="id1"></span><h3>Option 1<a class="headerlink" href="#option-1" title="Link to this heading">¶</a></h3>
<p>To have a patch you submit for mainline inclusion later automatically picked up
for stable trees, add this tag in the sign-off area:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Cc: stable@vger.kernel.org
</pre></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">Cc:</span> <span class="pre">stable&#64;kernel.org</span></code> instead when fixing unpublished vulnerabilities:
it reduces the chance of accidentally exposing the fix to the public by way of
‘git send-email’, as mails sent to that address are not delivered anywhere.</p>
<p>Once the patch is mainlined it will be applied to the stable tree without
anything else needing to be done by the author or subsystem maintainer.</p>
<p>To send additional instructions to the stable team, use a shell-style inline
comment to pass arbitrary or predefined notes:</p>
<ul>
<li><p>Specify any additional patch prerequisites for cherry picking:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Cc: &lt;stable@vger.kernel.org&gt; # 3.3.x: a1f84a3: sched: Check for idle
Cc: &lt;stable@vger.kernel.org&gt; # 3.3.x: 1b9508f: sched: Rate-limit newidle
Cc: &lt;stable@vger.kernel.org&gt; # 3.3.x: fd21073: sched: Fix affinity logic
Cc: &lt;stable@vger.kernel.org&gt; # 3.3.x
Signed-off-by: Ingo Molnar &lt;mingo@elte.hu&gt;
</pre></div>
</div>
<p>The tag sequence has the meaning of:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git cherry-pick a1f84a3
git cherry-pick 1b9508f
git cherry-pick fd21073
git cherry-pick &lt;this commit&gt;
</pre></div>
</div>
<p>Note that for a patch series, you do not have to list as prerequisites the
patches present in the series itself. For example, if you have the following
patch series:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>patch1
patch2
</pre></div>
</div>
<p>where patch2 depends on patch1, you do not have to list patch1 as
prerequisite of patch2 if you have already marked patch1 for stable
inclusion.</p>
</li>
<li><p>Point out kernel version prerequisites:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Cc: &lt;stable@vger.kernel.org&gt; # 3.3.x
</pre></div>
</div>
<p>The tag has the meaning of:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>git cherry-pick &lt;this commit&gt;
</pre></div>
</div>
<p>For each “-stable” tree starting with the specified version.</p>
<p>Note, such tagging is unnecessary if the stable team can derive the
appropriate versions from Fixes: tags.</p>
</li>
<li><p>Delay pick up of patches:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Cc: &lt;stable@vger.kernel.org&gt; # after -rc3
</pre></div>
</div>
</li>
<li><p>Point out known problems:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Cc: &lt;stable@vger.kernel.org&gt; # see patch description, needs adjustments for &lt;= 6.3
</pre></div>
</div>
</li>
</ul>
<p>There furthermore is a variant of the stable tag you can use to make the stable
team’s backporting tools (e.g AUTOSEL or scripts that look for commits
containing a ‘Fixes:’ tag) ignore a change:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Cc: &lt;stable+noautosel@kernel.org&gt; # reason goes here, and must be present
</pre></div>
</div>
</section>
<section id="option-2">
<span id="id2"></span><h3>Option 2<a class="headerlink" href="#option-2" title="Link to this heading">¶</a></h3>
<p>If the patch already has been merged to mainline, send an email to
<a class="reference external" href="mailto:stable&#37;&#52;&#48;vger&#46;kernel&#46;org">stable<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a> containing the subject of the patch, the commit ID,
why you think it should be applied, and what kernel versions you wish it to
be applied to.</p>
</section>
<section id="option-3">
<span id="id3"></span><h3>Option 3<a class="headerlink" href="#option-3" title="Link to this heading">¶</a></h3>
<p>Send the patch, after verifying that it follows the above rules, to
<a class="reference external" href="mailto:stable&#37;&#52;&#48;vger&#46;kernel&#46;org">stable<span>&#64;</span>vger<span>&#46;</span>kernel<span>&#46;</span>org</a> and mention the kernel versions you wish it to be applied
to. When doing so, you must note the upstream commit ID in the changelog of your
submission with a separate line above the commit text, like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>commit &lt;sha1&gt; upstream.
</pre></div>
</div>
<p>Or alternatively:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[ Upstream commit &lt;sha1&gt; ]
</pre></div>
</div>
<p>If the submitted patch deviates from the original upstream patch (for example
because it had to be adjusted for the older API), this must be very clearly
documented and justified in the patch description.</p>
</section>
</section>
<section id="following-the-submission">
<h2>Following the submission<a class="headerlink" href="#following-the-submission" title="Link to this heading">¶</a></h2>
<p>The sender will receive an ACK when the patch has been accepted into the
queue, or a NAK if the patch is rejected.  This response might take a few
days, according to the schedules of the stable team members.</p>
<p>If accepted, the patch will be added to the -stable queue, for review by other
developers and by the relevant subsystem maintainer.</p>
</section>
<section id="review-cycle">
<h2>Review cycle<a class="headerlink" href="#review-cycle" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>When the -stable maintainers decide for a review cycle, the patches will be
sent to the review committee, and the maintainer of the affected area of
the patch (unless the submitter is the maintainer of the area) and CC: to
the linux-kernel mailing list.</p></li>
<li><p>The review committee has 48 hours in which to ACK or NAK the patch.</p></li>
<li><p>If the patch is rejected by a member of the committee, or linux-kernel
members object to the patch, bringing up issues that the maintainers and
members did not realize, the patch will be dropped from the queue.</p></li>
<li><p>The ACKed patches will be posted again as part of release candidate (-rc)
to be tested by developers and testers.</p></li>
<li><p>Usually only one -rc release is made, however if there are any outstanding
issues, some patches may be modified or dropped or additional patches may
be queued. Additional -rc releases are then released and tested until no
issues are found.</p></li>
<li><p>Responding to the -rc releases can be done on the mailing list by sending
a “Tested-by:” email with any testing information desired. The “Tested-by:”
tags will be collected and added to the release commit.</p></li>
<li><p>At the end of the review cycle, the new -stable release will be released
containing all the queued and tested patches.</p></li>
<li><p>Security patches will be accepted into the -stable tree directly from the
security kernel team, and not go through the normal review cycle.
Contact the kernel security team for more details on this procedure.</p></li>
</ul>
</section>
<section id="trees">
<h2>Trees<a class="headerlink" href="#trees" title="Link to this heading">¶</a></h2>
<ul>
<li><p>The queues of patches, for both completed versions and in progress
versions can be found at:</p>
<blockquote>
<div><p><a class="reference external" href="https://git.kernel.org/pub/scm/linux/kernel/git/stable/stable-queue.git">https://git.kernel.org/pub/scm/linux/kernel/git/stable/stable-queue.git</a></p>
</div></blockquote>
</li>
<li><p>The finalized and tagged releases of all stable kernels can be found
in separate branches per version at:</p>
<blockquote>
<div><p><a class="reference external" href="https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git">https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git</a></p>
</div></blockquote>
</li>
<li><p>The release candidate of all stable kernel versions can be found at:</p>
<blockquote>
<div><p><a class="reference external" href="https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable-rc.git/">https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux-stable-rc.git/</a></p>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The -stable-rc tree is a snapshot in time of the stable-queue tree and
will change frequently, hence will be rebased often. It should only be
used for testing purposes (e.g. to be consumed by CI systems).</p>
</div>
</li>
</ul>
</section>
<section id="review-committee">
<h2>Review committee<a class="headerlink" href="#review-committee" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>This is made up of a number of kernel developers who have volunteered for
this task, and a few that haven’t.</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;The kernel development community.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/process/stable-kernel-rules.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>