<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2.13.7. V4L2_META_FMT_RK_ISP1_PARAMS (‘rk1p’), V4L2_META_FMT_RK_ISP1_STAT_3A (‘rk1s’), V4L2_META_FMT_RK_ISP1_EXT_PARAMS (‘rk1e’) &#8212; The Linux Kernel  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=a152c8ac" />
    <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="2.13.8. V4L2_META_FMT_UVC (‘UVCH’)" href="metafmt-uvc.html" />
    <link rel="prev" title="2.13.5. V4L2_META_FMT_RPI_FE_CFG" href="metafmt-pisp-fe.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.14.0</p>







<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><!-- SPDX-License-Identifier: GPL-2.0 -->

<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../process/index.html">All development-process docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../subsystem-apis.html">Subsystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rust/index.html">Rust</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Userspace API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#system-calls">System calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#security-related-interfaces">Security-related interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#devices-and-i-o">Devices and I/O</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../accelerators/ocxl.html">OpenCAPI (Open Coherent Accelerator Processor Interface)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dma-buf-alloc-exchange.html">Exchanging pixel buffers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gpio/index.html">GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../iommufd.html">IOMMUFD</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Linux Media Infrastructure userspace API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dcdbas.html">Dell Systems Management Base Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vduse.html">VDUSE - “vDPA Device in Userspace”</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../isapnp.html">ISA Plug &amp; Play support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#everything-else">Everything else</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../staging/index.html">Unsorted documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../translations/index.html">Translations</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/userspace-api/media/v4l/metafmt-rkisp1.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <!-- SPDX-License-Identifier: GPL-2.0 -->
<!-- Copyright © 2023, Oracle and/or its affiliates. -->


<section id="v4l2-meta-fmt-rk-isp1-params-rk1p-v4l2-meta-fmt-rk-isp1-stat-3a-rk1s-v4l2-meta-fmt-rk-isp1-ext-params-rk1e">
<span id="v4l2-meta-fmt-rk-isp1-stat-3a"></span><h1><span class="section-number">2.13.7. </span>V4L2_META_FMT_RK_ISP1_PARAMS (‘rk1p’), V4L2_META_FMT_RK_ISP1_STAT_3A (‘rk1s’), V4L2_META_FMT_RK_ISP1_EXT_PARAMS (‘rk1e’)<a class="headerlink" href="#v4l2-meta-fmt-rk-isp1-params-rk1p-v4l2-meta-fmt-rk-isp1-stat-3a-rk1s-v4l2-meta-fmt-rk-isp1-ext-params-rk1e" title="Link to this heading">¶</a></h1>
<section id="configuration-parameters">
<h2><span class="section-number">2.13.7.1. </span>Configuration parameters<a class="headerlink" href="#configuration-parameters" title="Link to this heading">¶</a></h2>
<p>The configuration of the RkISP1 ISP is performed by userspace by providing
parameters for the ISP to the driver using the <a class="reference internal" href="dev-meta.html#c.v4l2_meta_format" title="v4l2_meta_format"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_meta_format</span></code></a>
interface.</p>
<p>There are two methods that allow to configure the ISP, the <cite>fixed parameters</cite>
configuration format and the <cite>extensible parameters</cite> configuration
format.</p>
<section id="fixed-parameters-configuration-format">
<span id="v4l2-meta-fmt-rk-isp1-params"></span><h3><span class="section-number">2.13.7.1.1. </span>Fixed parameters configuration format<a class="headerlink" href="#fixed-parameters-configuration-format" title="Link to this heading">¶</a></h3>
<p>When using the fixed configuration format, parameters are passed to the
<a class="reference internal" href="../../../admin-guide/media/rkisp1.html#rkisp1-params"><span class="std std-ref">rkisp1_params</span></a> metadata output video node, using
the <cite>V4L2_META_FMT_RK_ISP1_PARAMS</cite> meta format.</p>
<p>The buffer contains a single instance of the C structure
<a class="reference internal" href="#c.rkisp1_params_cfg" title="rkisp1_params_cfg"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_params_cfg</span></code></a> defined in <code class="docutils literal notranslate"><span class="pre">rkisp1-config.h</span></code>. So the structure can
be obtained from the buffer by:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">rkisp1_params_cfg</span><span class="w"> </span><span class="o">*</span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">rkisp1_params_cfg</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">buffer</span><span class="p">;</span>
</pre></div>
</div>
<p>This method supports a subset of the ISP features only, new applications should
use the extensible parameters method.</p>
</section>
<section id="extensible-parameters-configuration-format">
<span id="v4l2-meta-fmt-rk-isp1-ext-params"></span><h3><span class="section-number">2.13.7.1.2. </span>Extensible parameters configuration format<a class="headerlink" href="#extensible-parameters-configuration-format" title="Link to this heading">¶</a></h3>
<p>When using the extensible configuration format, parameters are passed to the
<a class="reference internal" href="../../../admin-guide/media/rkisp1.html#rkisp1-params"><span class="std std-ref">rkisp1_params</span></a> metadata output video node, using
the <cite>V4L2_META_FMT_RK_ISP1_EXT_PARAMS</cite> meta format.</p>
<p>The buffer contains a single instance of the C structure
<a class="reference internal" href="#c.rkisp1_ext_params_cfg" title="rkisp1_ext_params_cfg"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_cfg</span></code></a> defined in <code class="docutils literal notranslate"><span class="pre">rkisp1-config.h</span></code>. The
<a class="reference internal" href="#c.rkisp1_ext_params_cfg" title="rkisp1_ext_params_cfg"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_cfg</span></code></a> structure is designed to allow userspace to
populate the data buffer with only the configuration data for the ISP blocks it
intends to configure. The extensible parameters format design allows developers
to define new block types to support new configuration parameters, and defines a
versioning scheme so that it can be extended and versioned without breaking
compatibility with existing applications.</p>
<p>For these reasons, this configuration method is preferred over the <cite>fixed
parameters</cite> format alternative.</p>
</section>
</section>
<section id="a-and-histogram-statistics">
<h2><span class="section-number">2.13.7.2. </span>3A and histogram statistics<a class="headerlink" href="#a-and-histogram-statistics" title="Link to this heading">¶</a></h2>
<p>The ISP1 device collects different statistics over an input Bayer frame.
Those statistics are obtained from the <a class="reference internal" href="../../../admin-guide/media/rkisp1.html#rkisp1-stats"><span class="std std-ref">rkisp1_stats</span></a>
metadata capture video node,
using the <a class="reference internal" href="dev-meta.html#c.v4l2_meta_format" title="v4l2_meta_format"><code class="xref c c-type docutils literal notranslate"><span class="pre">v4l2_meta_format</span></code></a> interface. The buffer contains a single
instance of the C structure <a class="reference internal" href="#c.rkisp1_stat_buffer" title="rkisp1_stat_buffer"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_stat_buffer</span></code></a> defined in
<code class="docutils literal notranslate"><span class="pre">rkisp1-config.h</span></code>. So the structure can be obtained from the buffer by:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">rkisp1_stat_buffer</span><span class="w"> </span><span class="o">*</span><span class="n">stats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">rkisp1_stat_buffer</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">buffer</span><span class="p">;</span>
</pre></div>
</div>
<p>The statistics collected are Exposure, AWB (Auto-white balance), Histogram and
AF (Auto-focus). See <a class="reference internal" href="#c.rkisp1_stat_buffer" title="rkisp1_stat_buffer"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_stat_buffer</span></code></a> for details of the statistics.</p>
<p>The 3A statistics and configuration parameters described here are usually
consumed and produced by dedicated user space libraries that comprise the
important tuning tools using software control loop.</p>
<section id="rkisp1-uapi-data-types">
<h3><span class="section-number">2.13.7.2.1. </span>rkisp1 uAPI data types<a class="headerlink" href="#rkisp1-uapi-data-types" title="Link to this heading">¶</a></h3>
<dl class="c enum">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_version">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_version</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_version" title="Link to this definition">¶</a><br /></dt>
<dd><p>ISP variants</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_V10</span></code></dt><dd><p>Used at least in RK3288 and RK3399.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_V11</span></code></dt><dd><p>Declared in the original vendor code, but not used. Same number
of entries in grids and histogram as v10.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_V12</span></code></dt><dd><p>Used at least in RK3326 and PX30.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_V13</span></code></dt><dd><p>Used at least in RK1808. Same number of entries in grids and
histogram as v12.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_V_IMX8MP</span></code></dt><dd><p>Used in at least i.MX8MP. Same number of entries in grids
and histogram as v10.</p>
</dd>
</dl>
</div>
<dl class="c enum">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_exp_ctrl_autostop">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_exp_ctrl_autostop</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_exp_ctrl_autostop" title="Link to this definition">¶</a><br /></dt>
<dd><p>stop modes</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_EXP_CTRL_AUTOSTOP_0</span></code></dt><dd><p>continuous measurement</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_EXP_CTRL_AUTOSTOP_1</span></code></dt><dd><p>stop measuring after a complete frame</p>
</dd>
</dl>
</div>
<dl class="c enum">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_exp_meas_mode">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_exp_meas_mode</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_exp_meas_mode" title="Link to this definition">¶</a><br /></dt>
<dd><p>Exposure measure mode</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_EXP_MEASURING_MODE_0</span></code></dt><dd><p>Y = 16 + 0.25R + 0.5G + 0.1094B</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_EXP_MEASURING_MODE_1</span></code></dt><dd><p>Y = (R + G + B) x (85/256)</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_window">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_window</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_window" title="Link to this definition">¶</a><br /></dt>
<dd><p>measurement window.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_window {
    __u16 h_offs;
    __u16 v_offs;
    __u16 h_size;
    __u16 v_size;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">h_offs</span></code></dt><dd><p>the horizontal offset of the window from the left of the frame in pixels.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">v_offs</span></code></dt><dd><p>the vertical offset of the window from the top of the frame in pixels.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">h_size</span></code></dt><dd><p>the horizontal size of the window in pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">v_size</span></code></dt><dd><p>the vertical size of the window in pixels.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Measurements are calculated per window inside the frame.
This struct represents a window for a measurement.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_bls_fixed_val">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_bls_fixed_val</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_bls_fixed_val" title="Link to this definition">¶</a><br /></dt>
<dd><p>BLS fixed subtraction values</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_bls_fixed_val {
    __s16 r;
    __s16 gr;
    __s16 gb;
    __s16 b;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code></dt><dd><p>Fixed (signed!) subtraction value for Bayer pattern R</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gr</span></code></dt><dd><p>Fixed (signed!) subtraction value for Bayer pattern Gr</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gb</span></code></dt><dd><p>Fixed (signed!) subtraction value for Bayer pattern Gb</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code></dt><dd><p>Fixed (signed!) subtraction value for Bayer pattern B</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>The values will be subtracted from the sensor
values. Therefore a negative value means addition instead of subtraction!</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_bls_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_bls_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_bls_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by black level subtraction</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_bls_config {
    __u8 enable_auto;
    __u8 en_windows;
    struct rkisp1_cif_isp_window bls_window1;
    struct rkisp1_cif_isp_window bls_window2;
    __u8 bls_samples;
    struct rkisp1_cif_isp_bls_fixed_val fixed_val;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">enable_auto</span></code></dt><dd><p>Automatic mode activated means that the measured values
are subtracted. Otherwise the fixed subtraction
values will be subtracted.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">en_windows</span></code></dt><dd><p>enabled window</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bls_window1</span></code></dt><dd><p>Measurement window 1 size</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bls_window2</span></code></dt><dd><p>Measurement window 2 size</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bls_samples</span></code></dt><dd><p>Set amount of measured pixels for each Bayer position
(A, B,C and D) to 2^bls_samples.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fixed_val</span></code></dt><dd><p>Fixed subtraction values</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpcc_methods_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpcc_methods_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpcc_methods_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>DPCC methods set configuration</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_dpcc_methods_config {
    __u32 method;
    __u32 line_thresh;
    __u32 line_mad_fac;
    __u32 pg_fac;
    __u32 rnd_thresh;
    __u32 rg_fac;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">method</span></code></dt><dd><p>Method enable bits (RKISP1_CIF_ISP_DPCC_METHODS_SET_*)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">line_thresh</span></code></dt><dd><p>Line threshold (RKISP1_CIF_ISP_DPCC_LINE_THRESH_*)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">line_mad_fac</span></code></dt><dd><p>Line Mean Absolute Difference factor (RKISP1_CIF_ISP_DPCC_LINE_MAD_FAC_*)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pg_fac</span></code></dt><dd><p>Peak gradient factor (RKISP1_CIF_ISP_DPCC_PG_FAC_*)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rnd_thresh</span></code></dt><dd><p>Rank Neighbor Difference threshold (RKISP1_CIF_ISP_DPCC_RND_THRESH_*)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rg_fac</span></code></dt><dd><p>Rank gradient factor (RKISP1_CIF_ISP_DPCC_RG_FAC_*)</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>This structure stores the configuration of one set of methods for the DPCC
algorithm. Multiple methods can be selected in each set (independently for
the Green and Red/Blue components) through the <strong>method</strong> field, the result is
the logical AND of all enabled methods. The remaining fields set thresholds
and factors for each method.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpcc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpcc_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpcc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by DPCC</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_dpcc_config {
    __u32 mode;
    __u32 output_mode;
    __u32 set_use;
    struct rkisp1_cif_isp_dpcc_methods_config methods[RKISP1_CIF_ISP_DPCC_METHODS_MAX];
    __u32 ro_limits;
    __u32 rnd_offs;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mode</span></code></dt><dd><p>DPCC mode (RKISP1_CIF_ISP_DPCC_MODE_*)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">output_mode</span></code></dt><dd><p>Interpolation output mode (RKISP1_CIF_ISP_DPCC_OUTPUT_MODE_*)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">set_use</span></code></dt><dd><p>Methods sets selection (RKISP1_CIF_ISP_DPCC_SET_USE_*)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">methods</span></code></dt><dd><p>Methods sets configuration</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ro_limits</span></code></dt><dd><p>Rank order limits (RKISP1_CIF_ISP_DPCC_RO_LIMITS_*)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rnd_offs</span></code></dt><dd><p>Differential rank offsets for rank neighbor difference (RKISP1_CIF_ISP_DPCC_RND_OFFS_*)</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>Configuration used by Defect Pixel Cluster Correction. Three sets of methods
can be configured and selected through the <strong>set_use</strong> field. The result is the
logical OR of all enabled sets.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_gamma_corr_curve">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_gamma_corr_curve</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_gamma_corr_curve" title="Link to this definition">¶</a><br /></dt>
<dd><p>gamma curve point definition y-axis (output).</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_gamma_corr_curve {
    __u16 gamma_y[RKISP1_CIF_ISP_DEGAMMA_CURVE_SIZE];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">gamma_y</span></code></dt><dd><p>the values for the y-axis of gamma curve points. Each value is 12 bit.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>The reset values define a linear curve which has the same effect as bypass. Reset values are:
gamma_y[0] = 0x0000, gamma_y[1] = 0x0100, ... gamma_y[15] = 0x0f00, gamma_y[16] = 0xfff</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_gamma_curve_x_axis_pnts">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_gamma_curve_x_axis_pnts</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_gamma_curve_x_axis_pnts" title="Link to this definition">¶</a><br /></dt>
<dd><p>De-Gamma Curve definition x increments (sampling points). gamma_dx0 is for the lower samples (1-8), gamma_dx1 is for the higher samples (9-16). The reset values for both fields is 0x44444444. This means that each sample is 4 units away from the previous one on the x-axis.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_gamma_curve_x_axis_pnts {
    __u32 gamma_dx0;
    __u32 gamma_dx1;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">gamma_dx0</span></code></dt><dd><p>gamma curve sample points definitions. Bits 0:2 for sample 1. Bit 3 unused.
Bits 4:6 for sample 2. bit 7 unused ... Bits 28:30 for sample 8. Bit 31 unused</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gamma_dx1</span></code></dt><dd><p>gamma curve sample points definitions. Bits 0:2 for sample 9. Bit 3 unused.
Bits 4:6 for sample 10. bit 7 unused ... Bits 28:30 for sample 16. Bit 31 unused</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_sdg_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_sdg_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_sdg_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by sensor degamma</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_sdg_config {
    struct rkisp1_cif_isp_gamma_corr_curve curve_r;
    struct rkisp1_cif_isp_gamma_corr_curve curve_g;
    struct rkisp1_cif_isp_gamma_corr_curve curve_b;
    struct rkisp1_cif_isp_gamma_curve_x_axis_pnts xa_pnts;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">curve_r</span></code></dt><dd><p>gamma curve point definition axis for red</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">curve_g</span></code></dt><dd><p>gamma curve point definition axis for green</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">curve_b</span></code></dt><dd><p>gamma curve point definition axis for blue</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">xa_pnts</span></code></dt><dd><p>x axis increments</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_lsc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_lsc_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_lsc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by Lens shading correction</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_lsc_config {
    __u16 r_data_tbl[RKISP1_CIF_ISP_LSC_SAMPLES_MAX][RKISP1_CIF_ISP_LSC_SAMPLES_MAX];
    __u16 gr_data_tbl[RKISP1_CIF_ISP_LSC_SAMPLES_MAX][RKISP1_CIF_ISP_LSC_SAMPLES_MAX];
    __u16 gb_data_tbl[RKISP1_CIF_ISP_LSC_SAMPLES_MAX][RKISP1_CIF_ISP_LSC_SAMPLES_MAX];
    __u16 b_data_tbl[RKISP1_CIF_ISP_LSC_SAMPLES_MAX][RKISP1_CIF_ISP_LSC_SAMPLES_MAX];
    __u16 x_grad_tbl[RKISP1_CIF_ISP_LSC_SECTORS_TBL_SIZE];
    __u16 y_grad_tbl[RKISP1_CIF_ISP_LSC_SECTORS_TBL_SIZE];
    __u16 x_size_tbl[RKISP1_CIF_ISP_LSC_SECTORS_TBL_SIZE];
    __u16 y_size_tbl[RKISP1_CIF_ISP_LSC_SECTORS_TBL_SIZE];
    __u16 config_width;
    __u16 config_height;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">r_data_tbl</span></code></dt><dd><p>sample table red</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gr_data_tbl</span></code></dt><dd><p>sample table green (red)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gb_data_tbl</span></code></dt><dd><p>sample table green (blue)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b_data_tbl</span></code></dt><dd><p>sample table blue</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x_grad_tbl</span></code></dt><dd><p>gradient table x</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_grad_tbl</span></code></dt><dd><p>gradient table y</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x_size_tbl</span></code></dt><dd><p>size table x</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_size_tbl</span></code></dt><dd><p>size table y</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config_width</span></code></dt><dd><p>not used at the moment</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config_height</span></code></dt><dd><p>not used at the moment</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_ie_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_ie_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_ie_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by image effects</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_ie_config {
    __u16 effect;
    __u16 color_sel;
    __u16 eff_mat_1;
    __u16 eff_mat_2;
    __u16 eff_mat_3;
    __u16 eff_mat_4;
    __u16 eff_mat_5;
    __u16 eff_tint;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">effect</span></code></dt><dd><p>values from ‘enum v4l2_colorfx’. Possible values are: V4L2_COLORFX_SEPIA,
V4L2_COLORFX_SET_CBCR, V4L2_COLORFX_AQUA, V4L2_COLORFX_EMBOSS,
V4L2_COLORFX_SKETCH,   V4L2_COLORFX_BW,   V4L2_COLORFX_NEGATIVE</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">color_sel</span></code></dt><dd><p>bits 0:2 - colors bitmask (001 - blue, 010 - green, 100 - red).
bits 8:15 - Threshold value of the RGB colors for the color selection effect.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">eff_mat_1</span></code></dt><dd><p>3x3 Matrix Coefficients for Emboss Effect 1</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">eff_mat_2</span></code></dt><dd><p>3x3 Matrix Coefficients for Emboss Effect 2</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">eff_mat_3</span></code></dt><dd><p>3x3 Matrix Coefficients for Emboss 3/Sketch 1</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">eff_mat_4</span></code></dt><dd><p>3x3 Matrix Coefficients for Sketch Effect 2</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">eff_mat_5</span></code></dt><dd><p>3x3 Matrix Coefficients for Sketch Effect 3</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">eff_tint</span></code></dt><dd><p>Chrominance increment values of tint (used for sepia effect)</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_cproc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_cproc_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_cproc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by Color Processing</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_cproc_config {
    __u8 c_out_range;
    __u8 y_in_range;
    __u8 y_out_range;
    __u8 contrast;
    __u8 brightness;
    __u8 sat;
    __u8 hue;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">c_out_range</span></code></dt><dd><p>Chrominance pixel clipping range at output.
(0 for limit, 1 for full)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_in_range</span></code></dt><dd><p>Luminance pixel clipping range at output.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y_out_range</span></code></dt><dd><p>Luminance pixel clipping range at output.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">contrast</span></code></dt><dd><p>00~ff, 0.0~1.992</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">brightness</span></code></dt><dd><p>80~7F, -128~+127</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sat</span></code></dt><dd><p>saturation, 00~FF, 0.0~1.992</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hue</span></code></dt><dd><p>80~7F, -90~+87.188</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_awb_meas_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_awb_meas_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_awb_meas_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration for the AWB statistics</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_awb_meas_config {
    struct rkisp1_cif_isp_window awb_wnd;
    __u32 awb_mode;
    __u8 max_y;
    __u8 min_y;
    __u8 max_csum;
    __u8 min_c;
    __u8 frames;
    __u8 awb_ref_cr;
    __u8 awb_ref_cb;
    __u8 enable_ymax_cmp;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">awb_wnd</span></code></dt><dd><p>white balance measurement window (in pixels)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">awb_mode</span></code></dt><dd><p>the awb meas mode. From enum rkisp1_cif_isp_awb_mode_type.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_y</span></code></dt><dd><p>only pixels values &lt; max_y contribute to awb measurement, set to 0
to disable this feature</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">min_y</span></code></dt><dd><p>only pixels values &gt; min_y contribute to awb measurement</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_csum</span></code></dt><dd><p>Chrominance sum maximum value, only consider pixels with Cb+Cr,
smaller than threshold for awb measurements</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">min_c</span></code></dt><dd><p>Chrominance minimum value, only consider pixels with Cb/Cr
each greater than threshold value for awb measurements</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">frames</span></code></dt><dd><p>number of frames - 1 used for mean value calculation
(ucFrames=0 means 1 Frame)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">awb_ref_cr</span></code></dt><dd><p>reference Cr value for AWB regulation, target for AWB</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">awb_ref_cb</span></code></dt><dd><p>reference Cb value for AWB regulation, target for AWB</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">enable_ymax_cmp</span></code></dt><dd><p>enable Y_MAX compare (Not valid in RGB measurement mode.)</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_awb_gain_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_awb_gain_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_awb_gain_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by auto white balance gain</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_awb_gain_config {
    __u16 gain_red;
    __u16 gain_green_r;
    __u16 gain_blue;
    __u16 gain_green_b;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">gain_red</span></code></dt><dd><p>gain value for red component.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_green_r</span></code></dt><dd><p>gain value for green component in red line.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_blue</span></code></dt><dd><p>gain value for blue component.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gain_green_b</span></code></dt><dd><p>gain value for green component in blue line.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>All fields in this struct are 10 bit, where:
0x100h = 1, unsigned integer value, range 0 to 4 with 8 bit fractional part.</p>
<p>out_data_x = ( AWB_GAIN_X * in_data + 128) &gt;&gt; 8</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_flt_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_flt_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_flt_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by ISP filtering</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_flt_config {
    __u32 mode;
    __u8 grn_stage1;
    __u8 chr_h_mode;
    __u8 chr_v_mode;
    __u32 thresh_bl0;
    __u32 thresh_bl1;
    __u32 thresh_sh0;
    __u32 thresh_sh1;
    __u32 lum_weight;
    __u32 fac_sh1;
    __u32 fac_sh0;
    __u32 fac_mid;
    __u32 fac_bl0;
    __u32 fac_bl1;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mode</span></code></dt><dd><p>ISP_FILT_MODE register fields (from enum rkisp1_cif_isp_flt_mode)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">grn_stage1</span></code></dt><dd><p>Green filter stage 1 select (range 0x0...0x8)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">chr_h_mode</span></code></dt><dd><p>Chroma filter horizontal mode</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">chr_v_mode</span></code></dt><dd><p>Chroma filter vertical mode</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">thresh_bl0</span></code></dt><dd><p>If thresh_bl1 &lt; sum_grad &lt; thresh_bl0 then fac_bl0 is selected (blurring th)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">thresh_bl1</span></code></dt><dd><p>If sum_grad &lt; thresh_bl1 then fac_bl1 is selected (blurring th)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">thresh_sh0</span></code></dt><dd><p>If thresh_sh0 &lt; sum_grad &lt; thresh_sh1 then thresh_sh0 is selected (sharpening th)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">thresh_sh1</span></code></dt><dd><p>If thresh_sh1 &lt; sum_grad then thresh_sh1 is selected (sharpening th)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lum_weight</span></code></dt><dd><p>Parameters for luminance weight function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fac_sh1</span></code></dt><dd><p>filter factor for sharp1 level</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fac_sh0</span></code></dt><dd><p>filter factor for sharp0 level</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fac_mid</span></code></dt><dd><p>filter factor for mid level and for static filter mode</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fac_bl0</span></code></dt><dd><p>filter factor for blur 0 level</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fac_bl1</span></code></dt><dd><p>filter factor for blur 1 level (max blur)</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>All 4 threshold fields (thresh_*) are 10 bits.
All 6 factor fields (fac_*) are 6 bits.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_bdm_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_bdm_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_bdm_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by Bayer DeMosaic</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_bdm_config {
    __u8 demosaic_th;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">demosaic_th</span></code></dt><dd><p>threshold for bayer demosaicing texture detection</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_ctk_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_ctk_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_ctk_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by Cross Talk correction</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_ctk_config {
    __u16 coeff[3][3];
    __u16 ct_offset[3];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">coeff</span></code></dt><dd><p>color correction matrix. Values are 11-bit signed fixed-point numbers with 4 bit integer
and 7 bit fractional part, ranging from -8 (0x400) to +7.992 (0x3FF). 0 is
represented by 0x000 and a coefficient value of 1 as 0x080.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ct_offset</span></code></dt><dd><p>Red, Green, Blue offsets for the crosstalk correction matrix</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_goc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_goc_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_goc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by Gamma Out correction</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_goc_config {
    __u32 mode;
    __u16 gamma_y[RKISP1_CIF_ISP_GAMMA_OUT_MAX_SAMPLES];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mode</span></code></dt><dd><p>goc mode (from enum rkisp1_cif_isp_goc_mode)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gamma_y</span></code></dt><dd><p>gamma out curve y-axis for all color components</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>The number of entries of <strong>gamma_y</strong> depends on the hardware revision
as is reported by the hw_revision field of the struct media_device_info
that is returned by ioctl MEDIA_IOC_DEVICE_INFO.</p>
<p>V10 has RKISP1_CIF_ISP_GAMMA_OUT_MAX_SAMPLES_V10 entries, V12 has
RKISP1_CIF_ISP_GAMMA_OUT_MAX_SAMPLES_V12 entries.
RKISP1_CIF_ISP_GAMMA_OUT_MAX_SAMPLES is equal to the maximum of the two.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_hst_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_hst_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_hst_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration for Histogram statistics</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_hst_config {
    __u32 mode;
    __u8 histogram_predivider;
    struct rkisp1_cif_isp_window meas_window;
    __u8 hist_weight[RKISP1_CIF_ISP_HISTOGRAM_WEIGHT_GRIDS_SIZE];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mode</span></code></dt><dd><p>histogram mode (from enum rkisp1_cif_isp_histogram_mode)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">histogram_predivider</span></code></dt><dd><p>process every stepsize pixel, all other pixels are
skipped</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">meas_window</span></code></dt><dd><p>coordinates of the measure window</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hist_weight</span></code></dt><dd><p>weighting factor for sub-windows</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>The number of entries of <strong>hist_weight</strong> depends on the hardware revision
as is reported by the hw_revision field of the struct media_device_info
that is returned by ioctl MEDIA_IOC_DEVICE_INFO.</p>
<p>V10 has RKISP1_CIF_ISP_HISTOGRAM_WEIGHT_GRIDS_SIZE_V10 entries, V12 has
RKISP1_CIF_ISP_HISTOGRAM_WEIGHT_GRIDS_SIZE_V12 entries.
RKISP1_CIF_ISP_HISTOGRAM_WEIGHT_GRIDS_SIZE is equal to the maximum of the
two.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_aec_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_aec_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_aec_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration for Auto Exposure statistics</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_aec_config {
    __u32 mode;
    __u32 autostop;
    struct rkisp1_cif_isp_window meas_window;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mode</span></code></dt><dd><p>Exposure measure mode (from <a class="reference internal" href="#c.rkisp1_cif_isp_exp_meas_mode" title="rkisp1_cif_isp_exp_meas_mode"><code class="xref c c-enum docutils literal notranslate"><span class="pre">enum</span> <span class="pre">rkisp1_cif_isp_exp_meas_mode</span></code></a>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">autostop</span></code></dt><dd><p>stop mode (from <a class="reference internal" href="#c.rkisp1_cif_isp_exp_ctrl_autostop" title="rkisp1_cif_isp_exp_ctrl_autostop"><code class="xref c c-enum docutils literal notranslate"><span class="pre">enum</span> <span class="pre">rkisp1_cif_isp_exp_ctrl_autostop</span></code></a>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">meas_window</span></code></dt><dd><p>coordinates of the measure window</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_afc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_afc_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_afc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration for the Auto Focus statistics</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_afc_config {
    __u8 num_afm_win;
    struct rkisp1_cif_isp_window afm_win[RKISP1_CIF_ISP_AFM_MAX_WINDOWS];
    __u32 thres;
    __u32 var_shift;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">num_afm_win</span></code></dt><dd><p>max RKISP1_CIF_ISP_AFM_MAX_WINDOWS</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">afm_win</span></code></dt><dd><p>coordinates of the meas window</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">thres</span></code></dt><dd><p>threshold used for minimizing the influence of noise</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">var_shift</span></code></dt><dd><p>the number of bits for the shift operation at the end of the
calculation chain.</p>
</dd>
</dl>
</div>
<dl class="c enum">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpf_gain_usage">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpf_gain_usage</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpf_gain_usage" title="Link to this definition">¶</a><br /></dt>
<dd><p>dpf gain usage</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_DPF_GAIN_USAGE_DISABLED</span></code></dt><dd><p>don’t use any gains in preprocessing stage</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_DPF_GAIN_USAGE_NF_GAINS</span></code></dt><dd><p>use only the noise function gains from
registers DPF_NF_GAIN_R, ...</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_DPF_GAIN_USAGE_LSC_GAINS</span></code></dt><dd><p>use only the gains from LSC module</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_DPF_GAIN_USAGE_NF_LSC_GAINS</span></code></dt><dd><p>use the noise function gains and the
gains from LSC module</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_DPF_GAIN_USAGE_AWB_GAINS</span></code></dt><dd><p>use only the gains from AWB module</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_DPF_GAIN_USAGE_AWB_LSC_GAINS</span></code></dt><dd><p>use the gains from AWB and LSC module</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_DPF_GAIN_USAGE_MAX</span></code></dt><dd><p>upper border (only for an internal evaluation)</p>
</dd>
</dl>
</div>
<dl class="c enum">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpf_rb_filtersize">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpf_rb_filtersize</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpf_rb_filtersize" title="Link to this definition">¶</a><br /></dt>
<dd><p>Red and blue filter sizes</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_DPF_RB_FILTERSIZE_13x9</span></code></dt><dd><p>red and blue filter kernel size 13x9
(means 7x5 active pixel)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_DPF_RB_FILTERSIZE_9x9</span></code></dt><dd><p>red and blue filter kernel size 9x9
(means 5x5 active pixel)</p>
</dd>
</dl>
</div>
<dl class="c enum">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpf_nll_scale_mode">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpf_nll_scale_mode</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpf_nll_scale_mode" title="Link to this definition">¶</a><br /></dt>
<dd><p>dpf noise level scale mode</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_NLL_SCALE_LINEAR</span></code></dt><dd><p>use a linear scaling</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_CIF_ISP_NLL_SCALE_LOGARITHMIC</span></code></dt><dd><p>use a logarithmic scaling</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpf_nll">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpf_nll</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpf_nll" title="Link to this definition">¶</a><br /></dt>
<dd><p>Noise level lookup</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_dpf_nll {
    __u16 coeff[RKISP1_CIF_ISP_DPF_MAX_NLF_COEFFS];
    __u32 scale_mode;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">coeff</span></code></dt><dd><p>Noise level Lookup coefficient</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">scale_mode</span></code></dt><dd><p>dpf noise level scale mode (from <a class="reference internal" href="#c.rkisp1_cif_isp_dpf_nll_scale_mode" title="rkisp1_cif_isp_dpf_nll_scale_mode"><code class="xref c c-enum docutils literal notranslate"><span class="pre">enum</span> <span class="pre">rkisp1_cif_isp_dpf_nll_scale_mode</span></code></a>)</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpf_rb_flt">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpf_rb_flt</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpf_rb_flt" title="Link to this definition">¶</a><br /></dt>
<dd><p>Red blue filter config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_dpf_rb_flt {
    __u32 fltsize;
    __u8 spatial_coeff[RKISP1_CIF_ISP_DPF_MAX_SPATIAL_COEFFS];
    __u8 r_enable;
    __u8 b_enable;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">fltsize</span></code></dt><dd><p>The filter size for the red and blue pixels
(from <a class="reference internal" href="#c.rkisp1_cif_isp_dpf_rb_filtersize" title="rkisp1_cif_isp_dpf_rb_filtersize"><code class="xref c c-enum docutils literal notranslate"><span class="pre">enum</span> <span class="pre">rkisp1_cif_isp_dpf_rb_filtersize</span></code></a>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">spatial_coeff</span></code></dt><dd><p>Spatial weights</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">r_enable</span></code></dt><dd><p>enable filter processing for red pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b_enable</span></code></dt><dd><p>enable filter processing for blue pixels</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpf_g_flt">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpf_g_flt</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpf_g_flt" title="Link to this definition">¶</a><br /></dt>
<dd><p>Green filter Configuration</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_dpf_g_flt {
    __u8 spatial_coeff[RKISP1_CIF_ISP_DPF_MAX_SPATIAL_COEFFS];
    __u8 gr_enable;
    __u8 gb_enable;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">spatial_coeff</span></code></dt><dd><p>Spatial weights</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gr_enable</span></code></dt><dd><p>enable filter processing for green pixels in green/red lines</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gb_enable</span></code></dt><dd><p>enable filter processing for green pixels in green/blue lines</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpf_gain">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpf_gain</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpf_gain" title="Link to this definition">¶</a><br /></dt>
<dd><p>Noise function Configuration</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_dpf_gain {
    __u32 mode;
    __u16 nf_r_gain;
    __u16 nf_b_gain;
    __u16 nf_gr_gain;
    __u16 nf_gb_gain;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mode</span></code></dt><dd><p>dpf gain usage  (from <a class="reference internal" href="#c.rkisp1_cif_isp_dpf_gain_usage" title="rkisp1_cif_isp_dpf_gain_usage"><code class="xref c c-enum docutils literal notranslate"><span class="pre">enum</span> <span class="pre">rkisp1_cif_isp_dpf_gain_usage</span></code></a>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nf_r_gain</span></code></dt><dd><p>Noise function Gain that replaces the AWB gain for red pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nf_b_gain</span></code></dt><dd><p>Noise function Gain that replaces the AWB gain for blue pixels</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nf_gr_gain</span></code></dt><dd><p>Noise function Gain that replaces the AWB gain
for green pixels in a red line</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nf_gb_gain</span></code></dt><dd><p>Noise function Gain that replaces the AWB gain
for green pixels in a blue line</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpf_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpf_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpf_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Configuration used by De-noising pre-filter</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_dpf_config {
    struct rkisp1_cif_isp_dpf_gain gain;
    struct rkisp1_cif_isp_dpf_g_flt g_flt;
    struct rkisp1_cif_isp_dpf_rb_flt rb_flt;
    struct rkisp1_cif_isp_dpf_nll nll;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">gain</span></code></dt><dd><p>noise function gain</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">g_flt</span></code></dt><dd><p>green filter config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rb_flt</span></code></dt><dd><p>red blue filter config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nll</span></code></dt><dd><p>noise level lookup</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_dpf_strength_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_dpf_strength_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_dpf_strength_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>strength of the filter</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_dpf_strength_config {
    __u8 r;
    __u8 g;
    __u8 b;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code></dt><dd><p>filter strength of the RED filter</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">g</span></code></dt><dd><p>filter strength of the GREEN filter</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code></dt><dd><p>filter strength of the BLUE filter</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_isp_other_cfg">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_isp_other_cfg</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_isp_other_cfg" title="Link to this definition">¶</a><br /></dt>
<dd><p>Parameters for some blocks in rockchip isp1</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_isp_other_cfg {
    struct rkisp1_cif_isp_dpcc_config dpcc_config;
    struct rkisp1_cif_isp_bls_config bls_config;
    struct rkisp1_cif_isp_sdg_config sdg_config;
    struct rkisp1_cif_isp_lsc_config lsc_config;
    struct rkisp1_cif_isp_awb_gain_config awb_gain_config;
    struct rkisp1_cif_isp_flt_config flt_config;
    struct rkisp1_cif_isp_bdm_config bdm_config;
    struct rkisp1_cif_isp_ctk_config ctk_config;
    struct rkisp1_cif_isp_goc_config goc_config;
    struct rkisp1_cif_isp_dpf_config dpf_config;
    struct rkisp1_cif_isp_dpf_strength_config dpf_strength_config;
    struct rkisp1_cif_isp_cproc_config cproc_config;
    struct rkisp1_cif_isp_ie_config ie_config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dpcc_config</span></code></dt><dd><p>Defect Pixel Cluster Correction config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bls_config</span></code></dt><dd><p>black level subtraction config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sdg_config</span></code></dt><dd><p>sensor degamma config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lsc_config</span></code></dt><dd><p>Lens Shade config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">awb_gain_config</span></code></dt><dd><p>Auto White balance gain config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">flt_config</span></code></dt><dd><p>filter config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bdm_config</span></code></dt><dd><p>demosaic config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ctk_config</span></code></dt><dd><p>cross talk config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">goc_config</span></code></dt><dd><p>gamma out config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dpf_config</span></code></dt><dd><p>De-noising pre-filter config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dpf_strength_config</span></code></dt><dd><p>dpf strength config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cproc_config</span></code></dt><dd><p>color process config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ie_config</span></code></dt><dd><p>image effects config</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_isp_meas_cfg">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_isp_meas_cfg</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_isp_meas_cfg" title="Link to this definition">¶</a><br /></dt>
<dd><p>Rockchip ISP1 Measure Parameters</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_isp_meas_cfg {
    struct rkisp1_cif_isp_awb_meas_config awb_meas_config;
    struct rkisp1_cif_isp_hst_config hst_config;
    struct rkisp1_cif_isp_aec_config aec_config;
    struct rkisp1_cif_isp_afc_config afc_config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">awb_meas_config</span></code></dt><dd><p>auto white balance config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hst_config</span></code></dt><dd><p>histogram config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aec_config</span></code></dt><dd><p>auto exposure config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">afc_config</span></code></dt><dd><p>auto focus config</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_params_cfg">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_params_cfg</span></span></span><a class="headerlink" href="#c.rkisp1_params_cfg" title="Link to this definition">¶</a><br /></dt>
<dd><p>Rockchip ISP1 Input Parameters Meta Data</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_params_cfg {
    __u32 module_en_update;
    __u32 module_ens;
    __u32 module_cfg_update;
    struct rkisp1_cif_isp_isp_meas_cfg meas;
    struct rkisp1_cif_isp_isp_other_cfg others;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">module_en_update</span></code></dt><dd><p>mask the enable bits of which module should be updated</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">module_ens</span></code></dt><dd><p>mask the enable value of each module, only update the module
which correspond bit was set in module_en_update</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">module_cfg_update</span></code></dt><dd><p>mask the config bits of which module should be updated</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">meas</span></code></dt><dd><p>measurement config</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">others</span></code></dt><dd><p>other config</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_compand_bls_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_compand_bls_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_compand_bls_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Rockchip ISP1 Companding parameters (BLS)</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_compand_bls_config {
    __u32 r;
    __u32 gr;
    __u32 gb;
    __u32 b;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">r</span></code></dt><dd><p>Fixed subtraction value for Bayer pattern R</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gr</span></code></dt><dd><p>Fixed subtraction value for Bayer pattern Gr</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gb</span></code></dt><dd><p>Fixed subtraction value for Bayer pattern Gb</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">b</span></code></dt><dd><p>Fixed subtraction value for Bayer pattern B</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>The values will be subtracted from the sensor values. Note that unlike the
dedicated BLS block, the BLS values in the compander are 20-bit unsigned.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_compand_curve_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_compand_curve_config</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_compand_curve_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>Rockchip ISP1 Companding parameters (expand and compression curves)</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_compand_curve_config {
    __u8 px[RKISP1_CIF_ISP_COMPAND_NUM_POINTS];
    __u32 x[RKISP1_CIF_ISP_COMPAND_NUM_POINTS];
    __u32 y[RKISP1_CIF_ISP_COMPAND_NUM_POINTS];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">px</span></code></dt><dd><p>Compand curve x-values. Each value stores the distance from the
previous x-value, expressed as log2 of the distance on 5 bits.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">x</span></code></dt><dd><p>Compand curve x-values. The functionality of these parameters are
unknown due to do a lack of hardware documentation, but these are left
here for future compatibility purposes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">y</span></code></dt><dd><p>Compand curve y-values</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_awb_meas">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_awb_meas</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_awb_meas" title="Link to this definition">¶</a><br /></dt>
<dd><p>AWB measured values</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_awb_meas {
    __u32 cnt;
    __u8 mean_y_or_g;
    __u8 mean_cb_or_b;
    __u8 mean_cr_or_r;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">cnt</span></code></dt><dd><p>White pixel count, number of “white pixels” found during last
measurement</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mean_y_or_g</span></code></dt><dd><p>Mean value of Y within window and frames,
Green if RGB is selected.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mean_cb_or_b</span></code></dt><dd><p>Mean value of Cb within window and frames,
Blue if RGB is selected.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mean_cr_or_r</span></code></dt><dd><p>Mean value of Cr within window and frames,
Red if RGB is selected.</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_awb_stat">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_awb_stat</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_awb_stat" title="Link to this definition">¶</a><br /></dt>
<dd><p>statistics automatic white balance data</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_awb_stat {
    struct rkisp1_cif_isp_awb_meas awb_mean[RKISP1_CIF_ISP_AWB_MAX_GRID];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">awb_mean</span></code></dt><dd><p>Mean measured data</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_bls_meas_val">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_bls_meas_val</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_bls_meas_val" title="Link to this definition">¶</a><br /></dt>
<dd><p>BLS measured values</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_bls_meas_val {
    __u16 meas_r;
    __u16 meas_gr;
    __u16 meas_gb;
    __u16 meas_b;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">meas_r</span></code></dt><dd><p>Mean measured value for Bayer pattern R</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">meas_gr</span></code></dt><dd><p>Mean measured value for Bayer pattern Gr</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">meas_gb</span></code></dt><dd><p>Mean measured value for Bayer pattern Gb</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">meas_b</span></code></dt><dd><p>Mean measured value for Bayer pattern B</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_ae_stat">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_ae_stat</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_ae_stat" title="Link to this definition">¶</a><br /></dt>
<dd><p>statistics auto exposure data</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_ae_stat {
    __u8 exp_mean[RKISP1_CIF_ISP_AE_MEAN_MAX];
    struct rkisp1_cif_isp_bls_meas_val bls_val;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">exp_mean</span></code></dt><dd><p>Mean luminance value of block xx</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bls_val</span></code></dt><dd><p>BLS measured values</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>The number of entries of <strong>exp_mean</strong> depends on the hardware revision
as is reported by the hw_revision field of the struct media_device_info
that is returned by ioctl MEDIA_IOC_DEVICE_INFO.</p>
<p>V10 has RKISP1_CIF_ISP_AE_MEAN_MAX_V10 entries, V12 has
RKISP1_CIF_ISP_AE_MEAN_MAX_V12 entries. RKISP1_CIF_ISP_AE_MEAN_MAX is equal
to the maximum of the two.</p>
<p>Image is divided into 5x5 blocks on V10 and 9x9 blocks on V12.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_af_meas_val">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_af_meas_val</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_af_meas_val" title="Link to this definition">¶</a><br /></dt>
<dd><p>AF measured values</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_af_meas_val {
    __u32 sum;
    __u32 lum;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">sum</span></code></dt><dd><p>sharpness value</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">lum</span></code></dt><dd><p>luminance value</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_af_stat">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_af_stat</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_af_stat" title="Link to this definition">¶</a><br /></dt>
<dd><p>statistics auto focus data</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_af_stat {
    struct rkisp1_cif_isp_af_meas_val window[RKISP1_CIF_ISP_AFM_MAX_WINDOWS];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">window</span></code></dt><dd><p>AF measured value of window x</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>The module measures the sharpness in 3 windows of selectable size via
register settings(ISP_AFM_*_A/B/C)</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_hist_stat">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_hist_stat</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_hist_stat" title="Link to this definition">¶</a><br /></dt>
<dd><p>statistics histogram data</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_hist_stat {
    __u32 hist_bins[RKISP1_CIF_ISP_HIST_BIN_N_MAX];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">hist_bins</span></code></dt><dd><p>measured bin counters. Each bin is a 20 bits unsigned fixed point
type. Bits 0-4 are the fractional part and bits 5-19 are the
integer part.</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>The window of the measurements area is divided to 5x5 sub-windows for
V10 and to 9x9 sub-windows for V12. The histogram is then computed for each
sub-window independently and the final result is a weighted average of the
histogram measurements on all sub-windows. The window of the measurements
area and the weight of each sub-window are configurable using
struct <strong>rkisp1_cif_isp_hst_config</strong>.</p>
<p>The histogram contains 16 bins in V10 and 32 bins in V12.</p>
<p>The number of entries of <strong>hist_bins</strong> depends on the hardware revision
as is reported by the hw_revision field of the struct media_device_info
that is returned by ioctl MEDIA_IOC_DEVICE_INFO.</p>
<p>V10 has RKISP1_CIF_ISP_HIST_BIN_N_MAX_V10 entries, V12 has
RKISP1_CIF_ISP_HIST_BIN_N_MAX_V12 entries. RKISP1_CIF_ISP_HIST_BIN_N_MAX is
equal to the maximum of the two.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_cif_isp_stat">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_cif_isp_stat</span></span></span><a class="headerlink" href="#c.rkisp1_cif_isp_stat" title="Link to this definition">¶</a><br /></dt>
<dd><p>Rockchip ISP1 Statistics Data</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_cif_isp_stat {
    struct rkisp1_cif_isp_awb_stat awb;
    struct rkisp1_cif_isp_ae_stat ae;
    struct rkisp1_cif_isp_af_stat af;
    struct rkisp1_cif_isp_hist_stat hist;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">awb</span></code></dt><dd><p>statistics data for automatic white balance</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ae</span></code></dt><dd><p>statistics data for auto exposure</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">af</span></code></dt><dd><p>statistics data for auto focus</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hist</span></code></dt><dd><p>statistics histogram data</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_stat_buffer">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_stat_buffer</span></span></span><a class="headerlink" href="#c.rkisp1_stat_buffer" title="Link to this definition">¶</a><br /></dt>
<dd><p>Rockchip ISP1 Statistics Meta Data</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_stat_buffer {
    __u32 meas_type;
    __u32 frame_id;
    struct rkisp1_cif_isp_stat params;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">meas_type</span></code></dt><dd><p>measurement types (RKISP1_CIF_ISP_STAT_* definitions)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">frame_id</span></code></dt><dd><p>frame ID for sync</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">params</span></code></dt><dd><p>statistics data</p>
</dd>
</dl>
</div>
<dl class="c enum">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_block_type">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_block_type</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_block_type" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params block type</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_BLS</span></code></dt><dd><p>Black level subtraction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_DPCC</span></code></dt><dd><p>Defect pixel cluster correction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_SDG</span></code></dt><dd><p>Sensor de-gamma</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_AWB_GAIN</span></code></dt><dd><p>Auto white balance gains</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_FLT</span></code></dt><dd><p>ISP filtering</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_BDM</span></code></dt><dd><p>Bayer de-mosaic</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_CTK</span></code></dt><dd><p>Cross-talk correction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_GOC</span></code></dt><dd><p>Gamma out correction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_DPF</span></code></dt><dd><p>De-noise pre-filter</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_DPF_STRENGTH</span></code></dt><dd><p>De-noise pre-filter strength</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_CPROC</span></code></dt><dd><p>Color processing</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_IE</span></code></dt><dd><p>Image effects</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_LSC</span></code></dt><dd><p>Lens shading correction</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_AWB_MEAS</span></code></dt><dd><p>Auto white balance statistics</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_HST_MEAS</span></code></dt><dd><p>Histogram statistics</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_AEC_MEAS</span></code></dt><dd><p>Auto exposure statistics</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_AFC_MEAS</span></code></dt><dd><p>Auto-focus statistics</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_COMPAND_BLS</span></code></dt><dd><p>BLS in the compand block</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_COMPAND_EXPAND</span></code></dt><dd><p>Companding expand curve</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_COMPAND_COMPRESS</span></code></dt><dd><p>Companding compress curve</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_block_header">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_block_header</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_block_header" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible parameters block header</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_block_header {
    __u16 type;
    __u16 flags;
    __u32 size;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">type</span></code></dt><dd><p>The parameters block type, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_type" title="rkisp1_ext_params_block_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_type</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">flags</span></code></dt><dd><p>A bitmask of block flags</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">size</span></code></dt><dd><p>Size (in bytes) of the parameters block, including this header</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>This structure represents the common part of all the ISP configuration
blocks. Each parameters block shall embed an instance of this structure type
as its first member, followed by the block-specific configuration data. The
driver inspects this common header to discern the block type and its size and
properly handle the block content by casting it to the correct block-specific
type.</p>
<p>The <strong>type</strong> field is one of the values enumerated by
<a class="reference internal" href="#c.rkisp1_ext_params_block_type" title="rkisp1_ext_params_block_type"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_type</span></code></a> and specifies how the data should be
interpreted by the driver. The <strong>size</strong> field specifies the size of the
parameters block and is used by the driver for validation purposes.</p>
<p>The <strong>flags</strong> field is a bitmask of per-block flags RKISP1_EXT_PARAMS_FL_*.</p>
<p>When userspace wants to configure and enable an ISP block it shall fully
populate the block configuration and set the
RKISP1_EXT_PARAMS_FL_BLOCK_ENABLE bit in the <strong>flags</strong> field.</p>
<p>When userspace simply wants to disable an ISP block the
RKISP1_EXT_PARAMS_FL_BLOCK_DISABLE bit should be set in <strong>flags</strong> field. The
driver ignores the rest of the block configuration structure in this case.</p>
<p>If a new configuration of an ISP block has to be applied userspace shall
fully populate the ISP block configuration and omit setting the
RKISP1_EXT_PARAMS_FL_BLOCK_ENABLE and RKISP1_EXT_PARAMS_FL_BLOCK_DISABLE bits
in the <strong>flags</strong> field.</p>
<p>Setting both the RKISP1_EXT_PARAMS_FL_BLOCK_ENABLE and
RKISP1_EXT_PARAMS_FL_BLOCK_DISABLE bits in the <strong>flags</strong> field is not allowed
and not accepted by the driver.</p>
<p>Userspace is responsible for correctly populating the parameters block header
fields (<strong>type</strong>, <strong>flags</strong> and <strong>size</strong>) and the block-specific parameters.</p>
<p>For example:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">populate_bls</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">rkisp1_ext_params_block_header</span><span class="w"> </span><span class="o">*</span><span class="n">block</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">struct</span><span class="w"> </span><span class="nc">rkisp1_ext_params_bls_config</span><span class="w"> </span><span class="o">*</span><span class="n">bls</span><span class="w"> </span><span class="o">=</span>
<span class="w">                </span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">rkisp1_ext_params_bls_config</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">block</span><span class="p">;</span>

<span class="w">        </span><span class="n">bls</span><span class="o">-&gt;</span><span class="n">header</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RKISP1_EXT_PARAMS_BLOCK_ID_BLS</span><span class="p">;</span>
<span class="w">        </span><span class="n">bls</span><span class="o">-&gt;</span><span class="n">header</span><span class="p">.</span><span class="n">flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RKISP1_EXT_PARAMS_FL_BLOCK_ENABLE</span><span class="p">;</span>
<span class="w">        </span><span class="n">bls</span><span class="o">-&gt;</span><span class="n">header</span><span class="p">.</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">bls</span><span class="p">);</span>

<span class="w">        </span><span class="n">bls</span><span class="o">-&gt;</span><span class="n">config</span><span class="p">.</span><span class="n">enable_auto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">bls</span><span class="o">-&gt;</span><span class="n">config</span><span class="p">.</span><span class="n">fixed_val</span><span class="p">.</span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">blackLevelRed_</span><span class="p">;</span>
<span class="w">        </span><span class="n">bls</span><span class="o">-&gt;</span><span class="n">config</span><span class="p">.</span><span class="n">fixed_val</span><span class="p">.</span><span class="n">gr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">blackLevelGreenR_</span><span class="p">;</span>
<span class="w">        </span><span class="n">bls</span><span class="o">-&gt;</span><span class="n">config</span><span class="p">.</span><span class="n">fixed_val</span><span class="p">.</span><span class="n">gb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">blackLevelGreenB_</span><span class="p">;</span>
<span class="w">        </span><span class="n">bls</span><span class="o">-&gt;</span><span class="n">config</span><span class="p">.</span><span class="n">fixed_val</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">blackLevelBlue_</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_bls_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_bls_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_bls_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params BLS config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_bls_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_bls_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Black Level Subtraction configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_bls_config" title="rkisp1_cif_isp_bls_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_bls_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Black Level Subtraction configuration block.
Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_BLS</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_dpcc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_dpcc_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_dpcc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params DPCC config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_dpcc_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_dpcc_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Defective Pixel Cluster Correction configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_dpcc_config" title="rkisp1_cif_isp_dpcc_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_dpcc_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Defective Pixel Cluster Correction configuration
block. Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_DPCC</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_sdg_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_sdg_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_sdg_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params SDG config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_sdg_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_sdg_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Sensor Degamma configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_sdg_config" title="rkisp1_cif_isp_sdg_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_sdg_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Sensor Degamma configuration block. Identified
by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_SDG</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_lsc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_lsc_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_lsc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params LSC config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_lsc_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_lsc_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Lens Shading Correction configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_lsc_config" title="rkisp1_cif_isp_lsc_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_lsc_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Lens Shading Correction configuration block.
Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_LSC</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_awb_gain_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_awb_gain_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_awb_gain_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params AWB gain config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_awb_gain_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_awb_gain_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Auto-White Balance Gains configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_awb_gain_config" title="rkisp1_cif_isp_awb_gain_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_awb_gain_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Auto-White Balance Gains configuration block.
Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_AWB_GAIN</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_flt_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_flt_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_flt_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params FLT config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_flt_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_flt_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Filter configuration, see <a class="reference internal" href="#c.rkisp1_cif_isp_flt_config" title="rkisp1_cif_isp_flt_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_flt_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Filter configuration block. Identified by
<code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_FLT</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_bdm_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_bdm_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_bdm_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params BDM config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_bdm_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_bdm_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Demosaicing configuration, see <a class="reference internal" href="#c.rkisp1_cif_isp_bdm_config" title="rkisp1_cif_isp_bdm_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_bdm_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Demosaicing configuration block. Identified by
<code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_BDM</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_ctk_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_ctk_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_ctk_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params CTK config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_ctk_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_ctk_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Cross-Talk configuration, see <a class="reference internal" href="#c.rkisp1_cif_isp_ctk_config" title="rkisp1_cif_isp_ctk_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_ctk_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Cross-Talk configuration block. Identified by
<code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_CTK</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_goc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_goc_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_goc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params GOC config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_goc_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_goc_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Gamma-Out configuration, see <a class="reference internal" href="#c.rkisp1_cif_isp_goc_config" title="rkisp1_cif_isp_goc_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_goc_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Gamma-Out configuration block. Identified by
<code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_GOC</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_dpf_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_dpf_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_dpf_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params DPF config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_dpf_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_dpf_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>De-noise Pre-Filter configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_dpf_config" title="rkisp1_cif_isp_dpf_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_dpf_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters De-noise Pre-Filter configuration block.
Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_DPF</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_dpf_strength_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_dpf_strength_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_dpf_strength_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params DPF strength config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_dpf_strength_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_dpf_strength_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>De-noise Pre-Filter strength configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_dpf_strength_config" title="rkisp1_cif_isp_dpf_strength_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_dpf_strength_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters De-noise Pre-Filter strength configuration
block. Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_DPF_STRENGTH</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_cproc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_cproc_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_cproc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params CPROC config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_cproc_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_cproc_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Color processing configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_cproc_config" title="rkisp1_cif_isp_cproc_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_cproc_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Color Processing configuration block.
Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_CPROC</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_ie_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_ie_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_ie_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params IE config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_ie_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_ie_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Image Effect configuration, see <a class="reference internal" href="#c.rkisp1_cif_isp_ie_config" title="rkisp1_cif_isp_ie_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_ie_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Image Effect configuration block. Identified by
<code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_IE</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_awb_meas_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_awb_meas_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_awb_meas_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params AWB Meas config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_awb_meas_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_awb_meas_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Auto-White Balance measure configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_awb_meas_config" title="rkisp1_cif_isp_awb_meas_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_awb_meas_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Auto-White Balance Measurement configuration
block. Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_AWB_MEAS</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_hst_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_hst_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_hst_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params Histogram config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_hst_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_hst_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Histogram statistics configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_hst_config" title="rkisp1_cif_isp_hst_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_hst_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Histogram statistics configuration block.
Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_HST_MEAS</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_aec_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_aec_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_aec_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params AEC config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_aec_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_aec_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Auto-Exposure statistics configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_aec_config" title="rkisp1_cif_isp_aec_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_aec_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Auto-Exposure statistics configuration block.
Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_AEC_MEAS</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_afc_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_afc_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_afc_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params AFC config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_afc_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_afc_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Auto-Focus statistics configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_afc_config" title="rkisp1_cif_isp_afc_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_afc_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Auto-Focus statistics configuration block.
Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_AFC_MEAS</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_compand_bls_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_compand_bls_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_compand_bls_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params Compand BLS config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_compand_bls_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_compand_bls_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Companding BLS configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_compand_bls_config" title="rkisp1_cif_isp_compand_bls_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_compand_bls_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Companding configuration block (black level
subtraction). Identified by <code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_COMPAND_BLS</span></code>.</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_compand_curve_config">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_compand_curve_config</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_compand_curve_config" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible params Compand curve config</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_compand_curve_config {
    struct rkisp1_ext_params_block_header header;
    struct rkisp1_cif_isp_compand_curve_config config;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">header</span></code></dt><dd><p>The RkISP1 extensible parameters header, see
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">config</span></code></dt><dd><p>Companding curve configuration, see
<a class="reference internal" href="#c.rkisp1_cif_isp_compand_curve_config" title="rkisp1_cif_isp_compand_curve_config"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_cif_isp_compand_curve_config</span></code></a></p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>RkISP1 extensible parameters Companding configuration block (expand and
compression curves). Identified by
<code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_COMPAND_EXPAND</span></code> or
<code class="xref c c-type docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAMS_BLOCK_TYPE_COMPAND_COMPRESS</span></code>.</p>
<dl class="c enum">
<dt class="sig sig-object c" id="c.rksip1_ext_param_buffer_version">
<span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rksip1_ext_param_buffer_version</span></span></span><a class="headerlink" href="#c.rksip1_ext_param_buffer_version" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible parameters version</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Constants</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">RKISP1_EXT_PARAM_BUFFER_V1</span></code></dt><dd><p>First version of RkISP1 extensible parameters</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.rkisp1_ext_params_cfg">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rkisp1_ext_params_cfg</span></span></span><a class="headerlink" href="#c.rkisp1_ext_params_cfg" title="Link to this definition">¶</a><br /></dt>
<dd><p>RkISP1 extensible parameters configuration</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct rkisp1_ext_params_cfg {
    __u32 version;
    __u32 data_size;
    __u8 data[RKISP1_EXT_PARAMS_MAX_SIZE];
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">version</span></code></dt><dd><p>The RkISP1 extensible parameters buffer version, see
<a class="reference internal" href="#c.rksip1_ext_param_buffer_version" title="rksip1_ext_param_buffer_version"><code class="xref c c-type docutils literal notranslate"><span class="pre">rksip1_ext_param_buffer_version</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">data_size</span></code></dt><dd><p>The RkISP1 configuration data effective size, excluding this
header</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">data</span></code></dt><dd><p>The RkISP1 extensible configuration data blocks</p>
</dd>
</dl>
</div>
<p><strong>Description</strong></p>
<p>This struct contains the configuration parameters of the RkISP1 ISP
algorithms, serialized by userspace into a data buffer. Each configuration
parameter block is represented by a block-specific structure which contains a
<a class="reference internal" href="#c.rkisp1_ext_params_block_header" title="rkisp1_ext_params_block_header"><code class="xref c c-type docutils literal notranslate"><span class="pre">rkisp1_ext_params_block_header</span></code></a> entry as first member. Userspace
populates the <strong>data</strong> buffer with configuration parameters for the blocks that
it intends to configure. As a consequence, the data buffer effective size
changes according to the number of ISP blocks that userspace intends to
configure and is set by userspace in the <strong>data_size</strong> field.</p>
<p>The parameters buffer is versioned by the <strong>version</strong> field to allow modifying
and extending its definition. Userspace shall populate the <strong>version</strong> field to
inform the driver about the version it intends to use. The driver will parse
and handle the <strong>data</strong> buffer according to the data layout specific to the
indicated version and return an error if the desired version is not
supported.</p>
<p>Currently the single RKISP1_EXT_PARAM_BUFFER_V1 version is supported.
When a new format version will be added, a mechanism for userspace to query
the supported format versions will be implemented in the form of a read-only
V4L2 control. If such control is not available, userspace should assume only
RKISP1_EXT_PARAM_BUFFER_V1 is supported by the driver.</p>
<p>For each ISP block that userspace wants to configure, a block-specific
structure is appended to the <strong>data</strong> buffer, one after the other without gaps
in between nor overlaps. Userspace shall populate the <strong>data_size</strong> field with
the effective size, in bytes, of the <strong>data</strong> buffer.</p>
<p>The expected memory layout of the parameters buffer is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>+-------------------- struct rkisp1_ext_params_cfg -------------------+
| version = RKISP_EXT_PARAMS_BUFFER_V1;                               |
| data_size = sizeof(struct rkisp1_ext_params_bls_config)             |
|           + sizeof(struct rkisp1_ext_params_dpcc_config);           |
| +------------------------- data  ---------------------------------+ |
| | +------------- struct rkisp1_ext_params_bls_config -----------+ | |
| | | +-------- struct rkisp1_ext_params_block_header  ---------+ | | |
| | | | type = RKISP1_EXT_PARAMS_BLOCK_TYPE_BLS;                | | | |
| | | | flags = RKISP1_EXT_PARAMS_FL_BLOCK_ENABLE;              | | | |
| | | | size = sizeof(struct rkisp1_ext_params_bls_config);     | | | |
| | | +---------------------------------------------------------+ | | |
| | | +---------- struct rkisp1_cif_isp_bls_config -------------+ | | |
| | | | enable_auto = 0;                                        | | | |
| | | | fixed_val.r = 256;                                      | | | |
| | | | fixed_val.gr = 256;                                     | | | |
| | | | fixed_val.gb = 256;                                     | | | |
| | | | fixed_val.b = 256;                                      | | | |
| | | +---------------------------------------------------------+ | | |
| | +------------ struct rkisp1_ext_params_dpcc_config -----------+ | |
| | | +-------- struct rkisp1_ext_params_block_header  ---------+ | | |
| | | | type = RKISP1_EXT_PARAMS_BLOCK_TYPE_DPCC;               | | | |
| | | | flags = RKISP1_EXT_PARAMS_FL_BLOCK_ENABLE;              | | | |
| | | | size = sizeof(struct rkisp1_ext_params_dpcc_config);    | | | |
| | | +---------------------------------------------------------+ | | |
| | | +---------- struct rkisp1_cif_isp_dpcc_config ------------+ | | |
| | | | mode = RKISP1_CIF_ISP_DPCC_MODE_STAGE1_ENABLE;          | | | |
| | | | output_mode =                                           | | | |
| | | |   RKISP1_CIF_ISP_DPCC_OUTPUT_MODE_STAGE1_INCL_G_CENTER; | | | |
| | | | set_use = ... ;                                         | | | |
| | | | ...  = ... ;                                            | | | |
| | | +---------------------------------------------------------+ | | |
| | +-------------------------------------------------------------+ | |
| +-----------------------------------------------------------------+ |
+---------------------------------------------------------------------+
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;The kernel development community.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/userspace-api/media/v4l/metafmt-rkisp1.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>